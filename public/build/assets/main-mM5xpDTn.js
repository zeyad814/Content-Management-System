var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ml(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Da={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var jl;function eu(){return jl||(jl=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:xd,function(e,n){var i=[],r=Object.getPrototypeOf,l=i.slice,c=i.flat?function(s){return i.flat.call(s)}:function(s){return i.concat.apply([],s)},d=i.push,p=i.indexOf,v={},_=v.toString,I=v.hasOwnProperty,D=I.toString,O=D.call(Object),T={},x=function(o){return typeof o=="function"&&typeof o.nodeType!="number"&&typeof o.item!="function"},P=function(o){return o!=null&&o===o.window},G=e.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function H(s,o,u){u=u||G;var h,m,y=u.createElement("script");if(y.text=s,o)for(h in M)m=o[h]||o.getAttribute&&o.getAttribute(h),m&&y.setAttribute(h,m);u.head.appendChild(y).parentNode.removeChild(y)}function z(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?v[_.call(s)]||"object":typeof s}var J="3.7.1",ee=/HTML$/i,f=function(s,o){return new f.fn.init(s,o)};f.fn=f.prototype={jquery:J,constructor:f,length:0,toArray:function(){return l.call(this)},get:function(s){return s==null?l.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var o=f.merge(this.constructor(),s);return o.prevObject=this,o},each:function(s){return f.each(this,s)},map:function(s){return this.pushStack(f.map(this,function(o,u){return s.call(o,u,o)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(s,o){return(o+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(s,o){return o%2}))},eq:function(s){var o=this.length,u=+s+(s<0?o:0);return this.pushStack(u>=0&&u<o?[this[u]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:i.sort,splice:i.splice},f.extend=f.fn.extend=function(){var s,o,u,h,m,y,b=arguments[0]||{},R=1,A=arguments.length,F=!1;for(typeof b=="boolean"&&(F=b,b=arguments[R]||{},R++),typeof b!="object"&&!x(b)&&(b={}),R===A&&(b=this,R--);R<A;R++)if((s=arguments[R])!=null)for(o in s)h=s[o],!(o==="__proto__"||b===h)&&(F&&h&&(f.isPlainObject(h)||(m=Array.isArray(h)))?(u=b[o],m&&!Array.isArray(u)?y=[]:!m&&!f.isPlainObject(u)?y={}:y=u,m=!1,b[o]=f.extend(F,y,h)):h!==void 0&&(b[o]=h));return b},f.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var o,u;return!s||_.call(s)!=="[object Object]"?!1:(o=r(s),o?(u=I.call(o,"constructor")&&o.constructor,typeof u=="function"&&D.call(u)===O):!0)},isEmptyObject:function(s){var o;for(o in s)return!1;return!0},globalEval:function(s,o,u){H(s,{nonce:o&&o.nonce},u)},each:function(s,o){var u,h=0;if(te(s))for(u=s.length;h<u&&o.call(s[h],h,s[h])!==!1;h++);else for(h in s)if(o.call(s[h],h,s[h])===!1)break;return s},text:function(s){var o,u="",h=0,m=s.nodeType;if(!m)for(;o=s[h++];)u+=f.text(o);return m===1||m===11?s.textContent:m===9?s.documentElement.textContent:m===3||m===4?s.nodeValue:u},makeArray:function(s,o){var u=o||[];return s!=null&&(te(Object(s))?f.merge(u,typeof s=="string"?[s]:s):d.call(u,s)),u},inArray:function(s,o,u){return o==null?-1:p.call(o,s,u)},isXMLDoc:function(s){var o=s&&s.namespaceURI,u=s&&(s.ownerDocument||s).documentElement;return!ee.test(o||u&&u.nodeName||"HTML")},merge:function(s,o){for(var u=+o.length,h=0,m=s.length;h<u;h++)s[m++]=o[h];return s.length=m,s},grep:function(s,o,u){for(var h,m=[],y=0,b=s.length,R=!u;y<b;y++)h=!o(s[y],y),h!==R&&m.push(s[y]);return m},map:function(s,o,u){var h,m,y=0,b=[];if(te(s))for(h=s.length;y<h;y++)m=o(s[y],y,u),m!=null&&b.push(m);else for(y in s)m=o(s[y],y,u),m!=null&&b.push(m);return c(b)},guid:1,support:T}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=i[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,o){v["[object "+o+"]"]=o.toLowerCase()});function te(s){var o=!!s&&"length"in s&&s.length,u=z(s);return x(s)||P(s)?!1:u==="array"||o===0||typeof o=="number"&&o>0&&o-1 in s}function U(s,o){return s.nodeName&&s.nodeName.toLowerCase()===o.toLowerCase()}var Y=i.pop,ae=i.sort,he=i.splice,le="[\\x20\\t\\r\\n\\f]",ne=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g");f.contains=function(s,o){var u=o&&o.parentNode;return s===u||!!(u&&u.nodeType===1&&(s.contains?s.contains(u):s.compareDocumentPosition&&s.compareDocumentPosition(u)&16))};var xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Q(s,o){return o?s==="\0"?"ï¿½":s.slice(0,-1)+"\\"+s.charCodeAt(s.length-1).toString(16)+" ":"\\"+s}f.escapeSelector=function(s){return(s+"").replace(xe,Q)};var se=G,N=d;(function(){var s,o,u,h,m,y=N,b,R,A,F,j,K=f.expando,W=0,ce=0,De=Hs(),Xe=Hs(),Be=Hs(),Rt=Hs(),Et=function(S,L){return S===L&&(m=!0),0},mn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",dn="(?:\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",qe="\\["+le+"*("+dn+")(?:"+le+"*([*^$|!~]?=)"+le+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+dn+"))|)"+le+"*\\]",xi=":("+dn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+qe+")*)|.*)\\)|)",Ue=new RegExp(le+"+","g"),pt=new RegExp("^"+le+"*,"+le+"*"),zi=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),Bs=new RegExp(le+"|>"),yn=new RegExp(xi),Vi=new RegExp("^"+dn+"$"),vn={ID:new RegExp("^#("+dn+")"),CLASS:new RegExp("^\\.("+dn+")"),TAG:new RegExp("^("+dn+"|[*])"),ATTR:new RegExp("^"+qe),PSEUDO:new RegExp("^"+xi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+mn+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},si=/^(?:input|select|textarea|button)$/i,ri=/^h\d$/i,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Rr=/[+~]/,Hn=new RegExp("\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\([^\\r\\n\\f])","g"),Un=function(S,L){var V="0x"+S.slice(1)-65536;return L||(V<0?String.fromCharCode(V+65536):String.fromCharCode(V>>10|55296,V&1023|56320))},Ia=function(){zn()},_o=Dn(function(S){return S.disabled===!0&&U(S,"fieldset")},{dir:"parentNode",next:"legend"});function Sa(){try{return b.activeElement}catch{}}try{y.apply(i=l.call(se.childNodes),se.childNodes),i[se.childNodes.length].nodeType}catch{y={apply:function(L,V){N.apply(L,l.call(V))},call:function(L){N.apply(L,l.call(arguments,1))}}}function tt(S,L,V,q){var Z,ue,me,Te,ye,ze,Se,Re=L&&L.ownerDocument,He=L?L.nodeType:9;if(V=V||[],typeof S!="string"||!S||He!==1&&He!==9&&He!==11)return V;if(!q&&(zn(L),L=L||b,A)){if(He!==11&&(ye=_t.exec(S)))if(Z=ye[1]){if(He===9)if(me=L.getElementById(Z)){if(me.id===Z)return y.call(V,me),V}else return V;else if(Re&&(me=Re.getElementById(Z))&&tt.contains(L,me)&&me.id===Z)return y.call(V,me),V}else{if(ye[2])return y.apply(V,L.getElementsByTagName(S)),V;if((Z=ye[3])&&L.getElementsByClassName)return y.apply(V,L.getElementsByClassName(Z)),V}if(!Rt[S+" "]&&(!F||!F.test(S))){if(Se=S,Re=L,He===1&&(Bs.test(S)||zi.test(S))){for(Re=Rr.test(S)&&qi(L.parentNode)||L,(Re!=L||!T.scope)&&((Te=L.getAttribute("id"))?Te=f.escapeSelector(Te):L.setAttribute("id",Te=K)),ze=ls(S),ue=ze.length;ue--;)ze[ue]=(Te?"#"+Te:":scope")+" "+zs(ze[ue]);Se=ze.join(",")}try{return y.apply(V,Re.querySelectorAll(Se)),V}catch{Rt(S,!0)}finally{Te===K&&L.removeAttribute("id")}}}return wo(S.replace(ne,"$1"),L,V,q)}function Hs(){var S=[];function L(V,q){return S.push(V+" ")>o.cacheLength&&delete L[S.shift()],L[V+" "]=q}return L}function En(S){return S[K]=!0,S}function Wi(S){var L=b.createElement("fieldset");try{return!!S(L)}catch{return!1}finally{L.parentNode&&L.parentNode.removeChild(L),L=null}}function Pr(S){return function(L){return U(L,"input")&&L.type===S}}function Us(S){return function(L){return(U(L,"input")||U(L,"button"))&&L.type===S}}function Lr(S){return function(L){return"form"in L?L.parentNode&&L.disabled===!1?"label"in L?"label"in L.parentNode?L.parentNode.disabled===S:L.disabled===S:L.isDisabled===S||L.isDisabled!==!S&&_o(L)===S:L.disabled===S:"label"in L?L.disabled===S:!1}}function oi(S){return En(function(L){return L=+L,En(function(V,q){for(var Z,ue=S([],V.length,L),me=ue.length;me--;)V[Z=ue[me]]&&(V[Z]=!(q[Z]=V[Z]))})})}function qi(S){return S&&typeof S.getElementsByTagName<"u"&&S}function zn(S){var L,V=S?S.ownerDocument||S:se;return V==b||V.nodeType!==9||!V.documentElement||(b=V,R=b.documentElement,A=!f.isXMLDoc(b),j=R.matches||R.webkitMatchesSelector||R.msMatchesSelector,R.msMatchesSelector&&se!=b&&(L=b.defaultView)&&L.top!==L&&L.addEventListener("unload",Ia),T.getById=Wi(function(q){return R.appendChild(q).id=f.expando,!b.getElementsByName||!b.getElementsByName(f.expando).length}),T.disconnectedMatch=Wi(function(q){return j.call(q,"*")}),T.scope=Wi(function(){return b.querySelectorAll(":scope")}),T.cssHas=Wi(function(){try{return b.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(o.filter.ID=function(q){var Z=q.replace(Hn,Un);return function(ue){return ue.getAttribute("id")===Z}},o.find.ID=function(q,Z){if(typeof Z.getElementById<"u"&&A){var ue=Z.getElementById(q);return ue?[ue]:[]}}):(o.filter.ID=function(q){var Z=q.replace(Hn,Un);return function(ue){var me=typeof ue.getAttributeNode<"u"&&ue.getAttributeNode("id");return me&&me.value===Z}},o.find.ID=function(q,Z){if(typeof Z.getElementById<"u"&&A){var ue,me,Te,ye=Z.getElementById(q);if(ye){if(ue=ye.getAttributeNode("id"),ue&&ue.value===q)return[ye];for(Te=Z.getElementsByName(q),me=0;ye=Te[me++];)if(ue=ye.getAttributeNode("id"),ue&&ue.value===q)return[ye]}return[]}}),o.find.TAG=function(q,Z){return typeof Z.getElementsByTagName<"u"?Z.getElementsByTagName(q):Z.querySelectorAll(q)},o.find.CLASS=function(q,Z){if(typeof Z.getElementsByClassName<"u"&&A)return Z.getElementsByClassName(q)},F=[],Wi(function(q){var Z;R.appendChild(q).innerHTML="<a id='"+K+"' href='' disabled='disabled'></a><select id='"+K+"-\r\\' disabled='disabled'><option selected=''></option></select>",q.querySelectorAll("[selected]").length||F.push("\\["+le+"*(?:value|"+mn+")"),q.querySelectorAll("[id~="+K+"-]").length||F.push("~="),q.querySelectorAll("a#"+K+"+*").length||F.push(".#.+[+~]"),q.querySelectorAll(":checked").length||F.push(":checked"),Z=b.createElement("input"),Z.setAttribute("type","hidden"),q.appendChild(Z).setAttribute("name","D"),R.appendChild(q).disabled=!0,q.querySelectorAll(":disabled").length!==2&&F.push(":enabled",":disabled"),Z=b.createElement("input"),Z.setAttribute("name",""),q.appendChild(Z),q.querySelectorAll("[name='']").length||F.push("\\["+le+"*name"+le+"*="+le+`*(?:''|"")`)}),T.cssHas||F.push(":has"),F=F.length&&new RegExp(F.join("|")),Et=function(q,Z){if(q===Z)return m=!0,0;var ue=!q.compareDocumentPosition-!Z.compareDocumentPosition;return ue||(ue=(q.ownerDocument||q)==(Z.ownerDocument||Z)?q.compareDocumentPosition(Z):1,ue&1||!T.sortDetached&&Z.compareDocumentPosition(q)===ue?q===b||q.ownerDocument==se&&tt.contains(se,q)?-1:Z===b||Z.ownerDocument==se&&tt.contains(se,Z)?1:h?p.call(h,q)-p.call(h,Z):0:ue&4?-1:1)}),b}tt.matches=function(S,L){return tt(S,null,null,L)},tt.matchesSelector=function(S,L){if(zn(S),A&&!Rt[L+" "]&&(!F||!F.test(L)))try{var V=j.call(S,L);if(V||T.disconnectedMatch||S.document&&S.document.nodeType!==11)return V}catch{Rt(L,!0)}return tt(L,b,null,[S]).length>0},tt.contains=function(S,L){return(S.ownerDocument||S)!=b&&zn(S),f.contains(S,L)},tt.attr=function(S,L){(S.ownerDocument||S)!=b&&zn(S);var V=o.attrHandle[L.toLowerCase()],q=V&&I.call(o.attrHandle,L.toLowerCase())?V(S,L,!A):void 0;return q!==void 0?q:S.getAttribute(L)},tt.error=function(S){throw new Error("Syntax error, unrecognized expression: "+S)},f.uniqueSort=function(S){var L,V=[],q=0,Z=0;if(m=!T.sortStable,h=!T.sortStable&&l.call(S,0),ae.call(S,Et),m){for(;L=S[Z++];)L===S[Z]&&(q=V.push(Z));for(;q--;)he.call(S,V[q],1)}return h=null,S},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(l.apply(this)))},o=f.expr={cacheLength:50,createPseudo:En,match:vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(S){return S[1]=S[1].replace(Hn,Un),S[3]=(S[3]||S[4]||S[5]||"").replace(Hn,Un),S[2]==="~="&&(S[3]=" "+S[3]+" "),S.slice(0,4)},CHILD:function(S){return S[1]=S[1].toLowerCase(),S[1].slice(0,3)==="nth"?(S[3]||tt.error(S[0]),S[4]=+(S[4]?S[5]+(S[6]||1):2*(S[3]==="even"||S[3]==="odd")),S[5]=+(S[7]+S[8]||S[3]==="odd")):S[3]&&tt.error(S[0]),S},PSEUDO:function(S){var L,V=!S[6]&&S[2];return vn.CHILD.test(S[0])?null:(S[3]?S[2]=S[4]||S[5]||"":V&&yn.test(V)&&(L=ls(V,!0))&&(L=V.indexOf(")",V.length-L)-V.length)&&(S[0]=S[0].slice(0,L),S[2]=V.slice(0,L)),S.slice(0,3))}},filter:{TAG:function(S){var L=S.replace(Hn,Un).toLowerCase();return S==="*"?function(){return!0}:function(V){return U(V,L)}},CLASS:function(S){var L=De[S+" "];return L||(L=new RegExp("(^|"+le+")"+S+"("+le+"|$)"))&&De(S,function(V){return L.test(typeof V.className=="string"&&V.className||typeof V.getAttribute<"u"&&V.getAttribute("class")||"")})},ATTR:function(S,L,V){return function(q){var Z=tt.attr(q,S);return Z==null?L==="!=":L?(Z+="",L==="="?Z===V:L==="!="?Z!==V:L==="^="?V&&Z.indexOf(V)===0:L==="*="?V&&Z.indexOf(V)>-1:L==="$="?V&&Z.slice(-V.length)===V:L==="~="?(" "+Z.replace(Ue," ")+" ").indexOf(V)>-1:L==="|="?Z===V||Z.slice(0,V.length+1)===V+"-":!1):!0}},CHILD:function(S,L,V,q,Z){var ue=S.slice(0,3)!=="nth",me=S.slice(-4)!=="last",Te=L==="of-type";return q===1&&Z===0?function(ye){return!!ye.parentNode}:function(ye,ze,Se){var Re,He,Ie,ot,Zt,bt=ue!==me?"nextSibling":"previousSibling",E=ye.parentNode,a=Te&&ye.nodeName.toLowerCase(),g=!Se&&!Te,w=!1;if(E){if(ue){for(;bt;){for(Ie=ye;Ie=Ie[bt];)if(Te?U(Ie,a):Ie.nodeType===1)return!1;Zt=bt=S==="only"&&!Zt&&"nextSibling"}return!0}if(Zt=[me?E.firstChild:E.lastChild],me&&g){for(He=E[K]||(E[K]={}),Re=He[S]||[],ot=Re[0]===W&&Re[1],w=ot&&Re[2],Ie=ot&&E.childNodes[ot];Ie=++ot&&Ie&&Ie[bt]||(w=ot=0)||Zt.pop();)if(Ie.nodeType===1&&++w&&Ie===ye){He[S]=[W,ot,w];break}}else if(g&&(He=ye[K]||(ye[K]={}),Re=He[S]||[],ot=Re[0]===W&&Re[1],w=ot),w===!1)for(;(Ie=++ot&&Ie&&Ie[bt]||(w=ot=0)||Zt.pop())&&!((Te?U(Ie,a):Ie.nodeType===1)&&++w&&(g&&(He=Ie[K]||(Ie[K]={}),He[S]=[W,w]),Ie===ye)););return w-=Z,w===q||w%q===0&&w/q>=0}}},PSEUDO:function(S,L){var V,q=o.pseudos[S]||o.setFilters[S.toLowerCase()]||tt.error("unsupported pseudo: "+S);return q[K]?q(L):q.length>1?(V=[S,S,"",L],o.setFilters.hasOwnProperty(S.toLowerCase())?En(function(Z,ue){for(var me,Te=q(Z,L),ye=Te.length;ye--;)me=p.call(Z,Te[ye]),Z[me]=!(ue[me]=Te[ye])}):function(Z){return q(Z,0,V)}):q}},pseudos:{not:En(function(S){var L=[],V=[],q=Nr(S.replace(ne,"$1"));return q[K]?En(function(Z,ue,me,Te){for(var ye,ze=q(Z,null,Te,[]),Se=Z.length;Se--;)(ye=ze[Se])&&(Z[Se]=!(ue[Se]=ye))}):function(Z,ue,me){return L[0]=Z,q(L,null,me,V),L[0]=null,!V.pop()}}),has:En(function(S){return function(L){return tt(S,L).length>0}}),contains:En(function(S){return S=S.replace(Hn,Un),function(L){return(L.textContent||f.text(L)).indexOf(S)>-1}}),lang:En(function(S){return Vi.test(S||"")||tt.error("unsupported lang: "+S),S=S.replace(Hn,Un).toLowerCase(),function(L){var V;do if(V=A?L.lang:L.getAttribute("xml:lang")||L.getAttribute("lang"))return V=V.toLowerCase(),V===S||V.indexOf(S+"-")===0;while((L=L.parentNode)&&L.nodeType===1);return!1}}),target:function(S){var L=e.location&&e.location.hash;return L&&L.slice(1)===S.id},root:function(S){return S===R},focus:function(S){return S===Sa()&&b.hasFocus()&&!!(S.type||S.href||~S.tabIndex)},enabled:Lr(!1),disabled:Lr(!0),checked:function(S){return U(S,"input")&&!!S.checked||U(S,"option")&&!!S.selected},selected:function(S){return S.parentNode&&S.parentNode.selectedIndex,S.selected===!0},empty:function(S){for(S=S.firstChild;S;S=S.nextSibling)if(S.nodeType<6)return!1;return!0},parent:function(S){return!o.pseudos.empty(S)},header:function(S){return ri.test(S.nodeName)},input:function(S){return si.test(S.nodeName)},button:function(S){return U(S,"input")&&S.type==="button"||U(S,"button")},text:function(S){var L;return U(S,"input")&&S.type==="text"&&((L=S.getAttribute("type"))==null||L.toLowerCase()==="text")},first:oi(function(){return[0]}),last:oi(function(S,L){return[L-1]}),eq:oi(function(S,L,V){return[V<0?V+L:V]}),even:oi(function(S,L){for(var V=0;V<L;V+=2)S.push(V);return S}),odd:oi(function(S,L){for(var V=1;V<L;V+=2)S.push(V);return S}),lt:oi(function(S,L,V){var q;for(V<0?q=V+L:V>L?q=L:q=V;--q>=0;)S.push(q);return S}),gt:oi(function(S,L,V){for(var q=V<0?V+L:V;++q<L;)S.push(q);return S})}},o.pseudos.nth=o.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[s]=Pr(s);for(s in{submit:!0,reset:!0})o.pseudos[s]=Us(s);function bo(){}bo.prototype=o.filters=o.pseudos,o.setFilters=new bo;function ls(S,L){var V,q,Z,ue,me,Te,ye,ze=Xe[S+" "];if(ze)return L?0:ze.slice(0);for(me=S,Te=[],ye=o.preFilter;me;){(!V||(q=pt.exec(me)))&&(q&&(me=me.slice(q[0].length)||me),Te.push(Z=[])),V=!1,(q=zi.exec(me))&&(V=q.shift(),Z.push({value:V,type:q[0].replace(ne," ")}),me=me.slice(V.length));for(ue in o.filter)(q=vn[ue].exec(me))&&(!ye[ue]||(q=ye[ue](q)))&&(V=q.shift(),Z.push({value:V,type:ue,matches:q}),me=me.slice(V.length));if(!V)break}return L?me.length:me?tt.error(S):Xe(S,Te).slice(0)}function zs(S){for(var L=0,V=S.length,q="";L<V;L++)q+=S[L].value;return q}function Dn(S,L,V){var q=L.dir,Z=L.next,ue=Z||q,me=V&&ue==="parentNode",Te=ce++;return L.first?function(ye,ze,Se){for(;ye=ye[q];)if(ye.nodeType===1||me)return S(ye,ze,Se);return!1}:function(ye,ze,Se){var Re,He,Ie=[W,Te];if(Se){for(;ye=ye[q];)if((ye.nodeType===1||me)&&S(ye,ze,Se))return!0}else for(;ye=ye[q];)if(ye.nodeType===1||me)if(He=ye[K]||(ye[K]={}),Z&&U(ye,Z))ye=ye[q]||ye;else{if((Re=He[ue])&&Re[0]===W&&Re[1]===Te)return Ie[2]=Re[2];if(He[ue]=Ie,Ie[2]=S(ye,ze,Se))return!0}return!1}}function Mr(S){return S.length>1?function(L,V,q){for(var Z=S.length;Z--;)if(!S[Z](L,V,q))return!1;return!0}:S[0]}function xa(S,L,V){for(var q=0,Z=L.length;q<Z;q++)tt(S,L[q],V);return V}function Ci(S,L,V,q,Z){for(var ue,me=[],Te=0,ye=S.length,ze=L!=null;Te<ye;Te++)(ue=S[Te])&&(!V||V(ue,q,Z))&&(me.push(ue),ze&&L.push(Te));return me}function Vs(S,L,V,q,Z,ue){return q&&!q[K]&&(q=Vs(q)),Z&&!Z[K]&&(Z=Vs(Z,ue)),En(function(me,Te,ye,ze){var Se,Re,He,Ie,ot=[],Zt=[],bt=Te.length,E=me||xa(L||"*",ye.nodeType?[ye]:ye,[]),a=S&&(me||!L)?Ci(E,ot,S,ye,ze):E;if(V?(Ie=Z||(me?S:bt||q)?[]:Te,V(a,Ie,ye,ze)):Ie=a,q)for(Se=Ci(Ie,Zt),q(Se,[],ye,ze),Re=Se.length;Re--;)(He=Se[Re])&&(Ie[Zt[Re]]=!(a[Zt[Re]]=He));if(me){if(Z||S){if(Z){for(Se=[],Re=Ie.length;Re--;)(He=Ie[Re])&&Se.push(a[Re]=He);Z(null,Ie=[],Se,ze)}for(Re=Ie.length;Re--;)(He=Ie[Re])&&(Se=Z?p.call(me,He):ot[Re])>-1&&(me[Se]=!(Te[Se]=He))}}else Ie=Ci(Ie===Te?Ie.splice(bt,Ie.length):Ie),Z?Z(null,Te,Ie,ze):y.apply(Te,Ie)})}function Ai(S){for(var L,V,q,Z=S.length,ue=o.relative[S[0].type],me=ue||o.relative[" "],Te=ue?1:0,ye=Dn(function(Re){return Re===L},me,!0),ze=Dn(function(Re){return p.call(L,Re)>-1},me,!0),Se=[function(Re,He,Ie){var ot=!ue&&(Ie||He!=u)||((L=He).nodeType?ye(Re,He,Ie):ze(Re,He,Ie));return L=null,ot}];Te<Z;Te++)if(V=o.relative[S[Te].type])Se=[Dn(Mr(Se),V)];else{if(V=o.filter[S[Te].type].apply(null,S[Te].matches),V[K]){for(q=++Te;q<Z&&!o.relative[S[q].type];q++);return Vs(Te>1&&Mr(Se),Te>1&&zs(S.slice(0,Te-1).concat({value:S[Te-2].type===" "?"*":""})).replace(ne,"$1"),V,Te<q&&Ai(S.slice(Te,q)),q<Z&&Ai(S=S.slice(q)),q<Z&&zs(S))}Se.push(V)}return Mr(Se)}function To(S,L){var V=L.length>0,q=S.length>0,Z=function(ue,me,Te,ye,ze){var Se,Re,He,Ie=0,ot="0",Zt=ue&&[],bt=[],E=u,a=ue||q&&o.find.TAG("*",ze),g=W+=E==null?1:Math.random()||.1,w=a.length;for(ze&&(u=me==b||me||ze);ot!==w&&(Se=a[ot])!=null;ot++){if(q&&Se){for(Re=0,!me&&Se.ownerDocument!=b&&(zn(Se),Te=!A);He=S[Re++];)if(He(Se,me||b,Te)){y.call(ye,Se);break}ze&&(W=g)}V&&((Se=!He&&Se)&&Ie--,ue&&Zt.push(Se))}if(Ie+=ot,V&&ot!==Ie){for(Re=0;He=L[Re++];)He(Zt,bt,me,Te);if(ue){if(Ie>0)for(;ot--;)Zt[ot]||bt[ot]||(bt[ot]=Y.call(ye));bt=Ci(bt)}y.apply(ye,bt),ze&&!ue&&bt.length>0&&Ie+L.length>1&&f.uniqueSort(ye)}return ze&&(W=g,u=E),Zt};return V?En(Z):Z}function Nr(S,L){var V,q=[],Z=[],ue=Be[S+" "];if(!ue){for(L||(L=ls(S)),V=L.length;V--;)ue=Ai(L[V]),ue[K]?q.push(ue):Z.push(ue);ue=Be(S,To(Z,q)),ue.selector=S}return ue}function wo(S,L,V,q){var Z,ue,me,Te,ye,ze=typeof S=="function"&&S,Se=!q&&ls(S=ze.selector||S);if(V=V||[],Se.length===1){if(ue=Se[0]=Se[0].slice(0),ue.length>2&&(me=ue[0]).type==="ID"&&L.nodeType===9&&A&&o.relative[ue[1].type]){if(L=(o.find.ID(me.matches[0].replace(Hn,Un),L)||[])[0],L)ze&&(L=L.parentNode);else return V;S=S.slice(ue.shift().value.length)}for(Z=vn.needsContext.test(S)?0:ue.length;Z--&&(me=ue[Z],!o.relative[Te=me.type]);)if((ye=o.find[Te])&&(q=ye(me.matches[0].replace(Hn,Un),Rr.test(ue[0].type)&&qi(L.parentNode)||L))){if(ue.splice(Z,1),S=q.length&&zs(ue),!S)return y.apply(V,q),V;break}}return(ze||Nr(S,Se))(q,L,!A,V,!L||Rr.test(S)&&qi(L.parentNode)||L),V}T.sortStable=K.split("").sort(Et).join("")===K,zn(),T.sortDetached=Wi(function(S){return S.compareDocumentPosition(b.createElement("fieldset"))&1}),f.find=tt,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,tt.compile=Nr,tt.select=wo,tt.setDocument=zn,tt.tokenize=ls,tt.escape=f.escapeSelector,tt.getText=f.text,tt.isXML=f.isXMLDoc,tt.selectors=f.expr,tt.support=f.support,tt.uniqueSort=f.uniqueSort})();var C=function(s,o,u){for(var h=[],m=u!==void 0;(s=s[o])&&s.nodeType!==9;)if(s.nodeType===1){if(m&&f(s).is(u))break;h.push(s)}return h},ie=function(s,o){for(var u=[];s;s=s.nextSibling)s.nodeType===1&&s!==o&&u.push(s);return u},de=f.expr.match.needsContext,ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function it(s,o,u){return x(o)?f.grep(s,function(h,m){return!!o.call(h,m,h)!==u}):o.nodeType?f.grep(s,function(h){return h===o!==u}):typeof o!="string"?f.grep(s,function(h){return p.call(o,h)>-1!==u}):f.filter(o,s,u)}f.filter=function(s,o,u){var h=o[0];return u&&(s=":not("+s+")"),o.length===1&&h.nodeType===1?f.find.matchesSelector(h,s)?[h]:[]:f.find.matches(s,f.grep(o,function(m){return m.nodeType===1}))},f.fn.extend({find:function(s){var o,u,h=this.length,m=this;if(typeof s!="string")return this.pushStack(f(s).filter(function(){for(o=0;o<h;o++)if(f.contains(m[o],this))return!0}));for(u=this.pushStack([]),o=0;o<h;o++)f.find(s,m[o],u);return h>1?f.uniqueSort(u):u},filter:function(s){return this.pushStack(it(this,s||[],!1))},not:function(s){return this.pushStack(it(this,s||[],!0))},is:function(s){return!!it(this,typeof s=="string"&&de.test(s)?f(s):s||[],!1).length}});var et,Yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=f.fn.init=function(s,o,u){var h,m;if(!s)return this;if(u=u||et,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?h=[null,s,null]:h=Yt.exec(s),h&&(h[1]||!o))if(h[1]){if(o=o instanceof f?o[0]:o,f.merge(this,f.parseHTML(h[1],o&&o.nodeType?o.ownerDocument||o:G,!0)),ge.test(h[1])&&f.isPlainObject(o))for(h in o)x(this[h])?this[h](o[h]):this.attr(h,o[h]);return this}else return m=G.getElementById(h[2]),m&&(this[0]=m,this.length=1),this;else return!o||o.jquery?(o||u).find(s):this.constructor(o).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(x(s))return u.ready!==void 0?u.ready(s):s(f)}return f.makeArray(s,this)};Ce.prototype=f.fn,et=f(G);var ft=/^(?:parents|prev(?:Until|All))/,Nt={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(s){var o=f(s,this),u=o.length;return this.filter(function(){for(var h=0;h<u;h++)if(f.contains(this,o[h]))return!0})},closest:function(s,o){var u,h=0,m=this.length,y=[],b=typeof s!="string"&&f(s);if(!de.test(s)){for(;h<m;h++)for(u=this[h];u&&u!==o;u=u.parentNode)if(u.nodeType<11&&(b?b.index(u)>-1:u.nodeType===1&&f.find.matchesSelector(u,s))){y.push(u);break}}return this.pushStack(y.length>1?f.uniqueSort(y):y)},index:function(s){return s?typeof s=="string"?p.call(f(s),this[0]):p.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,o){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(s,o))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function cn(s,o){for(;(s=s[o])&&s.nodeType!==1;);return s}f.each({parent:function(s){var o=s.parentNode;return o&&o.nodeType!==11?o:null},parents:function(s){return C(s,"parentNode")},parentsUntil:function(s,o,u){return C(s,"parentNode",u)},next:function(s){return cn(s,"nextSibling")},prev:function(s){return cn(s,"previousSibling")},nextAll:function(s){return C(s,"nextSibling")},prevAll:function(s){return C(s,"previousSibling")},nextUntil:function(s,o,u){return C(s,"nextSibling",u)},prevUntil:function(s,o,u){return C(s,"previousSibling",u)},siblings:function(s){return ie((s.parentNode||{}).firstChild,s)},children:function(s){return ie(s.firstChild)},contents:function(s){return s.contentDocument!=null&&r(s.contentDocument)?s.contentDocument:(U(s,"template")&&(s=s.content||s),f.merge([],s.childNodes))}},function(s,o){f.fn[s]=function(u,h){var m=f.map(this,o,u);return s.slice(-5)!=="Until"&&(h=u),h&&typeof h=="string"&&(m=f.filter(h,m)),this.length>1&&(Nt[s]||f.uniqueSort(m),ft.test(s)&&m.reverse()),this.pushStack(m)}});var Je=/[^\x20\t\r\n\f]+/g;function Pe(s){var o={};return f.each(s.match(Je)||[],function(u,h){o[h]=!0}),o}f.Callbacks=function(s){s=typeof s=="string"?Pe(s):f.extend({},s);var o,u,h,m,y=[],b=[],R=-1,A=function(){for(m=m||s.once,h=o=!0;b.length;R=-1)for(u=b.shift();++R<y.length;)y[R].apply(u[0],u[1])===!1&&s.stopOnFalse&&(R=y.length,u=!1);s.memory||(u=!1),o=!1,m&&(u?y=[]:y="")},F={add:function(){return y&&(u&&!o&&(R=y.length-1,b.push(u)),function j(K){f.each(K,function(W,ce){x(ce)?(!s.unique||!F.has(ce))&&y.push(ce):ce&&ce.length&&z(ce)!=="string"&&j(ce)})}(arguments),u&&!o&&A()),this},remove:function(){return f.each(arguments,function(j,K){for(var W;(W=f.inArray(K,y,W))>-1;)y.splice(W,1),W<=R&&R--}),this},has:function(j){return j?f.inArray(j,y)>-1:y.length>0},empty:function(){return y&&(y=[]),this},disable:function(){return m=b=[],y=u="",this},disabled:function(){return!y},lock:function(){return m=b=[],!u&&!o&&(y=u=""),this},locked:function(){return!!m},fireWith:function(j,K){return m||(K=K||[],K=[j,K.slice?K.slice():K],b.push(K),o||A()),this},fire:function(){return F.fireWith(this,arguments),this},fired:function(){return!!h}};return F};function Kn(s){return s}function In(s){throw s}function hi(s,o,u,h){var m;try{s&&x(m=s.promise)?m.call(s).done(o).fail(u):s&&x(m=s.then)?m.call(s,o,u):o.apply(void 0,[s].slice(h))}catch(y){u.apply(void 0,[y])}}f.extend({Deferred:function(s){var o=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],u="pending",h={state:function(){return u},always:function(){return m.done(arguments).fail(arguments),this},catch:function(y){return h.then(null,y)},pipe:function(){var y=arguments;return f.Deferred(function(b){f.each(o,function(R,A){var F=x(y[A[4]])&&y[A[4]];m[A[1]](function(){var j=F&&F.apply(this,arguments);j&&x(j.promise)?j.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[A[0]+"With"](this,F?[j]:arguments)})}),y=null}).promise()},then:function(y,b,R){var A=0;function F(j,K,W,ce){return function(){var De=this,Xe=arguments,Be=function(){var Et,mn;if(!(j<A)){if(Et=W.apply(De,Xe),Et===K.promise())throw new TypeError("Thenable self-resolution");mn=Et&&(typeof Et=="object"||typeof Et=="function")&&Et.then,x(mn)?ce?mn.call(Et,F(A,K,Kn,ce),F(A,K,In,ce)):(A++,mn.call(Et,F(A,K,Kn,ce),F(A,K,In,ce),F(A,K,Kn,K.notifyWith))):(W!==Kn&&(De=void 0,Xe=[Et]),(ce||K.resolveWith)(De,Xe))}},Rt=ce?Be:function(){try{Be()}catch(Et){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(Et,Rt.error),j+1>=A&&(W!==In&&(De=void 0,Xe=[Et]),K.rejectWith(De,Xe))}};j?Rt():(f.Deferred.getErrorHook?Rt.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(Rt.error=f.Deferred.getStackHook()),e.setTimeout(Rt))}}return f.Deferred(function(j){o[0][3].add(F(0,j,x(R)?R:Kn,j.notifyWith)),o[1][3].add(F(0,j,x(y)?y:Kn)),o[2][3].add(F(0,j,x(b)?b:In))}).promise()},promise:function(y){return y!=null?f.extend(y,h):h}},m={};return f.each(o,function(y,b){var R=b[2],A=b[5];h[b[1]]=R.add,A&&R.add(function(){u=A},o[3-y][2].disable,o[3-y][3].disable,o[0][2].lock,o[0][3].lock),R.add(b[3].fire),m[b[0]]=function(){return m[b[0]+"With"](this===m?void 0:this,arguments),this},m[b[0]+"With"]=R.fireWith}),h.promise(m),s&&s.call(m,m),m},when:function(s){var o=arguments.length,u=o,h=Array(u),m=l.call(arguments),y=f.Deferred(),b=function(R){return function(A){h[R]=this,m[R]=arguments.length>1?l.call(arguments):A,--o||y.resolveWith(h,m)}};if(o<=1&&(hi(s,y.done(b(u)).resolve,y.reject,!o),y.state()==="pending"||x(m[u]&&m[u].then)))return y.then();for(;u--;)hi(m[u],b(u),y.reject);return y.promise()}});var pi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(s,o){e.console&&e.console.warn&&s&&pi.test(s.name)&&e.console.warn("jQuery.Deferred exception: "+s.message,s.stack,o)},f.readyException=function(s){e.setTimeout(function(){throw s})};var Sn=f.Deferred();f.fn.ready=function(s){return Sn.then(s).catch(function(o){f.readyException(o)}),this},f.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(s!==!0&&--f.readyWait>0)&&Sn.resolveWith(G,[f]))}}),f.ready.then=Sn.then;function Ge(){G.removeEventListener("DOMContentLoaded",Ge),e.removeEventListener("load",Ge),f.ready()}G.readyState==="complete"||G.readyState!=="loading"&&!G.documentElement.doScroll?e.setTimeout(f.ready):(G.addEventListener("DOMContentLoaded",Ge),e.addEventListener("load",Ge));var Ft=function(s,o,u,h,m,y,b){var R=0,A=s.length,F=u==null;if(z(u)==="object"){m=!0;for(R in u)Ft(s,o,R,u[R],!0,y,b)}else if(h!==void 0&&(m=!0,x(h)||(b=!0),F&&(b?(o.call(s,h),o=null):(F=o,o=function(j,K,W){return F.call(f(j),W)})),o))for(;R<A;R++)o(s[R],u,b?h:h.call(s[R],R,o(s[R],u)));return m?s:F?o.call(s):A?o(s[0],u):y},Ji=/^-ms-/,ws=/-([a-z])/g;function Is(s,o){return o.toUpperCase()}function xn(s){return s.replace(Ji,"ms-").replace(ws,Is)}var es=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function ts(){this.expando=f.expando+ts.uid++}ts.uid=1,ts.prototype={cache:function(s){var o=s[this.expando];return o||(o={},es(s)&&(s.nodeType?s[this.expando]=o:Object.defineProperty(s,this.expando,{value:o,configurable:!0}))),o},set:function(s,o,u){var h,m=this.cache(s);if(typeof o=="string")m[xn(o)]=u;else for(h in o)m[xn(h)]=o[h];return m},get:function(s,o){return o===void 0?this.cache(s):s[this.expando]&&s[this.expando][xn(o)]},access:function(s,o,u){return o===void 0||o&&typeof o=="string"&&u===void 0?this.get(s,o):(this.set(s,o,u),u!==void 0?u:o)},remove:function(s,o){var u,h=s[this.expando];if(h!==void 0){if(o!==void 0)for(Array.isArray(o)?o=o.map(xn):(o=xn(o),o=o in h?[o]:o.match(Je)||[]),u=o.length;u--;)delete h[o[u]];(o===void 0||f.isEmptyObject(h))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var o=s[this.expando];return o!==void 0&&!f.isEmptyObject(o)}};var be=new ts,Gt=new ts,Ss=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xs=/[A-Z]/g;function lr(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:Ss.test(s)?JSON.parse(s):s}function ro(s,o,u){var h;if(u===void 0&&s.nodeType===1)if(h="data-"+o.replace(xs,"-$&").toLowerCase(),u=s.getAttribute(h),typeof u=="string"){try{u=lr(u)}catch{}Gt.set(s,o,u)}else u=void 0;return u}f.extend({hasData:function(s){return Gt.hasData(s)||be.hasData(s)},data:function(s,o,u){return Gt.access(s,o,u)},removeData:function(s,o){Gt.remove(s,o)},_data:function(s,o,u){return be.access(s,o,u)},_removeData:function(s,o){be.remove(s,o)}}),f.fn.extend({data:function(s,o){var u,h,m,y=this[0],b=y&&y.attributes;if(s===void 0){if(this.length&&(m=Gt.get(y),y.nodeType===1&&!be.get(y,"hasDataAttrs"))){for(u=b.length;u--;)b[u]&&(h=b[u].name,h.indexOf("data-")===0&&(h=xn(h.slice(5)),ro(y,h,m[h])));be.set(y,"hasDataAttrs",!0)}return m}return typeof s=="object"?this.each(function(){Gt.set(this,s)}):Ft(this,function(R){var A;if(y&&R===void 0)return A=Gt.get(y,s),A!==void 0||(A=ro(y,s),A!==void 0)?A:void 0;this.each(function(){Gt.set(this,s,R)})},null,o,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){Gt.remove(this,s)})}}),f.extend({queue:function(s,o,u){var h;if(s)return o=(o||"fx")+"queue",h=be.get(s,o),u&&(!h||Array.isArray(u)?h=be.access(s,o,f.makeArray(u)):h.push(u)),h||[]},dequeue:function(s,o){o=o||"fx";var u=f.queue(s,o),h=u.length,m=u.shift(),y=f._queueHooks(s,o),b=function(){f.dequeue(s,o)};m==="inprogress"&&(m=u.shift(),h--),m&&(o==="fx"&&u.unshift("inprogress"),delete y.stop,m.call(s,b,y)),!h&&y&&y.empty.fire()},_queueHooks:function(s,o){var u=o+"queueHooks";return be.get(s,u)||be.access(s,u,{empty:f.Callbacks("once memory").add(function(){be.remove(s,[o+"queue",u])})})}}),f.fn.extend({queue:function(s,o){var u=2;return typeof s!="string"&&(o=s,s="fx",u--),arguments.length<u?f.queue(this[0],s):o===void 0?this:this.each(function(){var h=f.queue(this,s,o);f._queueHooks(this,s),s==="fx"&&h[0]!=="inprogress"&&f.dequeue(this,s)})},dequeue:function(s){return this.each(function(){f.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,o){var u,h=1,m=f.Deferred(),y=this,b=this.length,R=function(){--h||m.resolveWith(y,[y])};for(typeof s!="string"&&(o=s,s=void 0),s=s||"fx";b--;)u=be.get(y[b],s+"queueHooks"),u&&u.empty&&(h++,u.empty.add(R));return R(),m.promise(o)}});var oo=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cn=new RegExp("^(?:([+-])=|)("+oo+")([a-z%]*)$","i"),ht=["Top","Right","Bottom","Left"],St=G.documentElement,Dt=function(s){return f.contains(s.ownerDocument,s)},zt={composed:!0};St.getRootNode&&(Dt=function(s){return f.contains(s.ownerDocument,s)||s.getRootNode(zt)===s.ownerDocument});var gi=function(s,o){return s=o||s,s.style.display==="none"||s.style.display===""&&Dt(s)&&f.css(s,"display")==="none"};function mi(s,o,u,h){var m,y,b=20,R=h?function(){return h.cur()}:function(){return f.css(s,o,"")},A=R(),F=u&&u[3]||(f.cssNumber[o]?"":"px"),j=s.nodeType&&(f.cssNumber[o]||F!=="px"&&+A)&&Cn.exec(f.css(s,o));if(j&&j[3]!==F){for(A=A/2,F=F||j[3],j=+A||1;b--;)f.style(s,o,j+F),(1-y)*(1-(y=R()/A||.5))<=0&&(b=0),j=j/y;j=j*2,f.style(s,o,j+F),u=u||[]}return u&&(j=+j||+A||0,m=u[1]?j+(u[1]+1)*u[2]:+u[2],h&&(h.unit=F,h.start=j,h.end=m)),m}var Qn={};function Mi(s){var o,u=s.ownerDocument,h=s.nodeName,m=Qn[h];return m||(o=u.body.appendChild(u.createElement(h)),m=f.css(o,"display"),o.parentNode.removeChild(o),m==="none"&&(m="block"),Qn[h]=m,m)}function yi(s,o){for(var u,h,m=[],y=0,b=s.length;y<b;y++)h=s[y],h.style&&(u=h.style.display,o?(u==="none"&&(m[y]=be.get(h,"display")||null,m[y]||(h.style.display="")),h.style.display===""&&gi(h)&&(m[y]=Mi(h))):u!=="none"&&(m[y]="none",be.set(h,"display",u)));for(y=0;y<b;y++)m[y]!=null&&(s[y].style.display=m[y]);return s}f.fn.extend({show:function(){return yi(this,!0)},hide:function(){return yi(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){gi(this)?f(this).show():f(this).hide()})}});var vi=/^(?:checkbox|radio)$/i,Ei=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,cr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=G.createDocumentFragment(),o=s.appendChild(G.createElement("div")),u=G.createElement("input");u.setAttribute("type","radio"),u.setAttribute("checked","checked"),u.setAttribute("name","t"),o.appendChild(u),T.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue,o.innerHTML="<option></option>",T.option=!!o.lastChild})();var Xt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,T.option||(Xt.optgroup=Xt.option=[1,"<select multiple='multiple'>","</select>"]);function Bt(s,o){var u;return typeof s.getElementsByTagName<"u"?u=s.getElementsByTagName(o||"*"):typeof s.querySelectorAll<"u"?u=s.querySelectorAll(o||"*"):u=[],o===void 0||o&&U(s,o)?f.merge([s],u):u}function Cs(s,o){for(var u=0,h=s.length;u<h;u++)be.set(s[u],"globalEval",!o||be.get(o[u],"globalEval"))}var ao=/<|&#?\w+;/;function ur(s,o,u,h,m){for(var y,b,R,A,F,j,K=o.createDocumentFragment(),W=[],ce=0,De=s.length;ce<De;ce++)if(y=s[ce],y||y===0)if(z(y)==="object")f.merge(W,y.nodeType?[y]:y);else if(!ao.test(y))W.push(o.createTextNode(y));else{for(b=b||K.appendChild(o.createElement("div")),R=(Ei.exec(y)||["",""])[1].toLowerCase(),A=Xt[R]||Xt._default,b.innerHTML=A[1]+f.htmlPrefilter(y)+A[2],j=A[0];j--;)b=b.lastChild;f.merge(W,b.childNodes),b=K.firstChild,b.textContent=""}for(K.textContent="",ce=0;y=W[ce++];){if(h&&f.inArray(y,h)>-1){m&&m.push(y);continue}if(F=Dt(y),b=Bt(K.appendChild(y),"script"),F&&Cs(b),u)for(j=0;y=b[j++];)cr.test(y.type||"")&&u.push(y)}return K}var dr=/^([^.]*)(?:\.(.+)|)/;function _i(){return!0}function bi(){return!1}function As(s,o,u,h,m,y){var b,R;if(typeof o=="object"){typeof u!="string"&&(h=h||u,u=void 0);for(R in o)As(s,R,u,h,o[R],y);return s}if(h==null&&m==null?(m=u,h=u=void 0):m==null&&(typeof u=="string"?(m=h,h=void 0):(m=h,h=u,u=void 0)),m===!1)m=bi;else if(!m)return s;return y===1&&(b=m,m=function(A){return f().off(A),b.apply(this,arguments)},m.guid=b.guid||(b.guid=f.guid++)),s.each(function(){f.event.add(this,o,m,h,u)})}f.event={global:{},add:function(s,o,u,h,m){var y,b,R,A,F,j,K,W,ce,De,Xe,Be=be.get(s);if(es(s))for(u.handler&&(y=u,u=y.handler,m=y.selector),m&&f.find.matchesSelector(St,m),u.guid||(u.guid=f.guid++),(A=Be.events)||(A=Be.events=Object.create(null)),(b=Be.handle)||(b=Be.handle=function(Rt){return typeof f<"u"&&f.event.triggered!==Rt.type?f.event.dispatch.apply(s,arguments):void 0}),o=(o||"").match(Je)||[""],F=o.length;F--;)R=dr.exec(o[F])||[],ce=Xe=R[1],De=(R[2]||"").split(".").sort(),ce&&(K=f.event.special[ce]||{},ce=(m?K.delegateType:K.bindType)||ce,K=f.event.special[ce]||{},j=f.extend({type:ce,origType:Xe,data:h,handler:u,guid:u.guid,selector:m,needsContext:m&&f.expr.match.needsContext.test(m),namespace:De.join(".")},y),(W=A[ce])||(W=A[ce]=[],W.delegateCount=0,(!K.setup||K.setup.call(s,h,De,b)===!1)&&s.addEventListener&&s.addEventListener(ce,b)),K.add&&(K.add.call(s,j),j.handler.guid||(j.handler.guid=u.guid)),m?W.splice(W.delegateCount++,0,j):W.push(j),f.event.global[ce]=!0)},remove:function(s,o,u,h,m){var y,b,R,A,F,j,K,W,ce,De,Xe,Be=be.hasData(s)&&be.get(s);if(!(!Be||!(A=Be.events))){for(o=(o||"").match(Je)||[""],F=o.length;F--;){if(R=dr.exec(o[F])||[],ce=Xe=R[1],De=(R[2]||"").split(".").sort(),!ce){for(ce in A)f.event.remove(s,ce+o[F],u,h,!0);continue}for(K=f.event.special[ce]||{},ce=(h?K.delegateType:K.bindType)||ce,W=A[ce]||[],R=R[2]&&new RegExp("(^|\\.)"+De.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=W.length;y--;)j=W[y],(m||Xe===j.origType)&&(!u||u.guid===j.guid)&&(!R||R.test(j.namespace))&&(!h||h===j.selector||h==="**"&&j.selector)&&(W.splice(y,1),j.selector&&W.delegateCount--,K.remove&&K.remove.call(s,j));b&&!W.length&&((!K.teardown||K.teardown.call(s,De,Be.handle)===!1)&&f.removeEvent(s,ce,Be.handle),delete A[ce])}f.isEmptyObject(A)&&be.remove(s,"handle events")}},dispatch:function(s){var o,u,h,m,y,b,R=new Array(arguments.length),A=f.event.fix(s),F=(be.get(this,"events")||Object.create(null))[A.type]||[],j=f.event.special[A.type]||{};for(R[0]=A,o=1;o<arguments.length;o++)R[o]=arguments[o];if(A.delegateTarget=this,!(j.preDispatch&&j.preDispatch.call(this,A)===!1)){for(b=f.event.handlers.call(this,A,F),o=0;(m=b[o++])&&!A.isPropagationStopped();)for(A.currentTarget=m.elem,u=0;(y=m.handlers[u++])&&!A.isImmediatePropagationStopped();)(!A.rnamespace||y.namespace===!1||A.rnamespace.test(y.namespace))&&(A.handleObj=y,A.data=y.data,h=((f.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,R),h!==void 0&&(A.result=h)===!1&&(A.preventDefault(),A.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,A),A.result}},handlers:function(s,o){var u,h,m,y,b,R=[],A=o.delegateCount,F=s.target;if(A&&F.nodeType&&!(s.type==="click"&&s.button>=1)){for(;F!==this;F=F.parentNode||this)if(F.nodeType===1&&!(s.type==="click"&&F.disabled===!0)){for(y=[],b={},u=0;u<A;u++)h=o[u],m=h.selector+" ",b[m]===void 0&&(b[m]=h.needsContext?f(m,this).index(F)>-1:f.find(m,this,null,[F]).length),b[m]&&y.push(h);y.length&&R.push({elem:F,handlers:y})}}return F=this,A<o.length&&R.push({elem:F,handlers:o.slice(A)}),R},addProp:function(s,o){Object.defineProperty(f.Event.prototype,s,{enumerable:!0,configurable:!0,get:x(o)?function(){if(this.originalEvent)return o(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(u){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:u})}})},fix:function(s){return s[f.expando]?s:new f.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var o=this||s;return vi.test(o.type)&&o.click&&U(o,"input")&&ns(o,"click",!0),!1},trigger:function(s){var o=this||s;return vi.test(o.type)&&o.click&&U(o,"input")&&ns(o,"click"),!0},_default:function(s){var o=s.target;return vi.test(o.type)&&o.click&&U(o,"input")&&be.get(o,"click")||U(o,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function ns(s,o,u){if(!u){be.get(s,o)===void 0&&f.event.add(s,o,_i);return}be.set(s,o,!1),f.event.add(s,o,{namespace:!1,handler:function(h){var m,y=be.get(this,o);if(h.isTrigger&1&&this[o]){if(y)(f.event.special[o]||{}).delegateType&&h.stopPropagation();else if(y=l.call(arguments),be.set(this,o,y),this[o](),m=be.get(this,o),be.set(this,o,!1),y!==m)return h.stopImmediatePropagation(),h.preventDefault(),m}else y&&(be.set(this,o,f.event.trigger(y[0],y.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=_i)}})}f.removeEvent=function(s,o,u){s.removeEventListener&&s.removeEventListener(o,u)},f.Event=function(s,o){if(!(this instanceof f.Event))return new f.Event(s,o);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?_i:bi,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,o&&f.extend(this,o),this.timeStamp=s&&s.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:bi,isPropagationStopped:bi,isImmediatePropagationStopped:bi,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=_i,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=_i,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=_i,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(s,o){function u(h){if(G.documentMode){var m=be.get(this,"handle"),y=f.event.fix(h);y.type=h.type==="focusin"?"focus":"blur",y.isSimulated=!0,m(h),y.target===y.currentTarget&&m(y)}else f.event.simulate(o,h.target,f.event.fix(h))}f.event.special[s]={setup:function(){var h;if(ns(this,s,!0),G.documentMode)h=be.get(this,o),h||this.addEventListener(o,u),be.set(this,o,(h||0)+1);else return!1},trigger:function(){return ns(this,s),!0},teardown:function(){var h;if(G.documentMode)h=be.get(this,o)-1,h?be.set(this,o,h):(this.removeEventListener(o,u),be.remove(this,o));else return!1},_default:function(h){return be.get(h.target,s)},delegateType:o},f.event.special[o]={setup:function(){var h=this.ownerDocument||this.document||this,m=G.documentMode?this:h,y=be.get(m,o);y||(G.documentMode?this.addEventListener(o,u):h.addEventListener(s,u,!0)),be.set(m,o,(y||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,m=G.documentMode?this:h,y=be.get(m,o)-1;y?be.set(m,o,y):(G.documentMode?this.removeEventListener(o,u):h.removeEventListener(s,u,!0),be.remove(m,o))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,o){f.event.special[s]={delegateType:o,bindType:o,handle:function(u){var h,m=this,y=u.relatedTarget,b=u.handleObj;return(!y||y!==m&&!f.contains(m,y))&&(u.type=b.origType,h=b.handler.apply(this,arguments),u.type=o),h}}}),f.fn.extend({on:function(s,o,u,h){return As(this,s,o,u,h)},one:function(s,o,u,h){return As(this,s,o,u,h,1)},off:function(s,o,u){var h,m;if(s&&s.preventDefault&&s.handleObj)return h=s.handleObj,f(s.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof s=="object"){for(m in s)this.off(m,o,s[m]);return this}return(o===!1||typeof o=="function")&&(u=o,o=void 0),u===!1&&(u=bi),this.each(function(){f.event.remove(this,s,u,o)})}});var lo=/<script|<style|<link/i,co=/checked\s*(?:[^=]|=\s*.checked.)/i,An=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Qt(s,o){return U(s,"table")&&U(o.nodeType!==11?o:o.firstChild,"tr")&&f(s).children("tbody")[0]||s}function Ti(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function un(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function Os(s,o){var u,h,m,y,b,R,A;if(o.nodeType===1){if(be.hasData(s)&&(y=be.get(s),A=y.events,A)){be.remove(o,"handle events");for(m in A)for(u=0,h=A[m].length;u<h;u++)f.event.add(o,m,A[m][u])}Gt.hasData(s)&&(b=Gt.access(s),R=f.extend({},b),Gt.set(o,R))}}function fr(s,o){var u=o.nodeName.toLowerCase();u==="input"&&vi.test(s.type)?o.checked=s.checked:(u==="input"||u==="textarea")&&(o.defaultValue=s.defaultValue)}function Vt(s,o,u,h){o=c(o);var m,y,b,R,A,F,j=0,K=s.length,W=K-1,ce=o[0],De=x(ce);if(De||K>1&&typeof ce=="string"&&!T.checkClone&&co.test(ce))return s.each(function(Xe){var Be=s.eq(Xe);De&&(o[0]=ce.call(this,Xe,Be.html())),Vt(Be,o,u,h)});if(K&&(m=ur(o,s[0].ownerDocument,!1,s,h),y=m.firstChild,m.childNodes.length===1&&(m=y),y||h)){for(b=f.map(Bt(m,"script"),Ti),R=b.length;j<K;j++)A=m,j!==W&&(A=f.clone(A,!0,!0),R&&f.merge(b,Bt(A,"script"))),u.call(s[j],A,j);if(R)for(F=b[b.length-1].ownerDocument,f.map(b,un),j=0;j<R;j++)A=b[j],cr.test(A.type||"")&&!be.access(A,"globalEval")&&f.contains(F,A)&&(A.src&&(A.type||"").toLowerCase()!=="module"?f._evalUrl&&!A.noModule&&f._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},F):H(A.textContent.replace(An,""),A,F))}return s}function Jn(s,o,u){for(var h,m=o?f.filter(o,s):s,y=0;(h=m[y])!=null;y++)!u&&h.nodeType===1&&f.cleanData(Bt(h)),h.parentNode&&(u&&Dt(h)&&Cs(Bt(h,"script")),h.parentNode.removeChild(h));return s}f.extend({htmlPrefilter:function(s){return s},clone:function(s,o,u){var h,m,y,b,R=s.cloneNode(!0),A=Dt(s);if(!T.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!f.isXMLDoc(s))for(b=Bt(R),y=Bt(s),h=0,m=y.length;h<m;h++)fr(y[h],b[h]);if(o)if(u)for(y=y||Bt(s),b=b||Bt(R),h=0,m=y.length;h<m;h++)Os(y[h],b[h]);else Os(s,R);return b=Bt(R,"script"),b.length>0&&Cs(b,!A&&Bt(s,"script")),R},cleanData:function(s){for(var o,u,h,m=f.event.special,y=0;(u=s[y])!==void 0;y++)if(es(u)){if(o=u[be.expando]){if(o.events)for(h in o.events)m[h]?f.event.remove(u,h):f.removeEvent(u,h,o.handle);u[be.expando]=void 0}u[Gt.expando]&&(u[Gt.expando]=void 0)}}}),f.fn.extend({detach:function(s){return Jn(this,s,!0)},remove:function(s){return Jn(this,s)},text:function(s){return Ft(this,function(o){return o===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=o)})},null,s,arguments.length)},append:function(){return Vt(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=Qt(this,s);o.appendChild(s)}})},prepend:function(){return Vt(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=Qt(this,s);o.insertBefore(s,o.firstChild)}})},before:function(){return Vt(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return Vt(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,o=0;(s=this[o])!=null;o++)s.nodeType===1&&(f.cleanData(Bt(s,!1)),s.textContent="");return this},clone:function(s,o){return s=s??!1,o=o??s,this.map(function(){return f.clone(this,s,o)})},html:function(s){return Ft(this,function(o){var u=this[0]||{},h=0,m=this.length;if(o===void 0&&u.nodeType===1)return u.innerHTML;if(typeof o=="string"&&!lo.test(o)&&!Xt[(Ei.exec(o)||["",""])[1].toLowerCase()]){o=f.htmlPrefilter(o);try{for(;h<m;h++)u=this[h]||{},u.nodeType===1&&(f.cleanData(Bt(u,!1)),u.innerHTML=o);u=0}catch{}}u&&this.empty().append(o)},null,s,arguments.length)},replaceWith:function(){var s=[];return Vt(this,arguments,function(o){var u=this.parentNode;f.inArray(this,s)<0&&(f.cleanData(Bt(this)),u&&u.replaceChild(o,this))},s)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,o){f.fn[s]=function(u){for(var h,m=[],y=f(u),b=y.length-1,R=0;R<=b;R++)h=R===b?this:this.clone(!0),f(y[R])[o](h),d.apply(m,h.get());return this.pushStack(m)}});var Ni=new RegExp("^("+oo+")(?!px)[a-z%]+$","i"),ei=/^--/,Fi=function(s){var o=s.ownerDocument.defaultView;return(!o||!o.opener)&&(o=e),o.getComputedStyle(s)},hr=function(s,o,u){var h,m,y={};for(m in o)y[m]=s.style[m],s.style[m]=o[m];h=u.call(s);for(m in o)s.style[m]=y[m];return h},ki=new RegExp(ht.join("|"),"i");(function(){function s(){if(F){A.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",F.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",St.appendChild(A).appendChild(F);var j=e.getComputedStyle(F);u=j.top!=="1%",R=o(j.marginLeft)===12,F.style.right="60%",y=o(j.right)===36,h=o(j.width)===36,F.style.position="absolute",m=o(F.offsetWidth/3)===12,St.removeChild(A),F=null}}function o(j){return Math.round(parseFloat(j))}var u,h,m,y,b,R,A=G.createElement("div"),F=G.createElement("div");F.style&&(F.style.backgroundClip="content-box",F.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=F.style.backgroundClip==="content-box",f.extend(T,{boxSizingReliable:function(){return s(),h},pixelBoxStyles:function(){return s(),y},pixelPosition:function(){return s(),u},reliableMarginLeft:function(){return s(),R},scrollboxSize:function(){return s(),m},reliableTrDimensions:function(){var j,K,W,ce;return b==null&&(j=G.createElement("table"),K=G.createElement("tr"),W=G.createElement("div"),j.style.cssText="position:absolute;left:-11111px;border-collapse:separate",K.style.cssText="box-sizing:content-box;border:1px solid",K.style.height="1px",W.style.height="9px",W.style.display="block",St.appendChild(j).appendChild(K).appendChild(W),ce=e.getComputedStyle(K),b=parseInt(ce.height,10)+parseInt(ce.borderTopWidth,10)+parseInt(ce.borderBottomWidth,10)===K.offsetHeight,St.removeChild(j)),b}}))})();function wi(s,o,u){var h,m,y,b,R=ei.test(o),A=s.style;return u=u||Fi(s),u&&(b=u.getPropertyValue(o)||u[o],R&&b&&(b=b.replace(ne,"$1")||void 0),b===""&&!Dt(s)&&(b=f.style(s,o)),!T.pixelBoxStyles()&&Ni.test(b)&&ki.test(o)&&(h=A.width,m=A.minWidth,y=A.maxWidth,A.minWidth=A.maxWidth=A.width=b,b=u.width,A.width=h,A.minWidth=m,A.maxWidth=y)),b!==void 0?b+"":b}function pr(s,o){return{get:function(){if(s()){delete this.get;return}return(this.get=o).apply(this,arguments)}}}var On=["Webkit","Moz","ms"],uo=G.createElement("div").style,Bn={};function Ds(s){for(var o=s[0].toUpperCase()+s.slice(1),u=On.length;u--;)if(s=On[u]+o,s in uo)return s}function Rs(s){var o=f.cssProps[s]||Bn[s];return o||(s in uo?s:Bn[s]=Ds(s)||s)}var is=/^(none|table(?!-c[ea]).+)/,gr={position:"absolute",visibility:"hidden",display:"block"},$i={letterSpacing:"0",fontWeight:"400"};function mr(s,o,u){var h=Cn.exec(o);return h?Math.max(0,h[2]-(u||0))+(h[3]||"px"):o}function Ps(s,o,u,h,m,y){var b=o==="width"?1:0,R=0,A=0,F=0;if(u===(h?"border":"content"))return 0;for(;b<4;b+=2)u==="margin"&&(F+=f.css(s,u+ht[b],!0,m)),h?(u==="content"&&(A-=f.css(s,"padding"+ht[b],!0,m)),u!=="margin"&&(A-=f.css(s,"border"+ht[b]+"Width",!0,m))):(A+=f.css(s,"padding"+ht[b],!0,m),u!=="padding"?A+=f.css(s,"border"+ht[b]+"Width",!0,m):R+=f.css(s,"border"+ht[b]+"Width",!0,m));return!h&&y>=0&&(A+=Math.max(0,Math.ceil(s["offset"+o[0].toUpperCase()+o.slice(1)]-y-A-R-.5))||0),A+F}function yr(s,o,u){var h=Fi(s),m=!T.boxSizingReliable()||u,y=m&&f.css(s,"boxSizing",!1,h)==="border-box",b=y,R=wi(s,o,h),A="offset"+o[0].toUpperCase()+o.slice(1);if(Ni.test(R)){if(!u)return R;R="auto"}return(!T.boxSizingReliable()&&y||!T.reliableTrDimensions()&&U(s,"tr")||R==="auto"||!parseFloat(R)&&f.css(s,"display",!1,h)==="inline")&&s.getClientRects().length&&(y=f.css(s,"boxSizing",!1,h)==="border-box",b=A in s,b&&(R=s[A])),R=parseFloat(R)||0,R+Ps(s,o,u||(y?"border":"content"),b,h,R)+"px"}f.extend({cssHooks:{opacity:{get:function(s,o){if(o){var u=wi(s,"opacity");return u===""?"1":u}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(s,o,u,h){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var m,y,b,R=xn(o),A=ei.test(o),F=s.style;if(A||(o=Rs(R)),b=f.cssHooks[o]||f.cssHooks[R],u!==void 0){if(y=typeof u,y==="string"&&(m=Cn.exec(u))&&m[1]&&(u=mi(s,o,m),y="number"),u==null||u!==u)return;y==="number"&&!A&&(u+=m&&m[3]||(f.cssNumber[R]?"":"px")),!T.clearCloneStyle&&u===""&&o.indexOf("background")===0&&(F[o]="inherit"),(!b||!("set"in b)||(u=b.set(s,u,h))!==void 0)&&(A?F.setProperty(o,u):F[o]=u)}else return b&&"get"in b&&(m=b.get(s,!1,h))!==void 0?m:F[o]}},css:function(s,o,u,h){var m,y,b,R=xn(o),A=ei.test(o);return A||(o=Rs(R)),b=f.cssHooks[o]||f.cssHooks[R],b&&"get"in b&&(m=b.get(s,!0,u)),m===void 0&&(m=wi(s,o,h)),m==="normal"&&o in $i&&(m=$i[o]),u===""||u?(y=parseFloat(m),u===!0||isFinite(y)?y||0:m):m}}),f.each(["height","width"],function(s,o){f.cssHooks[o]={get:function(u,h,m){if(h)return is.test(f.css(u,"display"))&&(!u.getClientRects().length||!u.getBoundingClientRect().width)?hr(u,gr,function(){return yr(u,o,m)}):yr(u,o,m)},set:function(u,h,m){var y,b=Fi(u),R=!T.scrollboxSize()&&b.position==="absolute",A=R||m,F=A&&f.css(u,"boxSizing",!1,b)==="border-box",j=m?Ps(u,o,m,F,b):0;return F&&R&&(j-=Math.ceil(u["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(b[o])-Ps(u,o,"border",!1,b)-.5)),j&&(y=Cn.exec(h))&&(y[3]||"px")!=="px"&&(u.style[o]=h,h=f.css(u,o)),mr(u,h,j)}}}),f.cssHooks.marginLeft=pr(T.reliableMarginLeft,function(s,o){if(o)return(parseFloat(wi(s,"marginLeft"))||s.getBoundingClientRect().left-hr(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(s,o){f.cssHooks[s+o]={expand:function(u){for(var h=0,m={},y=typeof u=="string"?u.split(" "):[u];h<4;h++)m[s+ht[h]+o]=y[h]||y[h-2]||y[0];return m}},s!=="margin"&&(f.cssHooks[s+o].set=mr)}),f.fn.extend({css:function(s,o){return Ft(this,function(u,h,m){var y,b,R={},A=0;if(Array.isArray(h)){for(y=Fi(u),b=h.length;A<b;A++)R[h[A]]=f.css(u,h[A],!1,y);return R}return m!==void 0?f.style(u,h,m):f.css(u,h)},s,o,arguments.length>1)}});function xt(s,o,u,h,m){return new xt.prototype.init(s,o,u,h,m)}f.Tween=xt,xt.prototype={constructor:xt,init:function(s,o,u,h,m,y){this.elem=s,this.prop=u,this.easing=m||f.easing._default,this.options=o,this.start=this.now=this.cur(),this.end=h,this.unit=y||(f.cssNumber[u]?"":"px")},cur:function(){var s=xt.propHooks[this.prop];return s&&s.get?s.get(this):xt.propHooks._default.get(this)},run:function(s){var o,u=xt.propHooks[this.prop];return this.options.duration?this.pos=o=f.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=o=s,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),u&&u.set?u.set(this):xt.propHooks._default.set(this),this}},xt.prototype.init.prototype=xt.prototype,xt.propHooks={_default:{get:function(s){var o;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(o=f.css(s.elem,s.prop,""),!o||o==="auto"?0:o)},set:function(s){f.fx.step[s.prop]?f.fx.step[s.prop](s):s.elem.nodeType===1&&(f.cssHooks[s.prop]||s.elem.style[Rs(s.prop)]!=null)?f.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},xt.propHooks.scrollTop=xt.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},f.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},f.fx=xt.prototype.init,f.fx.step={};var Gi,ss,vr=/^(?:toggle|show|hide)$/,Ls=/queueHooks$/;function rs(){ss&&(G.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(rs):e.setTimeout(rs,f.fx.interval),f.fx.tick())}function fo(){return e.setTimeout(function(){Gi=void 0}),Gi=Date.now()}function Ii(s,o){var u,h=0,m={height:s};for(o=o?1:0;h<4;h+=2-o)u=ht[h],m["margin"+u]=m["padding"+u]=s;return o&&(m.opacity=m.width=s),m}function ho(s,o,u){for(var h,m=(Jt.tweeners[o]||[]).concat(Jt.tweeners["*"]),y=0,b=m.length;y<b;y++)if(h=m[y].call(u,o,s))return h}function po(s,o,u){var h,m,y,b,R,A,F,j,K="width"in o||"height"in o,W=this,ce={},De=s.style,Xe=s.nodeType&&gi(s),Be=be.get(s,"fxshow");u.queue||(b=f._queueHooks(s,"fx"),b.unqueued==null&&(b.unqueued=0,R=b.empty.fire,b.empty.fire=function(){b.unqueued||R()}),b.unqueued++,W.always(function(){W.always(function(){b.unqueued--,f.queue(s,"fx").length||b.empty.fire()})}));for(h in o)if(m=o[h],vr.test(m)){if(delete o[h],y=y||m==="toggle",m===(Xe?"hide":"show"))if(m==="show"&&Be&&Be[h]!==void 0)Xe=!0;else continue;ce[h]=Be&&Be[h]||f.style(s,h)}if(A=!f.isEmptyObject(o),!(!A&&f.isEmptyObject(ce))){K&&s.nodeType===1&&(u.overflow=[De.overflow,De.overflowX,De.overflowY],F=Be&&Be.display,F==null&&(F=be.get(s,"display")),j=f.css(s,"display"),j==="none"&&(F?j=F:(yi([s],!0),F=s.style.display||F,j=f.css(s,"display"),yi([s]))),(j==="inline"||j==="inline-block"&&F!=null)&&f.css(s,"float")==="none"&&(A||(W.done(function(){De.display=F}),F==null&&(j=De.display,F=j==="none"?"":j)),De.display="inline-block")),u.overflow&&(De.overflow="hidden",W.always(function(){De.overflow=u.overflow[0],De.overflowX=u.overflow[1],De.overflowY=u.overflow[2]})),A=!1;for(h in ce)A||(Be?"hidden"in Be&&(Xe=Be.hidden):Be=be.access(s,"fxshow",{display:F}),y&&(Be.hidden=!Xe),Xe&&yi([s],!0),W.done(function(){Xe||yi([s]),be.remove(s,"fxshow");for(h in ce)f.style(s,h,ce[h])})),A=ho(Xe?Be[h]:0,h,W),h in Be||(Be[h]=A.start,Xe&&(A.end=A.start,A.start=0))}}function Er(s,o){var u,h,m,y,b;for(u in s)if(h=xn(u),m=o[h],y=s[u],Array.isArray(y)&&(m=y[1],y=s[u]=y[0]),u!==h&&(s[h]=y,delete s[u]),b=f.cssHooks[h],b&&"expand"in b){y=b.expand(y),delete s[h];for(u in y)u in s||(s[u]=y[u],o[u]=m)}else o[h]=m}function Jt(s,o,u){var h,m,y=0,b=Jt.prefilters.length,R=f.Deferred().always(function(){delete A.elem}),A=function(){if(m)return!1;for(var K=Gi||fo(),W=Math.max(0,F.startTime+F.duration-K),ce=W/F.duration||0,De=1-ce,Xe=0,Be=F.tweens.length;Xe<Be;Xe++)F.tweens[Xe].run(De);return R.notifyWith(s,[F,De,W]),De<1&&Be?W:(Be||R.notifyWith(s,[F,1,0]),R.resolveWith(s,[F]),!1)},F=R.promise({elem:s,props:f.extend({},o),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},u),originalProperties:o,originalOptions:u,startTime:Gi||fo(),duration:u.duration,tweens:[],createTween:function(K,W){var ce=f.Tween(s,F.opts,K,W,F.opts.specialEasing[K]||F.opts.easing);return F.tweens.push(ce),ce},stop:function(K){var W=0,ce=K?F.tweens.length:0;if(m)return this;for(m=!0;W<ce;W++)F.tweens[W].run(1);return K?(R.notifyWith(s,[F,1,0]),R.resolveWith(s,[F,K])):R.rejectWith(s,[F,K]),this}}),j=F.props;for(Er(j,F.opts.specialEasing);y<b;y++)if(h=Jt.prefilters[y].call(F,s,j,F.opts),h)return x(h.stop)&&(f._queueHooks(F.elem,F.opts.queue).stop=h.stop.bind(h)),h;return f.map(j,ho,F),x(F.opts.start)&&F.opts.start.call(s,F),F.progress(F.opts.progress).done(F.opts.done,F.opts.complete).fail(F.opts.fail).always(F.opts.always),f.fx.timer(f.extend(A,{elem:s,anim:F,queue:F.opts.queue})),F}f.Animation=f.extend(Jt,{tweeners:{"*":[function(s,o){var u=this.createTween(s,o);return mi(u.elem,s,Cn.exec(o),u),u}]},tweener:function(s,o){x(s)?(o=s,s=["*"]):s=s.match(Je);for(var u,h=0,m=s.length;h<m;h++)u=s[h],Jt.tweeners[u]=Jt.tweeners[u]||[],Jt.tweeners[u].unshift(o)},prefilters:[po],prefilter:function(s,o){o?Jt.prefilters.unshift(s):Jt.prefilters.push(s)}}),f.speed=function(s,o,u){var h=s&&typeof s=="object"?f.extend({},s):{complete:u||!u&&o||x(s)&&s,duration:s,easing:u&&o||o&&!x(o)&&o};return f.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in f.fx.speeds?h.duration=f.fx.speeds[h.duration]:h.duration=f.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){x(h.old)&&h.old.call(this),h.queue&&f.dequeue(this,h.queue)},h},f.fn.extend({fadeTo:function(s,o,u,h){return this.filter(gi).css("opacity",0).show().end().animate({opacity:o},s,u,h)},animate:function(s,o,u,h){var m=f.isEmptyObject(s),y=f.speed(o,u,h),b=function(){var R=Jt(this,f.extend({},s),y);(m||be.get(this,"finish"))&&R.stop(!0)};return b.finish=b,m||y.queue===!1?this.each(b):this.queue(y.queue,b)},stop:function(s,o,u){var h=function(m){var y=m.stop;delete m.stop,y(u)};return typeof s!="string"&&(u=o,o=s,s=void 0),o&&this.queue(s||"fx",[]),this.each(function(){var m=!0,y=s!=null&&s+"queueHooks",b=f.timers,R=be.get(this);if(y)R[y]&&R[y].stop&&h(R[y]);else for(y in R)R[y]&&R[y].stop&&Ls.test(y)&&h(R[y]);for(y=b.length;y--;)b[y].elem===this&&(s==null||b[y].queue===s)&&(b[y].anim.stop(u),m=!1,b.splice(y,1));(m||!u)&&f.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var o,u=be.get(this),h=u[s+"queue"],m=u[s+"queueHooks"],y=f.timers,b=h?h.length:0;for(u.finish=!0,f.queue(this,s,[]),m&&m.stop&&m.stop.call(this,!0),o=y.length;o--;)y[o].elem===this&&y[o].queue===s&&(y[o].anim.stop(!0),y.splice(o,1));for(o=0;o<b;o++)h[o]&&h[o].finish&&h[o].finish.call(this);delete u.finish})}}),f.each(["toggle","show","hide"],function(s,o){var u=f.fn[o];f.fn[o]=function(h,m,y){return h==null||typeof h=="boolean"?u.apply(this,arguments):this.animate(Ii(o,!0),h,m,y)}}),f.each({slideDown:Ii("show"),slideUp:Ii("hide"),slideToggle:Ii("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,o){f.fn[s]=function(u,h,m){return this.animate(o,u,h,m)}}),f.timers=[],f.fx.tick=function(){var s,o=0,u=f.timers;for(Gi=Date.now();o<u.length;o++)s=u[o],!s()&&u[o]===s&&u.splice(o--,1);u.length||f.fx.stop(),Gi=void 0},f.fx.timer=function(s){f.timers.push(s),f.fx.start()},f.fx.interval=13,f.fx.start=function(){ss||(ss=!0,rs())},f.fx.stop=function(){ss=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(s,o){return s=f.fx&&f.fx.speeds[s]||s,o=o||"fx",this.queue(o,function(u,h){var m=e.setTimeout(u,s);h.stop=function(){e.clearTimeout(m)}})},function(){var s=G.createElement("input"),o=G.createElement("select"),u=o.appendChild(G.createElement("option"));s.type="checkbox",T.checkOn=s.value!=="",T.optSelected=u.selected,s=G.createElement("input"),s.value="t",s.type="radio",T.radioValue=s.value==="t"}();var Ms,Bi=f.expr.attrHandle;f.fn.extend({attr:function(s,o){return Ft(this,f.attr,s,o,arguments.length>1)},removeAttr:function(s){return this.each(function(){f.removeAttr(this,s)})}}),f.extend({attr:function(s,o,u){var h,m,y=s.nodeType;if(!(y===3||y===8||y===2)){if(typeof s.getAttribute>"u")return f.prop(s,o,u);if((y!==1||!f.isXMLDoc(s))&&(m=f.attrHooks[o.toLowerCase()]||(f.expr.match.bool.test(o)?Ms:void 0)),u!==void 0){if(u===null){f.removeAttr(s,o);return}return m&&"set"in m&&(h=m.set(s,u,o))!==void 0?h:(s.setAttribute(o,u+""),u)}return m&&"get"in m&&(h=m.get(s,o))!==null?h:(h=f.find.attr(s,o),h??void 0)}},attrHooks:{type:{set:function(s,o){if(!T.radioValue&&o==="radio"&&U(s,"input")){var u=s.value;return s.setAttribute("type",o),u&&(s.value=u),o}}}},removeAttr:function(s,o){var u,h=0,m=o&&o.match(Je);if(m&&s.nodeType===1)for(;u=m[h++];)s.removeAttribute(u)}}),Ms={set:function(s,o,u){return o===!1?f.removeAttr(s,u):s.setAttribute(u,u),u}},f.each(f.expr.match.bool.source.match(/\w+/g),function(s,o){var u=Bi[o]||f.find.attr;Bi[o]=function(h,m,y){var b,R,A=m.toLowerCase();return y||(R=Bi[A],Bi[A]=b,b=u(h,m,y)!=null?A:null,Bi[A]=R),b}});var os=/^(?:input|select|textarea|button)$/i,_r=/^(?:a|area)$/i;f.fn.extend({prop:function(s,o){return Ft(this,f.prop,s,o,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[f.propFix[s]||s]})}}),f.extend({prop:function(s,o,u){var h,m,y=s.nodeType;if(!(y===3||y===8||y===2))return(y!==1||!f.isXMLDoc(s))&&(o=f.propFix[o]||o,m=f.propHooks[o]),u!==void 0?m&&"set"in m&&(h=m.set(s,u,o))!==void 0?h:s[o]=u:m&&"get"in m&&(h=m.get(s,o))!==null?h:s[o]},propHooks:{tabIndex:{get:function(s){var o=f.find.attr(s,"tabindex");return o?parseInt(o,10):os.test(s.nodeName)||_r.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(f.propHooks.selected={get:function(s){var o=s.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null},set:function(s){var o=s.parentNode;o&&(o.selectedIndex,o.parentNode&&o.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function ti(s){var o=s.match(Je)||[];return o.join(" ")}function ni(s){return s.getAttribute&&s.getAttribute("class")||""}function ii(s){return Array.isArray(s)?s:typeof s=="string"?s.match(Je)||[]:[]}f.fn.extend({addClass:function(s){var o,u,h,m,y,b;return x(s)?this.each(function(R){f(this).addClass(s.call(this,R,ni(this)))}):(o=ii(s),o.length?this.each(function(){if(h=ni(this),u=this.nodeType===1&&" "+ti(h)+" ",u){for(y=0;y<o.length;y++)m=o[y],u.indexOf(" "+m+" ")<0&&(u+=m+" ");b=ti(u),h!==b&&this.setAttribute("class",b)}}):this)},removeClass:function(s){var o,u,h,m,y,b;return x(s)?this.each(function(R){f(this).removeClass(s.call(this,R,ni(this)))}):arguments.length?(o=ii(s),o.length?this.each(function(){if(h=ni(this),u=this.nodeType===1&&" "+ti(h)+" ",u){for(y=0;y<o.length;y++)for(m=o[y];u.indexOf(" "+m+" ")>-1;)u=u.replace(" "+m+" "," ");b=ti(u),h!==b&&this.setAttribute("class",b)}}):this):this.attr("class","")},toggleClass:function(s,o){var u,h,m,y,b=typeof s,R=b==="string"||Array.isArray(s);return x(s)?this.each(function(A){f(this).toggleClass(s.call(this,A,ni(this),o),o)}):typeof o=="boolean"&&R?o?this.addClass(s):this.removeClass(s):(u=ii(s),this.each(function(){if(R)for(y=f(this),m=0;m<u.length;m++)h=u[m],y.hasClass(h)?y.removeClass(h):y.addClass(h);else(s===void 0||b==="boolean")&&(h=ni(this),h&&be.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||s===!1?"":be.get(this,"__className__")||""))}))},hasClass:function(s){var o,u,h=0;for(o=" "+s+" ";u=this[h++];)if(u.nodeType===1&&(" "+ti(ni(u))+" ").indexOf(o)>-1)return!0;return!1}});var pa=/\r/g;f.fn.extend({val:function(s){var o,u,h,m=this[0];return arguments.length?(h=x(s),this.each(function(y){var b;this.nodeType===1&&(h?b=s.call(this,y,f(this).val()):b=s,b==null?b="":typeof b=="number"?b+="":Array.isArray(b)&&(b=f.map(b,function(R){return R==null?"":R+""})),o=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!o||!("set"in o)||o.set(this,b,"value")===void 0)&&(this.value=b))})):m?(o=f.valHooks[m.type]||f.valHooks[m.nodeName.toLowerCase()],o&&"get"in o&&(u=o.get(m,"value"))!==void 0?u:(u=m.value,typeof u=="string"?u.replace(pa,""):u??"")):void 0}}),f.extend({valHooks:{option:{get:function(s){var o=f.find.attr(s,"value");return o??ti(f.text(s))}},select:{get:function(s){var o,u,h,m=s.options,y=s.selectedIndex,b=s.type==="select-one",R=b?null:[],A=b?y+1:m.length;for(y<0?h=A:h=b?y:0;h<A;h++)if(u=m[h],(u.selected||h===y)&&!u.disabled&&(!u.parentNode.disabled||!U(u.parentNode,"optgroup"))){if(o=f(u).val(),b)return o;R.push(o)}return R},set:function(s,o){for(var u,h,m=s.options,y=f.makeArray(o),b=m.length;b--;)h=m[b],(h.selected=f.inArray(f.valHooks.option.get(h),y)>-1)&&(u=!0);return u||(s.selectedIndex=-1),y}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(s,o){if(Array.isArray(o))return s.checked=f.inArray(f(s).val(),o)>-1}},T.checkOn||(f.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})});var Hi=e.location,br={guid:Date.now()},Ns=/\?/;f.parseXML=function(s){var o,u;if(!s||typeof s!="string")return null;try{o=new e.DOMParser().parseFromString(s,"text/xml")}catch{}return u=o&&o.getElementsByTagName("parsererror")[0],(!o||u)&&f.error("Invalid XML: "+(u?f.map(u.childNodes,function(h){return h.textContent}).join(`
`):s)),o};var Tr=/^(?:focusinfocus|focusoutblur)$/,wr=function(s){s.stopPropagation()};f.extend(f.event,{trigger:function(s,o,u,h){var m,y,b,R,A,F,j,K,W=[u||G],ce=I.call(s,"type")?s.type:s,De=I.call(s,"namespace")?s.namespace.split("."):[];if(y=K=b=u=u||G,!(u.nodeType===3||u.nodeType===8)&&!Tr.test(ce+f.event.triggered)&&(ce.indexOf(".")>-1&&(De=ce.split("."),ce=De.shift(),De.sort()),A=ce.indexOf(":")<0&&"on"+ce,s=s[f.expando]?s:new f.Event(ce,typeof s=="object"&&s),s.isTrigger=h?2:3,s.namespace=De.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+De.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=u),o=o==null?[s]:f.makeArray(o,[s]),j=f.event.special[ce]||{},!(!h&&j.trigger&&j.trigger.apply(u,o)===!1))){if(!h&&!j.noBubble&&!P(u)){for(R=j.delegateType||ce,Tr.test(R+ce)||(y=y.parentNode);y;y=y.parentNode)W.push(y),b=y;b===(u.ownerDocument||G)&&W.push(b.defaultView||b.parentWindow||e)}for(m=0;(y=W[m++])&&!s.isPropagationStopped();)K=y,s.type=m>1?R:j.bindType||ce,F=(be.get(y,"events")||Object.create(null))[s.type]&&be.get(y,"handle"),F&&F.apply(y,o),F=A&&y[A],F&&F.apply&&es(y)&&(s.result=F.apply(y,o),s.result===!1&&s.preventDefault());return s.type=ce,!h&&!s.isDefaultPrevented()&&(!j._default||j._default.apply(W.pop(),o)===!1)&&es(u)&&A&&x(u[ce])&&!P(u)&&(b=u[A],b&&(u[A]=null),f.event.triggered=ce,s.isPropagationStopped()&&K.addEventListener(ce,wr),u[ce](),s.isPropagationStopped()&&K.removeEventListener(ce,wr),f.event.triggered=void 0,b&&(u[A]=b)),s.result}},simulate:function(s,o,u){var h=f.extend(new f.Event,u,{type:s,isSimulated:!0});f.event.trigger(h,null,o)}}),f.fn.extend({trigger:function(s,o){return this.each(function(){f.event.trigger(s,o,this)})},triggerHandler:function(s,o){var u=this[0];if(u)return f.event.trigger(s,o,u,!0)}});var Ir=/\[\]$/,Sr=/\r?\n/g,ga=/^(?:submit|button|image|reset|file)$/i,ma=/^(?:input|select|textarea|keygen)/i;function Fs(s,o,u,h){var m;if(Array.isArray(o))f.each(o,function(y,b){u||Ir.test(s)?h(s,b):Fs(s+"["+(typeof b=="object"&&b!=null?y:"")+"]",b,u,h)});else if(!u&&z(o)==="object")for(m in o)Fs(s+"["+m+"]",o[m],u,h);else h(s,o)}f.param=function(s,o){var u,h=[],m=function(y,b){var R=x(b)?b():b;h[h.length]=encodeURIComponent(y)+"="+encodeURIComponent(R??"")};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!f.isPlainObject(s))f.each(s,function(){m(this.name,this.value)});else for(u in s)Fs(u,s[u],o,m);return h.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=f.prop(this,"elements");return s?f.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!f(this).is(":disabled")&&ma.test(this.nodeName)&&!ga.test(s)&&(this.checked||!vi.test(s))}).map(function(s,o){var u=f(this).val();return u==null?null:Array.isArray(u)?f.map(u,function(h){return{name:o.name,value:h.replace(Sr,`\r
`)}}):{name:o.name,value:u.replace(Sr,`\r
`)}}).get()}});var go=/%20/g,ks=/#.*$/,ya=/([?&])_=[^&]*/,va=/^(.*?):[ \t]*([^\r\n]*)$/mg,xr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mo=/^(?:GET|HEAD)$/,yo=/^\/\//,vo={},$s={},Cr="*/".concat("*"),Gs=G.createElement("a");Gs.href=Hi.href;function Ui(s){return function(o,u){typeof o!="string"&&(u=o,o="*");var h,m=0,y=o.toLowerCase().match(Je)||[];if(x(u))for(;h=y[m++];)h[0]==="+"?(h=h.slice(1)||"*",(s[h]=s[h]||[]).unshift(u)):(s[h]=s[h]||[]).push(u)}}function Si(s,o,u,h){var m={},y=s===$s;function b(R){var A;return m[R]=!0,f.each(s[R]||[],function(F,j){var K=j(o,u,h);if(typeof K=="string"&&!y&&!m[K])return o.dataTypes.unshift(K),b(K),!1;if(y)return!(A=K)}),A}return b(o.dataTypes[0])||!m["*"]&&b("*")}function Ar(s,o){var u,h,m=f.ajaxSettings.flatOptions||{};for(u in o)o[u]!==void 0&&((m[u]?s:h||(h={}))[u]=o[u]);return h&&f.extend(!0,s,h),s}function Or(s,o,u){for(var h,m,y,b,R=s.contents,A=s.dataTypes;A[0]==="*";)A.shift(),h===void 0&&(h=s.mimeType||o.getResponseHeader("Content-Type"));if(h){for(m in R)if(R[m]&&R[m].test(h)){A.unshift(m);break}}if(A[0]in u)y=A[0];else{for(m in u){if(!A[0]||s.converters[m+" "+A[0]]){y=m;break}b||(b=m)}y=y||b}if(y)return y!==A[0]&&A.unshift(y),u[y]}function Ea(s,o,u,h){var m,y,b,R,A,F={},j=s.dataTypes.slice();if(j[1])for(b in s.converters)F[b.toLowerCase()]=s.converters[b];for(y=j.shift();y;)if(s.responseFields[y]&&(u[s.responseFields[y]]=o),!A&&h&&s.dataFilter&&(o=s.dataFilter(o,s.dataType)),A=y,y=j.shift(),y){if(y==="*")y=A;else if(A!=="*"&&A!==y){if(b=F[A+" "+y]||F["* "+y],!b){for(m in F)if(R=m.split(" "),R[1]===y&&(b=F[A+" "+R[0]]||F["* "+R[0]],b)){b===!0?b=F[m]:F[m]!==!0&&(y=R[0],j.unshift(R[1]));break}}if(b!==!0)if(b&&s.throws)o=b(o);else try{o=b(o)}catch(K){return{state:"parsererror",error:b?K:"No conversion from "+A+" to "+y}}}}return{state:"success",data:o}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hi.href,type:"GET",isLocal:xr.test(Hi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,o){return o?Ar(Ar(s,f.ajaxSettings),o):Ar(f.ajaxSettings,s)},ajaxPrefilter:Ui(vo),ajaxTransport:Ui($s),ajax:function(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};var u,h,m,y,b,R,A,F,j,K,W=f.ajaxSetup({},o),ce=W.context||W,De=W.context&&(ce.nodeType||ce.jquery)?f(ce):f.event,Xe=f.Deferred(),Be=f.Callbacks("once memory"),Rt=W.statusCode||{},Et={},mn={},dn="canceled",qe={readyState:0,getResponseHeader:function(Ue){var pt;if(A){if(!y)for(y={};pt=va.exec(m);)y[pt[1].toLowerCase()+" "]=(y[pt[1].toLowerCase()+" "]||[]).concat(pt[2]);pt=y[Ue.toLowerCase()+" "]}return pt==null?null:pt.join(", ")},getAllResponseHeaders:function(){return A?m:null},setRequestHeader:function(Ue,pt){return A==null&&(Ue=mn[Ue.toLowerCase()]=mn[Ue.toLowerCase()]||Ue,Et[Ue]=pt),this},overrideMimeType:function(Ue){return A==null&&(W.mimeType=Ue),this},statusCode:function(Ue){var pt;if(Ue)if(A)qe.always(Ue[qe.status]);else for(pt in Ue)Rt[pt]=[Rt[pt],Ue[pt]];return this},abort:function(Ue){var pt=Ue||dn;return u&&u.abort(pt),xi(0,pt),this}};if(Xe.promise(qe),W.url=((s||W.url||Hi.href)+"").replace(yo,Hi.protocol+"//"),W.type=o.method||o.type||W.method||W.type,W.dataTypes=(W.dataType||"*").toLowerCase().match(Je)||[""],W.crossDomain==null){R=G.createElement("a");try{R.href=W.url,R.href=R.href,W.crossDomain=Gs.protocol+"//"+Gs.host!=R.protocol+"//"+R.host}catch{W.crossDomain=!0}}if(W.data&&W.processData&&typeof W.data!="string"&&(W.data=f.param(W.data,W.traditional)),Si(vo,W,o,qe),A)return qe;F=f.event&&W.global,F&&f.active++===0&&f.event.trigger("ajaxStart"),W.type=W.type.toUpperCase(),W.hasContent=!mo.test(W.type),h=W.url.replace(ks,""),W.hasContent?W.data&&W.processData&&(W.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(W.data=W.data.replace(go,"+")):(K=W.url.slice(h.length),W.data&&(W.processData||typeof W.data=="string")&&(h+=(Ns.test(h)?"&":"?")+W.data,delete W.data),W.cache===!1&&(h=h.replace(ya,"$1"),K=(Ns.test(h)?"&":"?")+"_="+br.guid+++K),W.url=h+K),W.ifModified&&(f.lastModified[h]&&qe.setRequestHeader("If-Modified-Since",f.lastModified[h]),f.etag[h]&&qe.setRequestHeader("If-None-Match",f.etag[h])),(W.data&&W.hasContent&&W.contentType!==!1||o.contentType)&&qe.setRequestHeader("Content-Type",W.contentType),qe.setRequestHeader("Accept",W.dataTypes[0]&&W.accepts[W.dataTypes[0]]?W.accepts[W.dataTypes[0]]+(W.dataTypes[0]!=="*"?", "+Cr+"; q=0.01":""):W.accepts["*"]);for(j in W.headers)qe.setRequestHeader(j,W.headers[j]);if(W.beforeSend&&(W.beforeSend.call(ce,qe,W)===!1||A))return qe.abort();if(dn="abort",Be.add(W.complete),qe.done(W.success),qe.fail(W.error),u=Si($s,W,o,qe),!u)xi(-1,"No Transport");else{if(qe.readyState=1,F&&De.trigger("ajaxSend",[qe,W]),A)return qe;W.async&&W.timeout>0&&(b=e.setTimeout(function(){qe.abort("timeout")},W.timeout));try{A=!1,u.send(Et,xi)}catch(Ue){if(A)throw Ue;xi(-1,Ue)}}function xi(Ue,pt,zi,Bs){var yn,Vi,vn,si,ri,_t=pt;A||(A=!0,b&&e.clearTimeout(b),u=void 0,m=Bs||"",qe.readyState=Ue>0?4:0,yn=Ue>=200&&Ue<300||Ue===304,zi&&(si=Or(W,qe,zi)),!yn&&f.inArray("script",W.dataTypes)>-1&&f.inArray("json",W.dataTypes)<0&&(W.converters["text script"]=function(){}),si=Ea(W,si,qe,yn),yn?(W.ifModified&&(ri=qe.getResponseHeader("Last-Modified"),ri&&(f.lastModified[h]=ri),ri=qe.getResponseHeader("etag"),ri&&(f.etag[h]=ri)),Ue===204||W.type==="HEAD"?_t="nocontent":Ue===304?_t="notmodified":(_t=si.state,Vi=si.data,vn=si.error,yn=!vn)):(vn=_t,(Ue||!_t)&&(_t="error",Ue<0&&(Ue=0))),qe.status=Ue,qe.statusText=(pt||_t)+"",yn?Xe.resolveWith(ce,[Vi,_t,qe]):Xe.rejectWith(ce,[qe,_t,vn]),qe.statusCode(Rt),Rt=void 0,F&&De.trigger(yn?"ajaxSuccess":"ajaxError",[qe,W,yn?Vi:vn]),Be.fireWith(ce,[qe,_t]),F&&(De.trigger("ajaxComplete",[qe,W]),--f.active||f.event.trigger("ajaxStop")))}return qe},getJSON:function(s,o,u){return f.get(s,o,u,"json")},getScript:function(s,o){return f.get(s,void 0,o,"script")}}),f.each(["get","post"],function(s,o){f[o]=function(u,h,m,y){return x(h)&&(y=y||m,m=h,h=void 0),f.ajax(f.extend({url:u,type:o,dataType:y,data:h,success:m},f.isPlainObject(u)&&u))}}),f.ajaxPrefilter(function(s){var o;for(o in s.headers)o.toLowerCase()==="content-type"&&(s.contentType=s.headers[o]||"")}),f._evalUrl=function(s,o,u){return f.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){f.globalEval(h,o,u)}})},f.fn.extend({wrapAll:function(s){var o;return this[0]&&(x(s)&&(s=s.call(this[0])),o=f(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var u=this;u.firstElementChild;)u=u.firstElementChild;return u}).append(this)),this},wrapInner:function(s){return x(s)?this.each(function(o){f(this).wrapInner(s.call(this,o))}):this.each(function(){var o=f(this),u=o.contents();u.length?u.wrapAll(s):o.append(s)})},wrap:function(s){var o=x(s);return this.each(function(u){f(this).wrapAll(o?s.call(this,u):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(s){return!f.expr.pseudos.visible(s)},f.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var _a={0:200,1223:204},as=f.ajaxSettings.xhr();T.cors=!!as&&"withCredentials"in as,T.ajax=as=!!as,f.ajaxTransport(function(s){var o,u;if(T.cors||as&&!s.crossDomain)return{send:function(h,m){var y,b=s.xhr();if(b.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(y in s.xhrFields)b[y]=s.xhrFields[y];s.mimeType&&b.overrideMimeType&&b.overrideMimeType(s.mimeType),!s.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(y in h)b.setRequestHeader(y,h[y]);o=function(R){return function(){o&&(o=u=b.onload=b.onerror=b.onabort=b.ontimeout=b.onreadystatechange=null,R==="abort"?b.abort():R==="error"?typeof b.status!="number"?m(0,"error"):m(b.status,b.statusText):m(_a[b.status]||b.status,b.statusText,(b.responseType||"text")!=="text"||typeof b.responseText!="string"?{binary:b.response}:{text:b.responseText},b.getAllResponseHeaders()))}},b.onload=o(),u=b.onerror=b.ontimeout=o("error"),b.onabort!==void 0?b.onabort=u:b.onreadystatechange=function(){b.readyState===4&&e.setTimeout(function(){o&&u()})},o=o("abort");try{b.send(s.hasContent&&s.data||null)}catch(R){if(o)throw R}},abort:function(){o&&o()}}}),f.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return f.globalEval(s),s}}}),f.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),f.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var o,u;return{send:function(h,m){o=f("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",u=function(y){o.remove(),u=null,y&&m(y.type==="error"?404:200,y.type)}),G.head.appendChild(o[0])},abort:function(){u&&u()}}}});var Eo=[],Dr=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=Eo.pop()||f.expando+"_"+br.guid++;return this[s]=!0,s}}),f.ajaxPrefilter("json jsonp",function(s,o,u){var h,m,y,b=s.jsonp!==!1&&(Dr.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Dr.test(s.data)&&"data");if(b||s.dataTypes[0]==="jsonp")return h=s.jsonpCallback=x(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,b?s[b]=s[b].replace(Dr,"$1"+h):s.jsonp!==!1&&(s.url+=(Ns.test(s.url)?"&":"?")+s.jsonp+"="+h),s.converters["script json"]=function(){return y||f.error(h+" was not called"),y[0]},s.dataTypes[0]="json",m=e[h],e[h]=function(){y=arguments},u.always(function(){m===void 0?f(e).removeProp(h):e[h]=m,s[h]&&(s.jsonpCallback=o.jsonpCallback,Eo.push(h)),y&&x(m)&&m(y[0]),y=m=void 0}),"script"}),T.createHTMLDocument=function(){var s=G.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),f.parseHTML=function(s,o,u){if(typeof s!="string")return[];typeof o=="boolean"&&(u=o,o=!1);var h,m,y;return o||(T.createHTMLDocument?(o=G.implementation.createHTMLDocument(""),h=o.createElement("base"),h.href=G.location.href,o.head.appendChild(h)):o=G),m=ge.exec(s),y=!u&&[],m?[o.createElement(m[1])]:(m=ur([s],o,y),y&&y.length&&f(y).remove(),f.merge([],m.childNodes))},f.fn.load=function(s,o,u){var h,m,y,b=this,R=s.indexOf(" ");return R>-1&&(h=ti(s.slice(R)),s=s.slice(0,R)),x(o)?(u=o,o=void 0):o&&typeof o=="object"&&(m="POST"),b.length>0&&f.ajax({url:s,type:m||"GET",dataType:"html",data:o}).done(function(A){y=arguments,b.html(h?f("<div>").append(f.parseHTML(A)).find(h):A)}).always(u&&function(A,F){b.each(function(){u.apply(this,y||[A.responseText,F,A])})}),this},f.expr.pseudos.animated=function(s){return f.grep(f.timers,function(o){return s===o.elem}).length},f.offset={setOffset:function(s,o,u){var h,m,y,b,R,A,F,j=f.css(s,"position"),K=f(s),W={};j==="static"&&(s.style.position="relative"),R=K.offset(),y=f.css(s,"top"),A=f.css(s,"left"),F=(j==="absolute"||j==="fixed")&&(y+A).indexOf("auto")>-1,F?(h=K.position(),b=h.top,m=h.left):(b=parseFloat(y)||0,m=parseFloat(A)||0),x(o)&&(o=o.call(s,u,f.extend({},R))),o.top!=null&&(W.top=o.top-R.top+b),o.left!=null&&(W.left=o.left-R.left+m),"using"in o?o.using.call(s,W):K.css(W)}},f.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(m){f.offset.setOffset(this,s,m)});var o,u,h=this[0];if(h)return h.getClientRects().length?(o=h.getBoundingClientRect(),u=h.ownerDocument.defaultView,{top:o.top+u.pageYOffset,left:o.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,o,u,h=this[0],m={top:0,left:0};if(f.css(h,"position")==="fixed")o=h.getBoundingClientRect();else{for(o=this.offset(),u=h.ownerDocument,s=h.offsetParent||u.documentElement;s&&(s===u.body||s===u.documentElement)&&f.css(s,"position")==="static";)s=s.parentNode;s&&s!==h&&s.nodeType===1&&(m=f(s).offset(),m.top+=f.css(s,"borderTopWidth",!0),m.left+=f.css(s,"borderLeftWidth",!0))}return{top:o.top-m.top-f.css(h,"marginTop",!0),left:o.left-m.left-f.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&f.css(s,"position")==="static";)s=s.offsetParent;return s||St})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,o){var u=o==="pageYOffset";f.fn[s]=function(h){return Ft(this,function(m,y,b){var R;if(P(m)?R=m:m.nodeType===9&&(R=m.defaultView),b===void 0)return R?R[o]:m[y];R?R.scrollTo(u?R.pageXOffset:b,u?b:R.pageYOffset):m[y]=b},s,h,arguments.length)}}),f.each(["top","left"],function(s,o){f.cssHooks[o]=pr(T.pixelPosition,function(u,h){if(h)return h=wi(u,o),Ni.test(h)?f(u).position()[o]+"px":h})}),f.each({Height:"height",Width:"width"},function(s,o){f.each({padding:"inner"+s,content:o,"":"outer"+s},function(u,h){f.fn[h]=function(m,y){var b=arguments.length&&(u||typeof m!="boolean"),R=u||(m===!0||y===!0?"margin":"border");return Ft(this,function(A,F,j){var K;return P(A)?h.indexOf("outer")===0?A["inner"+s]:A.document.documentElement["client"+s]:A.nodeType===9?(K=A.documentElement,Math.max(A.body["scroll"+s],K["scroll"+s],A.body["offset"+s],K["offset"+s],K["client"+s])):j===void 0?f.css(A,F,R):f.style(A,F,j,R)},o,b?m:void 0,b)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,o){f.fn[o]=function(u){return this.on(o,u)}}),f.fn.extend({bind:function(s,o,u){return this.on(s,null,o,u)},unbind:function(s,o){return this.off(s,null,o)},delegate:function(s,o,u,h){return this.on(o,s,u,h)},undelegate:function(s,o,u){return arguments.length===1?this.off(s,"**"):this.off(o,s||"**",u)},hover:function(s,o){return this.on("mouseenter",s).on("mouseleave",o||s)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,o){f.fn[o]=function(u,h){return arguments.length>0?this.on(o,null,u,h):this.trigger(o)}});var ba=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(s,o){var u,h,m;if(typeof o=="string"&&(u=s[o],o=s,s=u),!!x(s))return h=l.call(arguments,2),m=function(){return s.apply(o||this,h.concat(l.call(arguments)))},m.guid=s.guid=s.guid||f.guid++,m},f.holdReady=function(s){s?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=U,f.isFunction=x,f.isWindow=P,f.camelCase=xn,f.type=z,f.now=Date.now,f.isNumeric=function(s){var o=f.type(s);return(o==="number"||o==="string")&&!isNaN(s-parseFloat(s))},f.trim=function(s){return s==null?"":(s+"").replace(ba,"$1")};var Ta=e.jQuery,wa=e.$;return f.noConflict=function(s){return e.$===f&&(e.$=wa),s&&e.jQuery===f&&(e.jQuery=Ta),f},typeof n>"u"&&(e.jQuery=e.$=f),f})}(Da)),Da.exports}var Cd=eu();const xy=ml(Cd);var tu={exports:{}};/**
 * @license MIT
 * @fileOverview Favico animations
 * @author Miroslav Magda, http://blog.ejci.net
 * @version 0.3.10
 */(function(t){(function(){var e=function(n){n=n||{};var i={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window},r,l,c,d,p,v,_,I,D,O,T,x,P,G,M,H;P={},P.ff=typeof InstallTrigger<"u",P.chrome=!!window.chrome,P.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,P.ie=!1,P.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,P.supported=P.chrome||P.ff||P.opera;var z=[];T=function(){},I=x=!1;var J=function(){r=Q(i,n),r.bgColor=xe(r.bgColor),r.textColor=xe(r.textColor),r.position=r.position.toLowerCase(),r.animation=N.types[""+r.animation]?r.animation:i.animation,H=r.win.document;var C=r.position.indexOf("up")>-1,ie=r.position.indexOf("left")>-1;if(C||ie)for(var de=0;de<N.types[""+r.animation].length;de++){var ge=N.types[""+r.animation][de];C&&(ge.y<.6?ge.y=ge.y-.4:ge.y=ge.y-2*ge.y+(1-ge.w)),ie&&(ge.x<.6?ge.x=ge.x-.4:ge.x=ge.x-2*ge.x+(1-ge.h)),N.types[""+r.animation][de]=ge}r.type=f[""+r.type]?r.type:i.type,l=ne.getIcon(),p=document.createElement("canvas"),_=document.createElement("img"),l.hasAttribute("href")?(_.setAttribute("crossOrigin","anonymous"),_.onload=function(){c=_.height>0?_.height:32,d=_.width>0?_.width:32,p.height=c,p.width=d,v=p.getContext("2d"),ee.ready()},_.setAttribute("src",l.getAttribute("href"))):(_.onload=function(){c=32,d=32,_.height=c,_.width=d,p.height=c,p.width=d,v=p.getContext("2d"),ee.ready()},_.setAttribute("src",""))},ee={};ee.ready=function(){I=!0,ee.reset(),T()},ee.reset=function(){I&&(z=[],D=!1,O=!1,v.clearRect(0,0,d,c),v.drawImage(_,0,0,d,c),ne.setIcon(p),window.clearTimeout(G),window.clearTimeout(M))},ee.start=function(){if(!(!I||O)){var C=function(){D=z[0],O=!1,z.length>0&&(z.shift(),ee.start())};if(z.length>0){O=!0;var ie=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(de){de in z[0].options&&(r[de]=z[0].options[de])}),N.run(z[0].options,function(){C()},!1)};D?N.run(D.options,function(){ie()},!0):ie()}}};var f={},te=function(C){return C.n=typeof C.n=="number"?Math.abs(C.n|0):C.n,C.x=d*C.x,C.y=c*C.y,C.w=d*C.w,C.h=c*C.h,C.len=(""+C.n).length,C};f.circle=function(C){C=te(C);var ie=!1;C.len===2?(C.x=C.x-C.w*.4,C.w=C.w*1.4,ie=!0):C.len>=3&&(C.x=C.x-C.w*.65,C.w=C.w*1.65,ie=!0),v.clearRect(0,0,d,c),v.drawImage(_,0,0,d,c),v.beginPath(),v.font=r.fontStyle+" "+Math.floor(C.h*(C.n>99?.85:1))+"px "+r.fontFamily,v.textAlign="center",ie?(v.moveTo(C.x+C.w/2,C.y),v.lineTo(C.x+C.w-C.h/2,C.y),v.quadraticCurveTo(C.x+C.w,C.y,C.x+C.w,C.y+C.h/2),v.lineTo(C.x+C.w,C.y+C.h-C.h/2),v.quadraticCurveTo(C.x+C.w,C.y+C.h,C.x+C.w-C.h/2,C.y+C.h),v.lineTo(C.x+C.h/2,C.y+C.h),v.quadraticCurveTo(C.x,C.y+C.h,C.x,C.y+C.h-C.h/2),v.lineTo(C.x,C.y+C.h/2),v.quadraticCurveTo(C.x,C.y,C.x+C.h/2,C.y)):v.arc(C.x+C.w/2,C.y+C.h/2,C.h/2,0,2*Math.PI),v.fillStyle="rgba("+r.bgColor.r+","+r.bgColor.g+","+r.bgColor.b+","+C.o+")",v.fill(),v.closePath(),v.beginPath(),v.stroke(),v.fillStyle="rgba("+r.textColor.r+","+r.textColor.g+","+r.textColor.b+","+C.o+")",typeof C.n=="number"&&C.n>999?v.fillText((C.n>9999?9:Math.floor(C.n/1e3))+"k+",Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.2)):v.fillText(C.n,Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.15)),v.closePath()},f.rectangle=function(C){C=te(C),C.len===2?(C.x=C.x-C.w*.4,C.w=C.w*1.4):C.len>=3&&(C.x=C.x-C.w*.65,C.w=C.w*1.65),v.clearRect(0,0,d,c),v.drawImage(_,0,0,d,c),v.beginPath(),v.font=r.fontStyle+" "+Math.floor(C.h*(C.n>99?.9:1))+"px "+r.fontFamily,v.textAlign="center",v.fillStyle="rgba("+r.bgColor.r+","+r.bgColor.g+","+r.bgColor.b+","+C.o+")",v.fillRect(C.x,C.y,C.w,C.h),v.fillStyle="rgba("+r.textColor.r+","+r.textColor.g+","+r.textColor.b+","+C.o+")",typeof C.n=="number"&&C.n>999?v.fillText((C.n>9999?9:Math.floor(C.n/1e3))+"k+",Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.2)):v.fillText(C.n,Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.15)),v.closePath()};var U=function(C,ie){ie=(typeof ie=="string"?{animation:ie}:ie)||{},T=function(){try{if(typeof C=="number"?C>0:C!==""){var de={type:"badge",options:{n:C}};if("animation"in ie&&N.types[""+ie.animation]&&(de.options.animation=""+ie.animation),"type"in ie&&f[""+ie.type]&&(de.options.type=""+ie.type),["bgColor","textColor"].forEach(function(ge){ge in ie&&(de.options[ge]=xe(ie[ge]))}),["fontStyle","fontFamily"].forEach(function(ge){ge in ie&&(de.options[ge]=ie[ge])}),z.push(de),z.length>100)throw new Error("Too many badges requests in queue.");ee.start()}else ee.reset()}catch(ge){throw new Error("Error setting badge. Message: "+ge.message)}},I&&T()},Y=function(C){T=function(){try{var ie=C.width,de=C.height,ge=document.createElement("img"),it=ie/d<de/c?ie/d:de/c;ge.setAttribute("crossOrigin","anonymous"),ge.onload=function(){v.clearRect(0,0,d,c),v.drawImage(ge,0,0,d,c),ne.setIcon(p)},ge.setAttribute("src",C.getAttribute("src")),ge.height=de/it,ge.width=ie/it}catch(et){throw new Error("Error setting image. Message: "+et.message)}},I&&T()},ae=function(C){T=function(){try{if(C==="stop"){x=!0,ee.reset(),x=!1;return}C.addEventListener("play",function(){le(this)},!1)}catch(ie){throw new Error("Error setting video. Message: "+ie.message)}},I&&T()},he=function(C){if((!window.URL||!window.URL.createObjectURL)&&(window.URL=window.URL||{},window.URL.createObjectURL=function(de){return de}),P.supported){var ie=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,T=function(){try{if(C==="stop"){x=!0,ee.reset(),x=!1;return}ie=document.createElement("video"),ie.width=d,ie.height=c,navigator.getUserMedia({video:!0,audio:!1},function(de){ie.src=URL.createObjectURL(de),ie.play(),le(ie)},function(){})}catch(de){throw new Error("Error setting webcam. Message: "+de.message)}},I&&T()}};function le(C){if(C.paused||C.ended||x)return!1;try{v.clearRect(0,0,d,c),v.drawImage(C,0,0,d,c)}catch{}M=setTimeout(function(){le(C)},N.duration),ne.setIcon(p)}var ne={};ne.getIcon=function(){var C=!1,ie=function(){for(var de=H.getElementsByTagName("head")[0].getElementsByTagName("link"),ge=de.length,it=ge-1;it>=0;it--)if(/(^|\s)icon(\s|$)/i.test(de[it].getAttribute("rel")))return de[it];return!1};return r.element?C=r.element:r.elementId?(C=H.getElementById(r.elementId),C.setAttribute("href",C.getAttribute("src"))):(C=ie(),C===!1&&(C=H.createElement("link"),C.setAttribute("rel","icon"),H.getElementsByTagName("head")[0].appendChild(C))),C.setAttribute("type","image/png"),C},ne.setIcon=function(C){var ie=C.toDataURL("image/png");if(r.dataUrl&&r.dataUrl(ie),r.element)r.element.setAttribute("href",ie),r.element.setAttribute("src",ie);else if(r.elementId){var de=H.getElementById(r.elementId);de.setAttribute("href",ie),de.setAttribute("src",ie)}else if(P.ff||P.opera){var ge=l;l=H.createElement("link"),P.opera&&l.setAttribute("rel","icon"),l.setAttribute("rel","icon"),l.setAttribute("type","image/png"),H.getElementsByTagName("head")[0].appendChild(l),l.setAttribute("href",ie),ge.parentNode&&ge.parentNode.removeChild(ge)}else l.setAttribute("href",ie)};function xe(C){var ie=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;C=C.replace(ie,function(ge,it,et,Yt){return it+it+et+et+Yt+Yt});var de=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return de?{r:parseInt(de[1],16),g:parseInt(de[2],16),b:parseInt(de[3],16)}:!1}function Q(C,ie){var de={},ge;for(ge in C)de[ge]=C[ge];for(ge in ie)de[ge]=ie[ge];return de}function se(){return H.hidden||H.msHidden||H.webkitHidden||H.mozHidden}var N={};return N.duration=40,N.types={},N.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],N.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],N.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],N.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],N.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],N.run=function(C,ie,de,ge){var it=N.types[se()?"none":r.animation];if(de===!0?ge=typeof ge<"u"?ge:it.length-1:ge=typeof ge<"u"?ge:0,ie=ie||function(){},ge<it.length&&ge>=0)f[r.type](Q(C,it[ge])),G=setTimeout(function(){de?ge=ge-1:ge=ge+1,N.run(C,ie,de,ge)},N.duration),ne.setIcon(p);else{ie();return}},J(),{badge:U,video:ae,image:Y,webcam:he,reset:ee.reset,browser:{supported:P.supported}}};t.exports?t.exports=e:this.Favico=e})()})(tu);var Ad=tu.exports;const Cy=ml(Ad);var nu={exports:{}};(function(t){(function(e){e(["jquery"],function(n){return function(){var i,r,l=0,c={error:"error",info:"info",success:"success",warning:"warning"},d={clear:x,remove:P,error:v,getContainer:_,info:I,options:{},subscribe:D,success:O,version:"2.1.4",warning:T},p;return d;function v(U,Y,ae){return ee({type:c.error,iconClass:f().iconClasses.error,message:U,optionsOverride:ae,title:Y})}function _(U,Y){return U||(U=f()),i=n("#"+U.containerId),i.length||Y&&(i=H(U)),i}function I(U,Y,ae){return ee({type:c.info,iconClass:f().iconClasses.info,message:U,optionsOverride:ae,title:Y})}function D(U){r=U}function O(U,Y,ae){return ee({type:c.success,iconClass:f().iconClasses.success,message:U,optionsOverride:ae,title:Y})}function T(U,Y,ae){return ee({type:c.warning,iconClass:f().iconClasses.warning,message:U,optionsOverride:ae,title:Y})}function x(U,Y){var ae=f();i||_(ae),M(U,ae,Y)||G(ae)}function P(U){var Y=f();if(i||_(Y),U&&n(":focus",U).length===0){te(U);return}i.children().length&&i.remove()}function G(U){for(var Y=i.children(),ae=Y.length-1;ae>=0;ae--)M(n(Y[ae]),U)}function M(U,Y,ae){var he=ae&&ae.force?ae.force:!1;return U&&(he||n(":focus",U).length===0)?(U[Y.hideMethod]({duration:Y.hideDuration,easing:Y.hideEasing,complete:function(){te(U)}}),!0):!1}function H(U){return i=n("<div/>").attr("id",U.containerId).addClass(U.positionClass),i.appendTo(n(U.target)),i}function z(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function J(U){r&&r(U)}function ee(U){var Y=f(),ae=U.iconClass||Y.iconClass;if(typeof U.optionsOverride<"u"&&(Y=n.extend(Y,U.optionsOverride),ae=U.optionsOverride.iconClass||ae),Kn(Y,U))return;l++,i=_(Y,!0);var he=null,le=n("<div/>"),ne=n("<div/>"),xe=n("<div/>"),Q=n("<div/>"),se=n(Y.closeHtml),N={intervalId:null,hideEta:null,maxHideTime:null},C={toastId:l,state:"visible",startTime:new Date,options:Y,map:U};return de(),et(),it(),J(C),Y.debug&&console&&console.log(C),le;function ie(Ge){return Ge==null&&(Ge=""),Ge.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function de(){Yt(),ft(),Nt(),cn(),Je(),Pe(),Ce(),ge()}function ge(){var Ge="";switch(U.iconClass){case"toast-success":case"toast-info":Ge="polite";break;default:Ge="assertive"}le.attr("aria-live",Ge)}function it(){Y.closeOnHover&&le.hover(pi,hi),!Y.onclick&&Y.tapToDismiss&&le.click(In),Y.closeButton&&se&&se.click(function(Ge){Ge.stopPropagation?Ge.stopPropagation():Ge.cancelBubble!==void 0&&Ge.cancelBubble!==!0&&(Ge.cancelBubble=!0),Y.onCloseClick&&Y.onCloseClick(Ge),In(!0)}),Y.onclick&&le.click(function(Ge){Y.onclick(Ge),In()})}function et(){le.hide(),le[Y.showMethod]({duration:Y.showDuration,easing:Y.showEasing,complete:Y.onShown}),Y.timeOut>0&&(he=setTimeout(In,Y.timeOut),N.maxHideTime=parseFloat(Y.timeOut),N.hideEta=new Date().getTime()+N.maxHideTime,Y.progressBar&&(N.intervalId=setInterval(Sn,10)))}function Yt(){U.iconClass&&le.addClass(Y.toastClass).addClass(ae)}function Ce(){Y.newestOnTop?i.prepend(le):i.append(le)}function ft(){if(U.title){var Ge=U.title;Y.escapeHtml&&(Ge=ie(U.title)),ne.append(Ge).addClass(Y.titleClass),le.append(ne)}}function Nt(){if(U.message){var Ge=U.message;Y.escapeHtml&&(Ge=ie(U.message)),xe.append(Ge).addClass(Y.messageClass),le.append(xe)}}function cn(){Y.closeButton&&(se.addClass(Y.closeClass).attr("role","button"),le.prepend(se))}function Je(){Y.progressBar&&(Q.addClass(Y.progressClass),le.prepend(Q))}function Pe(){Y.rtl&&le.addClass("rtl")}function Kn(Ge,Ft){if(Ge.preventDuplicates){if(Ft.message===p)return!0;p=Ft.message}return!1}function In(Ge){var Ft=Ge&&Y.closeMethod!==!1?Y.closeMethod:Y.hideMethod,Ji=Ge&&Y.closeDuration!==!1?Y.closeDuration:Y.hideDuration,ws=Ge&&Y.closeEasing!==!1?Y.closeEasing:Y.hideEasing;if(!(n(":focus",le).length&&!Ge))return clearTimeout(N.intervalId),le[Ft]({duration:Ji,easing:ws,complete:function(){te(le),clearTimeout(he),Y.onHidden&&C.state!=="hidden"&&Y.onHidden(),C.state="hidden",C.endTime=new Date,J(C)}})}function hi(){(Y.timeOut>0||Y.extendedTimeOut>0)&&(he=setTimeout(In,Y.extendedTimeOut),N.maxHideTime=parseFloat(Y.extendedTimeOut),N.hideEta=new Date().getTime()+N.maxHideTime)}function pi(){clearTimeout(he),N.hideEta=0,le.stop(!0,!0)[Y.showMethod]({duration:Y.showDuration,easing:Y.showEasing})}function Sn(){var Ge=(N.hideEta-new Date().getTime())/N.maxHideTime*100;Q.width(Ge+"%")}}function f(){return n.extend({},z(),d.options)}function te(U){i||(i=_()),!U.is(":visible")&&(U.remove(),U=null,i.children().length===0&&(i.remove(),p=void 0))}}()})})(function(e,n){t.exports?t.exports=n(eu()):window.toastr=n(window.jQuery)})})(nu);var Od=nu.exports;const Ay=ml(Od),tr=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]",on=(...t)=>{let e=!1;typeof t[0]=="boolean"&&(e=t.shift());let n=t[0];if(!n||typeof n!="object")throw new Error("extendee must be an object");const i=t.slice(1),r=i.length;for(let l=0;l<r;l++){const c=i[l];for(let d in c)if(c.hasOwnProperty(d)){const p=c[d];if(e&&(Array.isArray(p)||tr(p))){const v=Array.isArray(p)?[]:{};n[d]=on(!0,n.hasOwnProperty(d)?n[d]:v,p)}else n[d]=p}}return n},Pt=(t,e=1e4)=>(t=parseFloat(t)||0,Math.round((t+Number.EPSILON)*e)/e),Xo=function(t){return!!(t&&typeof t=="object"&&t instanceof Element&&t!==document.body)&&!t.__Panzoom&&(function(e){const n=getComputedStyle(e)["overflow-y"],i=getComputedStyle(e)["overflow-x"],r=(n==="scroll"||n==="auto")&&Math.abs(e.scrollHeight-e.clientHeight)>1,l=(i==="scroll"||i==="auto")&&Math.abs(e.scrollWidth-e.clientWidth)>1;return r||l}(t)?t:Xo(t.parentNode))},Dd=typeof window<"u"&&window.ResizeObserver||class{constructor(t){this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=t}observe(t){if(this.observables.some(n=>n.el===t))return;const e={el:t,size:{height:t.clientHeight,width:t.clientWidth}};this.observables.push(e)}unobserve(t){this.observables=this.observables.filter(e=>e.el!==t)}disconnect(){this.observables=[]}check(){const t=this.observables.filter(e=>{const n=e.el.clientHeight,i=e.el.clientWidth;if(e.size.height!==n||e.size.width!==i)return e.size.height=n,e.size.width=i,!0}).map(e=>e.el);t.length>0&&this.callback(t),window.requestAnimationFrame(this.boundCheck)}};class qs{constructor(e){this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY}}const Yl=(t,e)=>e?Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2):0,Ra=(t,e)=>e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t;class Rd{constructor(e,{start:n=()=>!0,move:i=()=>{},end:r=()=>{}}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._pointerStart=l=>{if(l.buttons>0&&l.button!==0)return;const c=new qs(l);this.currentPointers.some(d=>d.id===c.id)||this._triggerPointerStart(c,l)&&(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd))},this._touchStart=l=>{for(const c of Array.from(l.changedTouches||[]))this._triggerPointerStart(new qs(c),l)},this._move=l=>{const c=this.currentPointers.slice(),d=(p=>"changedTouches"in p)(l)?Array.from(l.changedTouches).map(p=>new qs(p)):[new qs(l)];for(const p of d){const v=this.currentPointers.findIndex(_=>_.id===p.id);v<0||(this.currentPointers[v]=p)}this._moveCallback(c,this.currentPointers.slice(),l)},this._triggerPointerEnd=(l,c)=>{const d=this.currentPointers.findIndex(p=>p.id===l.id);return!(d<0)&&(this.currentPointers.splice(d,1),this.startPointers.splice(d,1),this._endCallback(l,c),!0)},this._pointerEnd=l=>{l.buttons>0&&l.button!==0||this._triggerPointerEnd(new qs(l),l)&&(window.removeEventListener("mousemove",this._move,{passive:!1}),window.removeEventListener("mouseup",this._pointerEnd,{passive:!1}))},this._touchEnd=l=>{for(const c of Array.from(l.changedTouches||[]))this._triggerPointerEnd(new qs(c),l)},this._startCallback=n,this._moveCallback=i,this._endCallback=r,this._element.addEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.addEventListener("touchstart",this._touchStart,{passive:!1}),this._element.addEventListener("touchmove",this._move,{passive:!1}),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd)}stop(){this._element.removeEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.removeEventListener("touchstart",this._touchStart,{passive:!1}),this._element.removeEventListener("touchmove",this._move,{passive:!1}),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,n){return!!this._startCallback(e,n)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}class yl{constructor(e={}){this.options=on(!0,{},e),this.plugins=[],this.events={};for(const n of["on","once"])for(const i of Object.entries(this.options[n]||{}))this[n](...i)}option(e,n,...i){e=String(e);let r=(l=e,c=this.options,l.split(".").reduce(function(d,p){return d&&d[p]},c));var l,c;return typeof r=="function"&&(r=r.call(this,this,...i)),r===void 0?n:r}localize(e,n=[]){return e=(e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,r,l)=>{let c="";l?c=this.option(`${r[0]+r.toLowerCase().substring(1)}.l10n.${l}`):r&&(c=this.option(`l10n.${r}`)),c||(c=i);for(let d=0;d<n.length;d++)c=c.split(n[d][0]).join(n[d][1]);return c})).replace(/\{\{(.*)\}\}/,(i,r)=>r)}on(e,n){if(tr(e)){for(const i of Object.entries(e))this.on(...i);return this}return String(e).split(" ").forEach(i=>{const r=this.events[i]=this.events[i]||[];r.indexOf(n)==-1&&r.push(n)}),this}once(e,n){if(tr(e)){for(const i of Object.entries(e))this.once(...i);return this}return String(e).split(" ").forEach(i=>{const r=(...l)=>{this.off(i,r),n.call(this,this,...l)};r._=n,this.on(i,r)}),this}off(e,n){if(!tr(e))return e.split(" ").forEach(i=>{const r=this.events[i];if(!r||!r.length)return this;let l=-1;for(let c=0,d=r.length;c<d;c++){const p=r[c];if(p&&(p===n||p._===n)){l=c;break}}l!=-1&&r.splice(l,1)}),this;for(const i of Object.entries(e))this.off(...i)}trigger(e,...n){for(const i of[...this.events[e]||[]].slice())if(i&&i.call(this,this,...n)===!1)return!1;for(const i of[...this.events["*"]||[]].slice())if(i&&i.call(this,e,this,...n)===!1)return!1;return!0}attachPlugins(e){const n={};for(const[i,r]of Object.entries(e||{}))this.options[i]===!1||this.plugins[i]||(this.options[i]=on({},r.defaults||{},this.options[i]),n[i]=new r(this));for(const[i,r]of Object.entries(n))r.attach(this);return this.plugins=Object.assign({},this.plugins,n),this}detachPlugins(){for(const e in this.plugins){let n;(n=this.plugins[e])&&typeof n.detach=="function"&&n.detach(this)}return this.plugins={},this}}const Pd={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1};class ir extends yl{constructor(e,n={}){super(on(!0,{},Pd,n)),this.state="init",this.$container=e;for(const i of["onLoad","onWheel","onClick"])this[i]=this[i].bind(this);this.initLayout(),this.resetValues(),this.attachPlugins(ir.Plugins),this.trigger("init"),this.updateMetrics(),this.attachEvents(),this.trigger("ready"),this.option("centerOnStart")===!1?this.state="ready":this.panTo({friction:0}),e.__Panzoom=this}initLayout(){const e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");const n=this.option("content")||e.querySelector(".panzoom__content");if(!n)throw new Error("Panzoom: Content not found");this.$content=n;let i=this.option("viewport")||e.querySelector(".panzoom__viewport");i||this.option("wrapInner")===!1||(i=document.createElement("div"),i.classList.add("panzoom__viewport"),i.append(...e.childNodes),e.appendChild(i)),this.$viewport=i||n.parentNode}resetValues(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origWidth:0,origHeight:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}onLoad(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}onClick(e){if(e.defaultPrevented||document.activeElement&&document.activeElement.closest("[contenteditable]"))return;if(this.option("textSelection")&&window.getSelection().toString().length&&(!e.target||!e.target.hasAttribute("data-fancybox-close")))return void e.stopPropagation();const n=this.$content.getClientRects()[0];if(this.state!=="ready"&&(this.dragPosition.midPoint||Math.abs(n.top-this.dragStart.rect.top)>1||Math.abs(n.left-this.dragStart.rect.left)>1))return e.preventDefault(),void e.stopPropagation();this.trigger("click",e)!==!1&&this.option("zoom")&&this.option("click")==="toggleZoom"&&(e.preventDefault(),e.stopPropagation(),this.zoomWithClick(e))}onWheel(e){this.trigger("wheel",e)!==!1&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}zoomWithWheel(e){this.changedDelta===void 0&&(this.changedDelta=0);const n=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),i=this.content.scale;let r=i*(100+n*this.option("wheelFactor"))/100;if(n<0&&Math.abs(i-this.option("minScale"))<.01||n>0&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(n),r=i):(this.changedDelta=0,r=Math.max(Math.min(r,this.option("maxScale")),this.option("minScale"))),this.changedDelta>this.option("wheelLimit")||(e.preventDefault(),r===i))return;const l=this.$content.getBoundingClientRect(),c=e.clientX-l.left,d=e.clientY-l.top;this.zoomTo(r,{x:c,y:d})}zoomWithClick(e){const n=this.$content.getClientRects()[0],i=e.clientX-n.left,r=e.clientY-n.top;this.toggleZoom({x:i,y:r})}attachEvents(){this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver();const e=new Rd(this.$container,{start:(n,i)=>{if(!this.option("touch")||this.velocity.scale<0)return!1;const r=i.composedPath()[0];return!e.currentPointers.length&&(["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName)!==-1||this.option("textSelection")&&((l,c,d)=>{const p=l.childNodes,v=document.createRange();for(let _=0;_<p.length;_++){const I=p[_];if(I.nodeType!==Node.TEXT_NODE)continue;v.selectNodeContents(I);const D=v.getBoundingClientRect();if(c>=D.left&&d>=D.top&&c<=D.right&&d<=D.bottom)return I}return!1})(r,n.clientX,n.clientY))?!1:!Xo(r)&&this.trigger("touchStart",i)!==!1&&(i.type==="mousedown"&&i.preventDefault(),this.state="pointerdown",this.resetDragPosition(),this.dragPosition.midPoint=null,this.dragPosition.time=Date.now(),!0)},move:(n,i,r)=>{if(this.state!=="pointerdown")return;if(this.trigger("touchMove",r)===!1)return void r.preventDefault();if(i.length<2&&this.option("panOnlyZoomed")===!0&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")||i.length>1&&(!this.option("zoom")||this.option("pinchToZoom")===!1))return;const l=Ra(n[0],n[1]),c=Ra(i[0],i[1]),d=c.clientX-l.clientX,p=c.clientY-l.clientY,v=Yl(n[0],n[1]),_=Yl(i[0],i[1]),I=v&&_?_/v:1;this.dragOffset.x+=d,this.dragOffset.y+=p,this.dragOffset.scale*=I,this.dragOffset.time=Date.now()-this.dragPosition.time;const D=this.dragStart.scale===1&&this.option("lockAxis");if(D&&!this.lockAxis){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void r.preventDefault();const O=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockAxis=O>45&&O<135?"y":"x"}if(D==="xy"||this.lockAxis!=="y"){if(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation(),this.lockAxis&&(this.dragOffset[this.lockAxis==="x"?"y":"x"]=0),this.$container.classList.add(this.option("draggingClass")),this.transform.scale===this.option("baseScale")&&this.lockAxis==="y"||(this.dragPosition.x=this.dragStart.x+this.dragOffset.x),this.transform.scale===this.option("baseScale")&&this.lockAxis==="x"||(this.dragPosition.y=this.dragStart.y+this.dragOffset.y),this.dragPosition.scale=this.dragStart.scale*this.dragOffset.scale,i.length>1){const O=Ra(e.startPointers[0],e.startPointers[1]),T=O.clientX-this.dragStart.rect.x,x=O.clientY-this.dragStart.rect.y,{deltaX:P,deltaY:G}=this.getZoomDelta(this.content.scale*this.dragOffset.scale,T,x);this.dragPosition.x-=P,this.dragPosition.y-=G,this.dragPosition.midPoint=c}else this.setDragResistance();this.transform={x:this.dragPosition.x,y:this.dragPosition.y,scale:this.dragPosition.scale},this.startAnimation()}},end:(n,i)=>{if(this.state!=="pointerdown")return;if(this._dragOffset={...this.dragOffset},e.currentPointers.length)return void this.resetDragPosition();if(this.state="decel",this.friction=this.option("decelFriction"),this.recalculateTransform(),this.$container.classList.remove(this.option("draggingClass")),this.trigger("touchEnd",i)===!1||this.state!=="decel")return;const r=this.option("minScale");if(this.transform.scale<r)return void this.zoomTo(r,{friction:.64});const l=this.option("maxScale");if(this.transform.scale-l>.01){const c=this.dragPosition.midPoint||n,d=this.$content.getClientRects()[0];this.zoomTo(l,{friction:.64,x:c.clientX-d.left,y:c.clientY-d.top})}}});this.pointerTracker=e}initObserver(){this.resizeObserver||(this.resizeObserver=new Dd(()=>{this.updateTimer||(this.updateTimer=setTimeout(()=>{const e=this.$container.getBoundingClientRect();e.width&&e.height?((Math.abs(e.width-this.container.width)>1||Math.abs(e.height-this.container.height)>1)&&(this.isAnimating()&&this.endAnimation(!0),this.updateMetrics(),this.panTo({x:this.content.x,y:this.content.y,scale:this.option("baseScale"),friction:0})),this.updateTimer=null):this.updateTimer=null},this.updateRate))}),this.resizeObserver.observe(this.$container))}resetDragPosition(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};const{x:e,y:n,scale:i}=this.content;this.dragStart={rect:this.$content.getBoundingClientRect(),x:e,y:n,scale:i},this.dragPosition={...this.dragPosition,x:e,y:n,scale:i},this.dragOffset={x:0,y:0,scale:1,time:0}}updateMetrics(e){e!==!0&&this.trigger("beforeUpdate");const n=this.$container,i=this.$content,r=this.$viewport,l=i instanceof HTMLImageElement,c=this.option("zoom"),d=this.option("resizeParent",c);let p=this.option("width"),v=this.option("height"),_=p||(I=i,Math.max(parseFloat(I.naturalWidth||0),parseFloat(I.width&&I.width.baseVal&&I.width.baseVal.value||0),parseFloat(I.offsetWidth||0),parseFloat(I.scrollWidth||0)));var I;let D=v||(z=>Math.max(parseFloat(z.naturalHeight||0),parseFloat(z.height&&z.height.baseVal&&z.height.baseVal.value||0),parseFloat(z.offsetHeight||0),parseFloat(z.scrollHeight||0)))(i);Object.assign(i.style,{width:p?`${p}px`:"",height:v?`${v}px`:"",maxWidth:"",maxHeight:""}),d&&Object.assign(r.style,{width:"",height:""});const O=this.option("ratio");_=Pt(_*O),D=Pt(D*O),p=_,v=D;const T=i.getBoundingClientRect(),x=r.getBoundingClientRect(),P=r==n?x:n.getBoundingClientRect();let G=Math.max(r.offsetWidth,Pt(x.width)),M=Math.max(r.offsetHeight,Pt(x.height)),H=window.getComputedStyle(r);if(G-=parseFloat(H.paddingLeft)+parseFloat(H.paddingRight),M-=parseFloat(H.paddingTop)+parseFloat(H.paddingBottom),this.viewport.width=G,this.viewport.height=M,c){if(Math.abs(_-T.width)>.1||Math.abs(D-T.height)>.1){const z=((J,ee,f,te)=>{const U=Math.min(f/J||0,te/ee);return{width:J*U||0,height:ee*U||0}})(_,D,Math.min(_,T.width),Math.min(D,T.height));p=Pt(z.width),v=Pt(z.height)}Object.assign(i.style,{width:`${p}px`,height:`${v}px`,transform:""})}if(d&&(Object.assign(r.style,{width:`${p}px`,height:`${v}px`}),this.viewport={...this.viewport,width:p,height:v}),l&&c&&typeof this.options.maxScale!="function"){const z=this.option("maxScale");this.options.maxScale=function(){return this.content.origWidth>0&&this.content.fitWidth>0?this.content.origWidth/this.content.fitWidth:z}}this.content={...this.content,origWidth:_,origHeight:D,fitWidth:p,fitHeight:v,width:p,height:v,scale:1,isZoomable:c},this.container={width:P.width,height:P.height},e!==!0&&this.trigger("afterUpdate")}zoomIn(e){this.zoomTo(this.content.scale+(e||this.option("step")))}zoomOut(e){this.zoomTo(this.content.scale-(e||this.option("step")))}toggleZoom(e={}){const n=this.option("maxScale"),i=this.option("baseScale"),r=this.content.scale>i+.5*(n-i)?i:n;this.zoomTo(r,e)}zoomTo(e=this.option("baseScale"),{x:n=null,y:i=null}={}){e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale"));const r=Pt(this.content.scale/(this.content.width/this.content.fitWidth),1e7);n===null&&(n=this.content.width*r*.5),i===null&&(i=this.content.height*r*.5);const{deltaX:l,deltaY:c}=this.getZoomDelta(e,n,i);n=this.content.x-l,i=this.content.y-c,this.panTo({x:n,y:i,scale:e,friction:this.option("zoomFriction")})}getZoomDelta(e,n=0,i=0){const r=this.content.fitWidth*this.content.scale,l=this.content.fitHeight*this.content.scale,c=n>0&&r?n/r:0,d=i>0&&l?i/l:0;return{deltaX:(this.content.fitWidth*e-r)*c,deltaY:(this.content.fitHeight*e-l)*d}}panTo({x:e=this.content.x,y:n=this.content.y,scale:i,friction:r=this.option("friction"),ignoreBounds:l=!1}={}){if(i=i||this.content.scale||1,!l){const{boundX:c,boundY:d}=this.getBounds(i);c&&(e=Math.max(Math.min(e,c.to),c.from)),d&&(n=Math.max(Math.min(n,d.to),d.from))}this.friction=r,this.transform={...this.transform,x:e,y:n,scale:i},r?(this.state="panning",this.velocity={x:(1/this.friction-1)*(e-this.content.x),y:(1/this.friction-1)*(n-this.content.y),scale:(1/this.friction-1)*(i-this.content.scale)},this.startAnimation()):this.endAnimation()}startAnimation(){this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(()=>this.animate())}animate(){if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if(this.state!=="pointerdown")return void this.endAnimation();this.rAF=requestAnimationFrame(()=>this.animate())}getBounds(e){let n=this.boundX,i=this.boundY;if(n!==void 0&&i!==void 0)return{boundX:n,boundY:i};n={from:0,to:0},i={from:0,to:0},e=e||this.transform.scale;const r=this.content.fitWidth*e,l=this.content.fitHeight*e,c=this.viewport.width,d=this.viewport.height;if(r<c){const p=Pt(.5*(c-r));n.from=p,n.to=p}else n.from=Pt(c-r);if(l<d){const p=.5*(d-l);i.from=p,i.to=p}else i.from=Pt(d-l);return{boundX:n,boundY:i}}setEdgeForce(){if(this.state!=="decel")return;const e=this.option("bounceForce"),{boundX:n,boundY:i}=this.getBounds(Math.max(this.transform.scale,this.content.scale));let r,l,c,d;if(n&&(r=this.content.x<n.from,l=this.content.x>n.to),i&&(c=this.content.y<i.from,d=this.content.y>i.to),r||l){let p=((r?n.from:n.to)-this.content.x)*e;const v=this.content.x+(this.velocity.x+p)/this.friction;v>=n.from&&v<=n.to&&(p+=this.velocity.x),this.velocity.x=p,this.recalculateTransform()}if(c||d){let p=((c?i.from:i.to)-this.content.y)*e;const v=this.content.y+(p+this.velocity.y)/this.friction;v>=i.from&&v<=i.to&&(p+=this.velocity.y),this.velocity.y=p,this.recalculateTransform()}}setDragResistance(){if(this.state!=="pointerdown")return;const{boundX:e,boundY:n}=this.getBounds(this.dragPosition.scale);let i,r,l,c;if(e&&(i=this.dragPosition.x<e.from,r=this.dragPosition.x>e.to),n&&(l=this.dragPosition.y<n.from,c=this.dragPosition.y>n.to),(i||r)&&(!i||!r)){const d=i?e.from:e.to,p=d-this.dragPosition.x;this.dragPosition.x=d-.3*p}if((l||c)&&(!l||!c)){const d=l?n.from:n.to,p=d-this.dragPosition.y;this.dragPosition.y=d-.3*p}}setDragForce(){this.state==="pointerdown"&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}recalculateTransform(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}isAnimating(){return!(!this.friction||!(Math.abs(this.velocity.x)>.05||Math.abs(this.velocity.y)>.05||Math.abs(this.velocity.scale)>.05))}setTransform(e){let n,i,r;if(e?(n=Pt(this.transform.x),i=Pt(this.transform.y),r=this.transform.scale,this.content={...this.content,x:n,y:i,scale:r}):(n=Pt(this.content.x),i=Pt(this.content.y),r=this.content.scale/(this.content.width/this.content.fitWidth),this.content={...this.content,x:n,y:i}),this.trigger("beforeTransform"),n=Pt(this.content.x),i=Pt(this.content.y),e&&this.option("zoom")){let l,c;l=Pt(this.content.fitWidth*r),c=Pt(this.content.fitHeight*r),this.content.width=l,this.content.height=c,this.transform={...this.transform,width:l,height:c,scale:r},Object.assign(this.$content.style,{width:`${l}px`,height:`${c}px`,maxWidth:"none",maxHeight:"none",transform:`translate3d(${n}px, ${i}px, 0) scale(1)`})}else this.$content.style.transform=`translate3d(${n}px, ${i}px, 0) scale(${r})`;this.trigger("afterTransform")}endAnimation(e){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor(),e!==!0&&this.trigger("endAnimation")}handleCursor(){const e=this.option("draggableClass");e&&this.option("touch")&&(this.option("panOnlyZoomed")==1&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}detachEvents(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}destroy(){this.state!=="destroy"&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}ir.version="4.0.31",ir.Plugins={};const Xl=(t,e)=>{let n=0;return function(...i){const r=new Date().getTime();if(!(r-n<e))return n=r,t(...i)}};class iu{constructor(e){this.$container=null,this.$prev=null,this.$next=null,this.carousel=e,this.onRefresh=this.onRefresh.bind(this)}option(e){return this.carousel.option(`Navigation.${e}`)}createButton(e){const n=document.createElement("button");n.setAttribute("title",this.carousel.localize(`{{${e.toUpperCase()}}}`));const i=this.option("classNames.button")+" "+this.option(`classNames.${e}`);return n.classList.add(...i.split(" ")),n.setAttribute("tabindex","0"),n.innerHTML=this.carousel.localize(this.option(`${e}Tpl`)),n.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),this.carousel["slide"+(e==="next"?"Next":"Prev")]()}),n}build(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(...this.option("classNames.main").split(" ")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}onRefresh(){const e=this.carousel.pages.length;e<=1||e>1&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}cleanup(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}attach(){this.carousel.on("refresh change",this.onRefresh)}detach(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}iu.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};class su{constructor(e){this.carousel=e,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}addAsTargetFor(e){this.target=this.carousel,this.nav=e,this.attachEvents()}addAsNavFor(e){this.target=e,this.nav=this.carousel,this.attachEvents()}attachEvents(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}onNavReady(){this.onTargetChange(!0)}onNavClick(e,n,i){const r=i.target.closest(".carousel__slide");if(!r)return;i.stopPropagation();const l=parseInt(r.dataset.index,10),c=this.target.findPageForSlide(l);this.target.page!==c&&this.target.slideTo(c,{friction:this.friction}),this.markSelectedSlide(l)}onNavCreateSlide(e,n){n.index===this.selectedIndex&&this.markSelectedSlide(n.index)}onTargetChange(){const e=this.target.pages[this.target.page].indexes[0],n=this.nav.findPageForSlide(e);this.nav.slideTo(n),this.markSelectedSlide(e)}markSelectedSlide(e){this.selectedIndex=e,[...this.nav.slides].filter(i=>i.$el&&i.$el.classList.remove("is-nav-selected"));const n=this.nav.slides[e];n&&n.$el&&n.$el.classList.add("is-nav-selected")}attach(e){const n=e.options.Sync;(n.target||n.nav)&&(n.target?this.addAsNavFor(n.target):n.nav&&this.addAsTargetFor(n.nav),this.friction=n.friction)}detach(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}su.defaults={friction:.92};const Ld={Navigation:iu,Dots:class{constructor(t){this.carousel=t,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}buildList(){if(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))return;const t=document.createElement("ol");return t.classList.add("carousel__dots"),t.addEventListener("click",e=>{if(!("page"in e.target.dataset))return;e.preventDefault(),e.stopPropagation();const n=parseInt(e.target.dataset.page,10),i=this.carousel;n!==i.page&&(i.pages.length<3&&i.option("infinite")?i[n==0?"slidePrev":"slideNext"]():i.slideTo(n))}),this.$list=t,this.carousel.$container.appendChild(t),this.carousel.$container.classList.add("has-dots"),t}removeList(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}rebuildDots(){let t=this.$list;const e=!!t,n=this.carousel.pages.length;if(n<2)return void(e&&this.removeList());e||(t=this.buildList());const i=this.$list.children.length;if(i>n)for(let r=n;r<i;r++)this.$list.removeChild(this.$list.lastChild);else{for(let r=i;r<n;r++){const l=document.createElement("li");l.classList.add("carousel__dot"),l.dataset.page=r,l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.setAttribute("title",this.carousel.localize("{{GOTO}}",[["%d",r+1]])),l.addEventListener("keydown",c=>{const d=c.code;let p;d==="Enter"||d==="NumpadEnter"?p=l:d==="ArrowRight"?p=l.nextSibling:d==="ArrowLeft"&&(p=l.previousSibling),p&&p.click()}),this.$list.appendChild(l)}this.setActiveDot()}}setActiveDot(){if(!this.$list)return;this.$list.childNodes.forEach(e=>{e.classList.remove("is-selected")});const t=this.$list.childNodes[this.carousel.page];t&&t.classList.add("is-selected")}onChange(){this.setActiveDot()}onRefresh(){this.rebuildDots()}attach(){this.carousel.on(this.events)}detach(){this.removeList(),this.carousel.off(this.events),this.carousel=null}},Sync:su},Md={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};class sr extends yl{constructor(e,n={}){if(super(n=on(!0,{},Md,n)),this.state="init",this.$container=e,!(this.$container instanceof HTMLElement))throw new Error("No root element provided");this.slideNext=Xl(this.slideNext.bind(this),250),this.slidePrev=Xl(this.slidePrev.bind(this),250),this.init(),e.__Carousel=this}init(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(sr.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform=`translate3d(${-1*this.pages[this.page].left}px, 0px, 0) scale(1)`),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}initLayout(){const e=this.option("prefix"),n=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(`.${e}${n.viewport}`),this.$viewport||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(...(e+n.viewport).split(" ")),this.$viewport.append(...this.$container.childNodes),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(`.${e}${n.track}`),this.$track||(this.$track=document.createElement("div"),this.$track.classList.add(...(e+n.track).split(" ")),this.$track.append(...this.$viewport.childNodes),this.$viewport.appendChild(this.$track))}initSlides(){this.slides=[],this.$viewport.querySelectorAll(`.${this.option("prefix")}${this.option("classNames.slide")}`).forEach(e=>{const n={$el:e,isDom:!0};this.slides.push(n),this.trigger("createSlide",n,this.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=on(!0,[...this.slides],this.options.slides))}updateMetrics(){let e,n=0,i=[];this.slides.forEach((O,T)=>{const x=O.$el,P=O.isDom||!e?this.getSlideMetrics(x):e;O.index=T,O.width=P,O.left=n,e=P,n+=P,i.push(T)});let r=Math.max(this.$track.offsetWidth,Pt(this.$track.getBoundingClientRect().width)),l=getComputedStyle(this.$track);r-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),this.contentWidth=n,this.viewportWidth=r;const c=[],d=this.option("slidesPerPage");if(Number.isInteger(d)&&n>r)for(let O=0;O<this.slides.length;O+=d)c.push({indexes:i.slice(O,O+d),slides:this.slides.slice(O,O+d)});else{let O=0,T=0;for(let x=0;x<this.slides.length;x+=1){let P=this.slides[x];(!c.length||T+P.width>r)&&(c.push({indexes:[],slides:[]}),O=c.length-1,T=0),T+=P.width,c[O].indexes.push(x),c[O].slides.push(P)}}const p=this.option("center"),v=this.option("fill");c.forEach((O,T)=>{O.index=T,O.width=O.slides.reduce((x,P)=>x+P.width,0),O.left=O.slides[0].left,p&&(O.left+=.5*(r-O.width)*-1),v&&!this.option("infiniteX",this.option("infinite"))&&n>r&&(O.left=Math.max(O.left,0),O.left=Math.min(O.left,n-r))});const _=[];let I;c.forEach(O=>{const T={...O};I&&T.left===I.left?(I.width+=T.width,I.slides=[...I.slides,...T.slides],I.indexes=[...I.indexes,...T.indexes]):(T.index=_.length,I=T,_.push(T))}),this.pages=_;let D=this.page;if(D===null){const O=this.option("initialSlide");D=O!==null?this.findPageForSlide(O):parseInt(this.option("initialPage",0),10)||0,_[D]||(D=_.length&&D>_.length?_[_.length-1].index:0),this.page=D,this.pageIndex=D}this.updatePanzoom(),this.trigger("refresh")}getSlideMetrics(e){if(!e){const r=this.slides[0];(e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",e.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),r.customClass&&e.classList.add(...r.customClass.split(" ")),this.$track.prepend(e)}let n=Math.max(e.offsetWidth,Pt(e.getBoundingClientRect().width));const i=e.currentStyle||window.getComputedStyle(e);return n=n+(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0),e.dataset.isTestEl&&e.remove(),n}findPageForSlide(e){e=parseInt(e,10)||0;const n=this.pages.find(i=>i.indexes.indexOf(e)>-1);return n?n.index:null}slideNext(){this.slideTo(this.pageIndex+1)}slidePrev(){this.slideTo(this.pageIndex-1)}slideTo(e,n={}){const{x:i=-1*this.setPage(e,!0),y:r=0,friction:l=this.option("friction")}=n;this.Panzoom.content.x===i&&!this.Panzoom.velocity.x&&l||(this.Panzoom.panTo({x:i,y:r,friction:l,ignoreBounds:!0}),this.state==="ready"&&this.Panzoom.state==="ready"&&this.trigger("settle"))}initPanzoom(){this.Panzoom&&this.Panzoom.destroy();const e=on(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:()=>this.option("textSelection",!1),panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new ir(this.$container,e),this.Panzoom.on({"*":(n,...i)=>this.trigger(`Panzoom.${n}`,...i),afterUpdate:()=>{this.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:()=>{this.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}updatePanzoom(){this.Panzoom&&(this.Panzoom.content={...this.Panzoom.content,fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth},this.pages.length>1&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}manageSlideVisiblity(){const e=this.contentWidth,n=this.viewportWidth;let i=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0;const r=this.option("preload"),l=this.option("infiniteX",this.option("infinite")),c=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),d=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(_=>{let I,D,O=0;I=i-c,D=i+n+d,I-=r*(n+c+d),D+=r*(n+c+d);const T=_.left+_.width>I&&_.left<D;I=i+e-c,D=i+e+n+d,I-=r*(n+c+d);const x=l&&_.left+_.width>I&&_.left<D;I=i-e-c,D=i-e+n+d,I-=r*(n+c+d);const P=l&&_.left+_.width>I&&_.left<D;x||T||P?(this.createSlideEl(_),T&&(O=0),x&&(O=-1),P&&(O=1),_.left+_.width>i&&_.left<=i+n+d&&(O=0)):this.removeSlideEl(_),_.hasDiff=O});let p=0,v=0;this.slides.forEach((_,I)=>{let D=0;_.$el?(I!==p||_.hasDiff?D=v+_.hasDiff*e:v=0,_.$el.style.left=Math.abs(D)>.1?`${v+_.hasDiff*e}px`:"",p++):v+=_.width}),this.markSelectedSlides()}createSlideEl(e){if(!e)return;if(e.$el){let c=e.$el.dataset.index;if(!c||parseInt(c,10)!==e.index){let d;e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-srcset]").forEach(p=>{p.srcset=p.dataset.lazySrcset}),e.$el.querySelectorAll("[data-lazy-src]").forEach(p=>{let v=p.dataset.lazySrc;p instanceof HTMLImageElement?p.src=v:p.style.backgroundImage=`url('${v}')`}),(d=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage=`url('${d}')`),e.state="ready"}return}const n=document.createElement("div");n.dataset.index=e.index,n.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),e.customClass&&n.classList.add(...e.customClass.split(" ")),e.html&&(n.innerHTML=e.html);const i=[];this.slides.forEach((c,d)=>{c.$el&&i.push(d)});const r=e.index;let l=null;if(i.length){let c=i.reduce((d,p)=>Math.abs(p-r)<Math.abs(d-r)?p:d);l=this.slides[c]}return this.$track.insertBefore(n,l&&l.$el?l.index<e.index?l.$el.nextSibling:l.$el:null),e.$el=n,this.trigger("createSlide",e,r),e}removeSlideEl(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}markSelectedSlides(){const e=this.option("classNames.slideSelected"),n="aria-hidden";this.slides.forEach((i,r)=>{const l=i.$el;if(!l)return;const c=this.pages[this.page];c&&c.indexes&&c.indexes.indexOf(r)>-1?(e&&!l.classList.contains(e)&&(l.classList.add(e),this.trigger("selectSlide",i)),l.removeAttribute(n)):(e&&l.classList.contains(e)&&(l.classList.remove(e),this.trigger("unselectSlide",i)),l.setAttribute(n,!0))})}updatePage(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}onBeforeTransform(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}manageInfiniteTrack(){const e=this.contentWidth,n=this.viewportWidth;if(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||e<n)return;const i=this.Panzoom;let r=!1;return i.content.x<-1*(e-n)&&(i.content.x+=e,this.pageIndex=this.pageIndex-this.pages.length,r=!0),i.content.x>n&&(i.content.x-=e,this.pageIndex=this.pageIndex+this.pages.length,r=!0),r&&i.state==="pointerdown"&&i.resetDragPosition(),r}onTouchEnd(e,n){const i=this.option("dragFree");if(!i&&this.pages.length>1&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&Math.abs(e.dragOffset.x)>5)this[e.dragOffset.x<0?"slideNext":"slidePrev"]();else if(i){const[,r]=this.getPageFromPosition(-1*e.transform.x);this.setPage(r)}else this.slideToClosest()}slideToClosest(e={}){let[,n]=this.getPageFromPosition(-1*this.Panzoom.content.x);this.slideTo(n,e)}getPageFromPosition(e){const n=this.pages.length;this.option("center")&&(e+=.5*this.viewportWidth);const i=Math.floor(e/this.contentWidth);e-=i*this.contentWidth;let r=this.slides.find(l=>l.left<=e&&l.left+l.width>e);if(r){let l=this.findPageForSlide(r.index);return[l,l+i*n]}return[0,0]}setPage(e,n){let i=0,r=parseInt(e,10)||0;const l=this.page,c=this.pageIndex,d=this.pages.length,p=this.contentWidth,v=this.viewportWidth;if(e=(r%d+d)%d,this.option("infiniteX",this.option("infinite"))&&p>v){const _=Math.floor(r/d)||0,I=p;if(i=this.pages[e].left+_*I,n===!0&&d>2){let D=-1*this.Panzoom.content.x;const O=i-I,T=i+I,x=Math.abs(D-i),P=Math.abs(D-O),G=Math.abs(D-T);G<x&&G<=P?(i=T,r+=d):P<x&&P<G&&(i=O,r-=d)}}else e=r=Math.max(0,Math.min(r,d-1)),i=this.pages.length?this.pages[e].left:0;return this.page=e,this.pageIndex=r,l!==null&&e!==l&&(this.prevPage=l,this.prevPageIndex=c,this.trigger("change",e,l)),i}destroy(){this.state="destroy",this.slides.forEach(e=>{this.removeSlideEl(e)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}sr.version="4.0.31",sr.Plugins=Ld;const Zo=!(typeof window>"u"||!window.document||!window.document.createElement);let Pa=null;const Zl=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'],Fr=t=>{if(t&&Zo){Pa===null&&document.createElement("div").focus({get preventScroll(){return Pa=!0,!1}});try{if(t.setActive)t.setActive();else if(Pa)t.focus({preventScroll:!0});else{const e=window.pageXOffset||document.body.scrollTop,n=window.pageYOffset||document.body.scrollLeft;t.focus(),document.body.scrollTo({top:e,left:n,behavior:"auto"})}}catch{}}},Nd={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{},tpl:`<div class="fancybox__thumb" style="background-image:url('{{src}}')"></div>`};class ru{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const n of["onPrepare","onClosing","onKeydown"])this[n]=this[n].bind(this);this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}onPrepare(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":this.fancybox.option("Thumbs.autoStart")===!0&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}onClosing(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}onKeydown(e,n){n===e.option("Thumbs.key")&&this.toggle()}build(){if(this.$container)return;const e=document.createElement("div");e.classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel.nextSibling),this.Carousel=new sr(e,on(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",(n,i)=>{i.preventDefault(),this.fancybox[i.deltaY<0?"prev":"next"]()}),this.$container=e,this.state="visible"}getSlides(){const e=[];for(const n of this.fancybox.items){const i=n.thumb;i&&e.push({html:this.fancybox.option("Thumbs.tpl").replace(/\{\{src\}\}/gi,i),customClass:`has-thumb has-${n.type||"image"}`})}return e}toggle(){this.state==="visible"?this.hide():this.state==="hidden"?this.show():this.build()}show(){this.state==="hidden"&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}hide(){this.state==="visible"&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}cleanup(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}ru.defaults=Nd;const Kl=(t,e)=>{const n=new URL(t),i=new URLSearchParams(n.search);let r=new URLSearchParams;for(const[c,d]of[...i,...Object.entries(e)])c==="t"?r.set("start",parseInt(d)):r.set(c,d);r=r.toString();let l=t.match(/#t=((.*)?\d+s)/);return l&&(r+=`#t=${l[1]}`),r},ou={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,format:""}};class au{constructor(e){this.fancybox=e;for(const n of["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"])this[n]=this[n].bind(this);this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}onInit(){for(const e of this.fancybox.items)this.processType(e)}processType(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;const n=e.src||"";let i=e.type||this.fancybox.options.type,r=null;if(!n||typeof n=="string"){if(r=n.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const l=Kl(n,this.fancybox.option("Html.youtube")),c=encodeURIComponent(r[1]);e.videoId=c,e.src=`https://www.youtube-nocookie.com/embed/${c}?${l}`,e.thumb=e.thumb||`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,e.vendor="youtube",i="video"}else if(r=n.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/)){const l=Kl(n,this.fancybox.option("Html.vimeo")),c=encodeURIComponent(r[1]);e.videoId=c,e.src=`https://player.vimeo.com/video/${c}?${l}`,e.vendor="vimeo",i="video"}else(r=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`//maps.google.${r[1]}/?ll=${(r[2]?r[2]+"&z="+Math.floor(r[3])+(r[4]?r[4].replace(/^\//,"&"):""):r[4]+"").replace(/\?/,"&")}&output=${r[4]&&r[4].indexOf("layer=c")>0?"svembed":"embed"}`,i="map"):(r=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`//maps.google.${r[1]}/maps?q=${r[2].replace("query=","q=").replace("api=1","")}&output=embed`,i="map");i||(n.charAt(0)==="#"?i="inline":(r=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.format=e.format||"video/"+(r[1]==="ogv"?"ogg":r[1])):n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":n.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),e.type=i||this.fancybox.option("defaultType","image"),i!=="html5video"&&i!=="video"||(e.video=on({},this.fancybox.option("Html.video"),e.video),e._width&&e._height?e.ratio=parseFloat(e._width)/parseFloat(e._height):e.ratio=e.ratio||e.video.ratio||ou.video.ratio)}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&(this.setContent(e),e.index===this.fancybox.getSlide().index&&this.playVideo(e))})}onCreateSlide(e,n,i){this.fancybox.state==="ready"&&this.setContent(i)}loadInlineContent(e){let n;if(e.src instanceof HTMLElement)n=e.src;else if(typeof e.src=="string"){const i=e.src.split("#",2),r=i.length===2&&i[0]===""?i[1]:i[0];n=document.getElementById(r)}if(n){if(e.type==="clone"||n.$placeHolder){n=n.cloneNode(!0);let i=n.getAttribute("id");i=i?`${i}--clone`:`clone-${this.fancybox.id}-${e.index}`,n.setAttribute("id",i)}else{const i=document.createElement("div");i.classList.add("fancybox-placeholder"),n.parentNode.insertBefore(i,n),n.$placeHolder=i}this.fancybox.setContent(e,n)}else this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}loadAjaxContent(e){const n=this.fancybox,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state==="ready"&&(n.hideLoading(e),i.status===200?n.setContent(e,i.responseText):n.setError(e,i.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const r=e.ajax||null;i.open(r?"POST":"GET",e.src),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(r),e.xhr=i}loadIframeContent(e){const n=this.fancybox,i=document.createElement("iframe");if(i.className="fancybox__iframe",i.setAttribute("id",`fancybox__iframe_${n.id}_${e.index}`),i.setAttribute("allow","autoplay; fullscreen"),i.setAttribute("scrolling","auto"),e.$iframe=i,e.type!=="iframe"||e.preload===!1)return i.setAttribute("src",e.src),this.fancybox.setContent(e,i),void this.resizeIframe(e);n.showLoading(e);const r=document.createElement("div");r.style.visibility="hidden",this.fancybox.setContent(e,r),r.appendChild(i),i.onerror=()=>{n.setError(e,"{{IFRAME_ERROR}}")},i.onload=()=>{n.hideLoading(e);let l=!1;i.isReady||(i.isReady=!0,l=!0),i.src.length&&(i.parentNode.style.visibility="",this.resizeIframe(e),l&&n.revealContent(e))},i.setAttribute("src",e.src)}setAspectRatio(e){const n=e.$content,i=e.ratio;if(!n)return;let r=e._width,l=e._height;if(i||r&&l){Object.assign(n.style,{width:r&&l?"100%":"",height:r&&l?"100%":"",maxWidth:"",maxHeight:""});let c=n.offsetWidth,d=n.offsetHeight;if(r=r||c,l=l||d,r>c||l>d){let p=Math.min(c/r,d/l);r*=p,l*=p}Math.abs(r/l-i)>.01&&(i<r/l?r=l*i:l=r/i),Object.assign(n.style,{width:`${r}px`,height:`${l}px`})}}resizeIframe(e){const n=e.$iframe;if(!n)return;let i=e._width||0,r=e._height||0;i&&r&&(e.autoSize=!1);const l=n.parentNode,c=l&&l.style;if(e.preload!==!1&&e.autoSize!==!1&&c)try{const d=window.getComputedStyle(l),p=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),v=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),_=n.contentWindow.document,I=_.getElementsByTagName("html")[0],D=_.body;c.width="",D.style.overflow="hidden",i=i||I.scrollWidth+p,c.width=`${i}px`,D.style.overflow="",c.flex="0 0 auto",c.height=`${D.scrollHeight}px`,r=I.scrollHeight+v}catch{}if(i||r){const d={flex:"0 1 auto"};i&&(d.width=`${i}px`),r&&(d.height=`${r}px`),Object.assign(c,d)}}onRefresh(e,n){n.slides.forEach(i=>{i.$el&&(i.$iframe&&this.resizeIframe(i),i.ratio&&this.setAspectRatio(i))})}setContent(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.poster||e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"video":case"map":e.preload=!1;case"iframe":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}onSelectSlide(e,n,i){e.state==="ready"&&this.playVideo(i)}playVideo(e){if(e.type==="html5video"&&e.video.autoplay)try{const i=e.$el.querySelector("video");if(i){const r=i.play();r!==void 0&&r.then(()=>{}).catch(l=>{i.muted=!0,i.play()})}}catch{}if(e.type!=="video"||!e.$iframe||!e.$iframe.contentWindow)return;const n=()=>{if(e.state==="done"&&e.$iframe&&e.$iframe.contentWindow){let i;if(e.$iframe.isReady)return e.video&&e.video.autoplay&&(i=e.vendor=="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(i&&e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"));e.vendor==="youtube"&&(i={event:"listening",id:e.$iframe.getAttribute("id")},e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"))}e.poller=setTimeout(n,250)};n()}onUnselectSlide(e,n,i){if(i.type==="html5video"){try{i.$el.querySelector("video").pause()}catch{}return}let r=!1;i.vendor=="vimeo"?r={method:"pause",value:"true"}:i.vendor==="youtube"&&(r={event:"command",func:"pauseVideo"}),r&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(r),"*"),clearTimeout(i.poller)}onRemoveSlide(e,n,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);const r=i.$content;i.type==="inline"&&r&&(r.classList.remove("fancybox__content"),r.style.display!=="none"&&(r.style.display="none")),i.$closeButton&&(i.$closeButton.remove(),i.$closeButton=null);const l=r&&r.$placeHolder;l&&(l.parentNode.insertBefore(r,l),l.remove(),r.$placeHolder=null)}onMessage(e){try{let n=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(n.event==="ready")for(let i of document.getElementsByClassName("fancybox__iframe"))i.contentWindow===e.source&&(i.isReady=1)}else e.origin==="https://www.youtube-nocookie.com"&&n.event==="onReady"&&(document.getElementById(n.id).isReady=1)}catch{}}attach(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}detach(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}au.defaults=ou;class lu{constructor(e){this.fancybox=e;for(const n of["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"])this[n]=this[n].bind(this);this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&this.setContent(e)})}onDone(e,n){this.handleCursor(n)}onClosing(e){clearTimeout(this.clickTimer),this.clickTimer=null,e.Carousel.slides.forEach(n=>{n.$image&&(n.state="destroy"),n.Panzoom&&n.Panzoom.detachEvents()}),this.fancybox.state==="closing"&&this.canZoom(e.getSlide())&&this.zoomOut()}onCreateSlide(e,n,i){this.fancybox.state==="ready"&&this.setContent(i)}onRemoveSlide(e,n,i){i.$image&&(i.$el.classList.remove(e.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}setContent(e){if(e.isDom||e.html||e.type&&e.type!=="image"||e.$image)return;e.type="image",e.state="loading";const n=document.createElement("div");n.style.visibility="hidden";const i=document.createElement("img");i.addEventListener("load",l=>{l.stopImmediatePropagation(),this.onImageStatusChange(e)}),i.addEventListener("error",()=>{this.onImageStatusChange(e)}),i.src=e.src,i.alt="",i.draggable=!1,i.classList.add("fancybox__image"),e.srcset&&i.setAttribute("srcset",e.srcset),e.sizes&&i.setAttribute("sizes",e.sizes),e.$image=i;const r=this.fancybox.option("Image.wrap");if(r){const l=document.createElement("div");l.classList.add(typeof r=="string"?r:"fancybox__image-wrap"),l.appendChild(i),n.appendChild(l),e.$wrap=l}else n.appendChild(i);e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,n),i.complete||i.error?this.onImageStatusChange(e):this.fancybox.showLoading(e)}onImageStatusChange(e){const n=e.$image;n&&e.state==="loading"&&(n.complete&&n.naturalWidth&&n.naturalHeight?(this.fancybox.hideLoading(e),this.fancybox.option("Image.fit")==="contain"&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",i=>this.onWheel(e,i),{passive:!1}),e.$content.addEventListener("click",i=>this.onClick(e,i),{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}initSlidePanzoom(e){e.Panzoom||(e.Panzoom=new ir(e.$el,on(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,width:e._width,height:e._height,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",()=>{this.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",()=>{e.state==="zoomIn"&&this.fancybox.done(e),this.handleCursor(e),this.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",()=>{this.handleCursor(e),this.fancybox.trigger("Image.afterUpdate",e)}))}revealContent(e){this.fancybox.Carousel.prevPage===null&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}getZoomInfo(e){const n=e.$thumb.getBoundingClientRect(),i=n.width,r=n.height,l=e.$content.getBoundingClientRect(),c=l.width,d=l.height,p=l.top-n.top,v=l.left-n.left;let _=this.fancybox.option("Image.zoomOpacity");return _==="auto"&&(_=Math.abs(i/r-c/d)>.1),{top:p,left:v,scale:c&&i?i/c:1,opacity:_}}canZoom(e){const n=this.fancybox,i=n.$container;if(window.visualViewport&&window.visualViewport.scale!==1||e.Panzoom&&!e.Panzoom.content.width||!n.option("Image.zoom")||n.option("Image.fit")!=="contain")return!1;const r=e.$thumb;if(!r||e.state==="loading")return!1;i.classList.add("fancybox__no-click");const l=r.getBoundingClientRect();let c;if(this.fancybox.option("Image.ignoreCoveredThumbnail")){const d=document.elementFromPoint(l.left+1,l.top+1)===r,p=document.elementFromPoint(l.right-1,l.bottom-1)===r;c=d&&p}else c=document.elementFromPoint(l.left+.5*l.width,l.top+.5*l.height)===r;return i.classList.remove("fancybox__no-click"),c}zoomIn(){const e=this.fancybox,n=e.getSlide(),i=n.Panzoom,{top:r,left:l,scale:c,opacity:d}=this.getZoomInfo(n);e.trigger("reveal",n),i.panTo({x:-1*l,y:-1*r,scale:c,friction:0,ignoreBounds:!0}),n.$content.style.visibility="",n.state="zoomIn",d===!0&&i.on("afterTransform",p=>{n.state!=="zoomIn"&&n.state!=="zoomOut"||(p.$content.style.opacity=Math.min(1,1-(1-p.content.scale)/(1-c)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}zoomOut(){const e=this.fancybox,n=e.getSlide(),i=n.Panzoom;if(!i)return;n.state="zoomOut",e.state="customClosing",n.$caption&&(n.$caption.style.visibility="hidden");let r=this.fancybox.option("Image.zoomFriction");const l=c=>{const{top:d,left:p,scale:v,opacity:_}=this.getZoomInfo(n);c||_||(r*=.82),i.panTo({x:-1*p,y:-1*d,scale:v,friction:r,ignoreBounds:!0}),r*=.98};window.addEventListener("scroll",l),i.once("endAnimation",()=>{window.removeEventListener("scroll",l),e.destroy()}),l()}handleCursor(e){if(e.type!=="image"||!e.$el)return;const n=e.Panzoom,i=this.fancybox.option("Image.click",!1,e),r=this.fancybox.option("Image.touch"),l=e.$el.classList,c=this.fancybox.option("Image.canZoomInClass"),d=this.fancybox.option("Image.canZoomOutClass");l.remove(d),l.remove(c),n&&i==="toggleZoom"?n&&n.content.scale===1&&n.option("maxScale")-n.content.scale>.01?l.add(c):n.content.scale>1&&!r&&l.add(d):i==="close"&&l.add(d)}onWheel(e,n){if(this.fancybox.state==="ready"&&this.fancybox.trigger("Image.wheel",n)!==!1)switch(this.fancybox.option("Image.wheel")){case"zoom":e.state==="done"&&e.Panzoom&&e.Panzoom.zoomWithWheel(n);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[n.deltaY<0?"prev":"next"]()}}onClick(e,n){if(this.fancybox.state!=="ready")return;const i=e.Panzoom;if(i&&(i.dragPosition.midPoint||i.dragOffset.x!==0||i.dragOffset.y!==0||i.dragOffset.scale!==1))return;if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;const r=d=>{switch(d){case"toggleZoom":n.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(n);break;case"close":this.fancybox.close();break;case"next":n.stopPropagation(),this.fancybox.next()}},l=this.fancybox.option("Image.click"),c=this.fancybox.option("Image.doubleClick");c?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,r(c)):this.clickTimer=setTimeout(()=>{this.clickTimer=null,r(l)},300):r(l)}onPageChange(e,n){const i=e.getSlide();n.slides.forEach(r=>{r.Panzoom&&r.state==="done"&&r.index!==i.index&&r.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events)}}lu.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};class jn{constructor(e){this.fancybox=e;for(const n of["onChange","onClosing"])this[n]=this[n].bind(this);this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}onChange(e){const n=e.Carousel;this.timer&&clearTimeout(this.timer);const i=n.prevPage===null,r=e.getSlide(),l=new URL(document.URL).hash;let c=!1;if(r.slug)c="#"+r.slug;else{const d=r.$trigger&&r.$trigger.dataset,p=e.option("slug")||d&&d.fancybox;p&&p.length&&p!=="true"&&(c="#"+p+(n.slides.length>1?"-"+(r.index+1):""))}i&&(this.origHash=l!==c?l:""),c&&l!==c&&(this.timer=setTimeout(()=>{try{window.history[i?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+c),i&&(this.hasCreatedHistory=!0)}catch{}},300))}onClosing(){if(this.timer&&clearTimeout(this.timer),this.hasSilentClose!==!0)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch{}}attach(e){e.on(this.events)}detach(e){e.off(this.events)}static startFromUrl(){const e=jn.Fancybox;if(!e||e.getInstance()||e.defaults.Hash===!1)return;const{hash:n,slug:i,index:r}=jn.getParsedURL();if(!i)return;let l=document.querySelector(`[data-slug="${n}"]`);if(l&&l.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),e.getInstance())return;const c=document.querySelectorAll(`[data-fancybox="${i}"]`);c.length&&(r===null&&c.length===1?l=c[0]:r&&(l=c[r-1]),l&&l.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}static onHashChange(){const{slug:e,index:n}=jn.getParsedURL(),i=jn.Fancybox,r=i&&i.getInstance();if(r&&r.plugins.Hash){if(e){const l=r.Carousel;if(e===r.option("slug"))return l.slideTo(n-1);for(let p of l.slides)if(p.slug&&p.slug===e)return l.slideTo(p.index);const c=r.getSlide(),d=c.$trigger&&c.$trigger.dataset;if(d&&d.fancybox===e)return l.slideTo(n-1)}r.plugins.Hash.hasSilentClose=!0,r.close()}jn.startFromUrl()}static create(e){function n(){window.addEventListener("hashchange",jn.onHashChange,!1),jn.startFromUrl()}jn.Fancybox=e,Zo&&window.requestAnimationFrame(()=>{/complete|interactive|loaded/.test(document.readyState)?n():document.addEventListener("DOMContentLoaded",n)})}static destroy(){window.removeEventListener("hashchange",jn.onHashChange,!1)}static getParsedURL(){const e=window.location.hash.substr(1),n=e.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||null;return{hash:e,slug:n.join("-"),index:i}}}const Oi={pageXOffset:0,pageYOffset:0,element:()=>document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,activate(t){Oi.pageXOffset=window.pageXOffset,Oi.pageYOffset=window.pageYOffset,t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},deactivate(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};class Fd{constructor(e){this.fancybox=e,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}isActive(){return this.active}setTimer(){if(!this.active||this.timer)return;const e=this.fancybox.option("slideshow.delay",3e3);this.timer=setTimeout(()=>{this.timer=null,this.fancybox.option("infinite")||this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1?this.fancybox.next():this.fancybox.jumpTo(0,{friction:0})},e);let n=this.$progress;n||(n=document.createElement("div"),n.classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(n,this.fancybox.$carousel),this.$progress=n,n.offsetHeight),n.style.transitionDuration=`${e}ms`,n.style.transform="scaleX(1)"}clearTimer(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}activate(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),this.fancybox.getSlide().state==="done"&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}handleVisibilityChange(){this.deactivate()}deactivate(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}toggle(){this.active?this.deactivate():this.fancybox.Carousel.slides.length>1&&this.activate()}}const kd={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{position:"left",type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',attr:{tabindex:-1}},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',attr:{"data-fancybox-prev":""}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',attr:{"data-fancybox-next":""}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:`<svg viewBox="0 0 24 24">
                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>
                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>
            </svg>`,click:function(t){t.preventDefault(),Oi.element()?Oi.deactivate():Oi.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:`<svg viewBox="0 0 24 24">
                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>
                <g><path d="M7 4v15M17 4v15"/></g>
            </svg>`,click:function(t){t.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(t){t.preventDefault();const e=this.fancybox.getSlide().Panzoom;e&&e.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(t){t.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(t){t.stopPropagation();const e=this.fancybox.plugins.Thumbs;e&&e.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',attr:{"data-fancybox-close":"",tabindex:0}}}};class cu{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const n of["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"])this[n]=this[n].bind(this);this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":()=>this.onRefresh(),"Image.startAnimation":(n,i)=>this.onRefresh(i),"Image.afterUpdate":(n,i)=>this.onRefresh(i)}}onInit(){if(this.fancybox.option("Toolbar.autoEnable")){let e=!1;for(const n of this.fancybox.items)if(n.type==="image"){e=!0;break}if(!e)return void(this.state="disabled")}for(const e of this.fancybox.option("Toolbar.display"))if((tr(e)?e.id:e)==="close"){this.fancybox.options.closeButton=!1;break}}onPrepare(){const e=this.fancybox;if(this.state==="init"&&(this.build(),this.update(),this.Slideshow=new Fd(e),!e.Carousel.prevPage&&(e.option("slideshow.autoStart")&&this.Slideshow.activate(),e.option("fullscreen.autoStart")&&!Oi.element())))try{Oi.activate(e.$container)}catch{}}onFsChange(){window.scrollTo(Oi.pageXOffset,Oi.pageYOffset)}onSettle(){const e=this.fancybox,n=this.Slideshow;n&&n.isActive()&&(e.getSlide().index!==e.Carousel.slides.length-1||e.option("infinite")?e.getSlide().state==="done"&&n.setTimer():n.deactivate())}onChange(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}onDone(e,n){const i=this.Slideshow;n.index===e.getSlide().index&&(this.update(),i&&i.isActive()&&(e.option("infinite")||n.index!==e.Carousel.slides.length-1?i.setTimer():i.deactivate()))}onRefresh(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&e.state!=="done"||this.Slideshow.deactivate())}onKeydown(e,n,i){n===" "&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}onClosing(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}createElement(e){let n;e.type==="div"?n=document.createElement("div"):(n=document.createElement(e.type==="link"?"a":"button"),n.classList.add("carousel__button")),n.innerHTML=e.html,n.setAttribute("tabindex",e.tabindex||0),e.class&&n.classList.add(...e.class.split(" "));for(const r in e.attr)n.setAttribute(r,e.attr[r]);e.label&&n.setAttribute("title",this.fancybox.localize(`{{${e.label}}}`)),e.click&&n.addEventListener("click",e.click.bind(this)),e.id==="prev"&&n.setAttribute("data-fancybox-prev",""),e.id==="next"&&n.setAttribute("data-fancybox-next","");const i=n.querySelector("svg");return i&&(i.setAttribute("role","img"),i.setAttribute("tabindex","-1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg")),n}build(){this.cleanup();const e=this.fancybox.option("Toolbar.items"),n=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],i=this.fancybox.plugins.Thumbs;for(const l of this.fancybox.option("Toolbar.display")){let c,d;if(tr(l)?(c=l.id,d=on({},e[c],l)):(c=l,d=e[c]),["counter","next","prev","slideshow"].includes(c)&&this.fancybox.items.length<2)continue;if(c==="fullscreen"){if(!document.fullscreenEnabled||window.fullScreen)continue;document.addEventListener("fullscreenchange",this.onFsChange)}if(c==="thumbs"&&(!i||i.state==="disabled")||!d)continue;let p=d.position||"right",v=n.find(_=>_.position===p);v&&v.items.push(d)}const r=document.createElement("div");r.classList.add("fancybox__toolbar");for(const l of n)if(l.items.length){const c=document.createElement("div");c.classList.add("fancybox__toolbar__items"),c.classList.add(`fancybox__toolbar__items--${l.position}`);for(const d of l.items)c.appendChild(this.createElement(d));r.appendChild(c)}this.fancybox.$carousel.parentNode.insertBefore(r,this.fancybox.$carousel),this.$container=r}update(){const e=this.fancybox.getSlide(),n=e.index,i=this.fancybox.items.length,r=e.downloadSrc||(e.type!=="image"||e.error?null:e.src);for(const d of this.fancybox.$container.querySelectorAll("a.fancybox__button--download"))r?(d.removeAttribute("disabled"),d.removeAttribute("tabindex"),d.setAttribute("href",r),d.setAttribute("download",r),d.setAttribute("target","_blank")):(d.setAttribute("disabled",""),d.setAttribute("tabindex",-1),d.removeAttribute("href"),d.removeAttribute("download"));const l=e.Panzoom,c=l&&l.option("maxScale")>l.option("baseScale");for(const d of this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"))c?d.removeAttribute("disabled"):d.setAttribute("disabled","");for(const d of this.fancybox.$container.querySelectorAll("[data-fancybox-index]"))d.innerHTML=e.index+1;for(const d of this.fancybox.$container.querySelectorAll("[data-fancybox-count]"))d.innerHTML=i;if(!this.fancybox.option("infinite")){for(const d of this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"))n===0?d.setAttribute("disabled",""):d.removeAttribute("disabled");for(const d of this.fancybox.$container.querySelectorAll("[data-fancybox-next]"))n===i-1?d.setAttribute("disabled",""):d.removeAttribute("disabled")}}cleanup(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}cu.defaults=kd;const $d={ScrollLock:class{constructor(t){this.fancybox=t,this.viewport=null,this.pendingUpdate=null;for(const e of["onReady","onResize","onTouchstart","onTouchmove"])this[e]=this[e].bind(this)}onReady(){const t=window.visualViewport;t&&(this.viewport=t,this.startY=0,t.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("wheel",this.onWheel,{passive:!1})}onResize(){this.updateViewport()}updateViewport(){const t=this.fancybox,e=this.viewport,n=e.scale||1,i=t.$container;if(!i)return;let r="",l="",c="";n-1>.1&&(r=e.width*n+"px",l=e.height*n+"px",c=`translate3d(${e.offsetLeft}px, ${e.offsetTop}px, 0) scale(${1/n})`),i.style.width=r,i.style.height=l,i.style.transform=c}onTouchstart(t){this.startY=t.touches?t.touches[0].screenY:t.screenY}onTouchmove(t){const e=this.startY,n=window.innerWidth/window.document.documentElement.clientWidth;if(!t.cancelable||t.touches.length>1||n!==1)return;const i=Xo(t.composedPath()[0]);if(!i)return void t.preventDefault();const r=window.getComputedStyle(i),l=parseInt(r.getPropertyValue("height"),10),c=t.touches?t.touches[0].screenY:t.screenY,d=e<=c&&i.scrollTop===0,p=e>=c&&i.scrollHeight-i.scrollTop===l;(d||p)&&t.preventDefault()}onWheel(t){Xo(t.composedPath()[0])||t.preventDefault()}cleanup(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);const t=this.viewport;t&&(t.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1),window.removeEventListener("wheel",this.onWheel,{passive:!1})}attach(){this.fancybox.on("initLayout",this.onReady)}detach(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}},Thumbs:ru,Html:au,Toolbar:cu,Image:lu,Hash:jn},uu={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},kr=new Map;let Gd=0;class Ze extends yl{constructor(e,n={}){e=e.map(i=>(i.width&&(i._width=i.width),i.height&&(i._height=i.height),i)),super(on(!0,{},uu,n)),this.bindHandlers(),this.state="init",this.setItems(e),this.attachPlugins(Ze.Plugins),this.trigger("init"),this.option("hideScrollbar")===!0&&this.hideScrollbar(),this.initLayout(),this.initCarousel(),this.attachEvents(),kr.set(this.id,this),this.trigger("prepare"),this.state="ready",this.trigger("ready"),this.$container.setAttribute("aria-hidden","false"),this.option("trapFocus")&&this.focus()}option(e,...n){const i=this.getSlide();let r=i?i[e]:void 0;return r!==void 0?(typeof r=="function"&&(r=r.call(this,this,...n)),r):super.option(e,...n)}bindHandlers(){for(const e of["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onSettle","onTouchMove","onTouchEnd","onTransform"])this[e]=this[e].bind(this)}attachEvents(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}detachEvents(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}initLayout(){this.$root=this.option("parentEl")||document.body;let e=this.option("template.main");e&&(this.$root.insertAdjacentHTML("beforeend",this.localize(e)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=()=>(this.$container.scrollLeft=0,!1),Object.entries({class:"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(i=>this.$container.setAttribute(...i)),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),this.$container.Fancybox=this,this.id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++Gd,this.$container.setAttribute("id","fancybox-"+this.id));const n=this.option("mainClass");return n&&this.$container.classList.add(...n.split(" ")),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}setItems(e){const n=[];for(const i of e){const r=i.$trigger;if(r){const d=r.dataset||{};i.src=d.src||r.getAttribute("href")||i.src,i.type=d.type||i.type,!i.src&&r instanceof HTMLImageElement&&(i.src=r.currentSrc||i.$trigger.src)}let l=i.$thumb;if(!l){let d=i.$trigger&&i.$trigger.origTarget;d&&(l=d instanceof HTMLImageElement?d:d.querySelector("img:not([aria-hidden])")),!l&&i.$trigger&&(l=i.$trigger instanceof HTMLImageElement?i.$trigger:i.$trigger.querySelector("img:not([aria-hidden])"))}i.$thumb=l||null;let c=i.thumb;!c&&l&&(c=l.currentSrc||l.src,!c&&l.dataset&&(c=l.dataset.lazySrc||l.dataset.src)),c||i.type!=="image"||(c=i.src),i.thumb=c||null,i.caption=i.caption||"",n.push(i)}this.items=n}initCarousel(){return this.Carousel=new sr(this.$carousel,on(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:()=>this.Carousel&&this.Carousel.pages&&this.Carousel.pages.length<2&&!this.option("dragToClose"),lockAxis:()=>{if(this.Carousel){let e="x";return this.option("dragToClose")&&(e+="y"),e}}},on:{"*":(e,...n)=>this.trigger(`Carousel.${e}`,...n),init:e=>this.Carousel=e,createSlide:this.onCreateSlide,settle:this.onSettle}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}onCreateSlide(e,n){let i=n.caption||"";if(typeof this.options.caption=="function"&&(i=this.options.caption.call(this,this,this.Carousel,n)),typeof i=="string"&&i.length){const r=document.createElement("div"),l=`fancybox__caption_${this.id}_${n.index}`;r.className="fancybox__caption",r.innerHTML=i,r.setAttribute("id",l),n.$caption=n.$el.appendChild(r),n.$el.classList.add("has-caption"),n.$el.setAttribute("aria-labelledby",l)}}onSettle(){this.option("autoFocus")&&this.focus()}onFocus(e){this.isTopmost()&&this.focus(e)}onClick(e){if(e.defaultPrevented)return;let n=e.composedPath()[0];if(n.matches("[data-fancybox-close]"))return e.preventDefault(),void Ze.close(!1,e);if(n.matches("[data-fancybox-next]"))return e.preventDefault(),void Ze.next();if(n.matches("[data-fancybox-prev]"))return e.preventDefault(),void Ze.prev();const i=document.activeElement;if(i){if(i.closest("[contenteditable]"))return;n.matches(Zl)||i.blur()}if(!n.closest(".fancybox__content")&&!getSelection().toString().length&&this.trigger("click",e)!==!1)switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}onTouchMove(){const e=this.getSlide().Panzoom;return!e||e.content.scale===1}onTouchEnd(e){const n=e.dragOffset.y;Math.abs(n)>=150||Math.abs(n)>=35&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut"+(e.content.y<0?"Up":"Down")),this.close()):e.lockAxis==="y"&&e.panTo({y:0})}onTransform(e){if(this.$backdrop){const n=Math.abs(e.content.y),i=n<1?"":Math.max(.33,Math.min(1,1-n/e.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",i?"0s":""),this.$container.style.setProperty("--fancybox-opacity",i)}}onMousedown(){this.state==="ready"&&document.body.classList.add("is-using-mouse")}onKeydown(e){if(!this.isTopmost())return;document.body.classList.remove("is-using-mouse");const n=e.key,i=this.option("keyboard");if(!i||e.ctrlKey||e.altKey||e.shiftKey)return;const r=e.composedPath()[0],l=document.activeElement&&document.activeElement.classList,c=l&&l.contains("carousel__button");if(n!=="Escape"&&!c&&(e.target.isContentEditable||["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName)!==-1)||this.trigger("keydown",n,e)===!1)return;const d=i[n];typeof this[d]=="function"&&this[d]()}getSlide(){const e=this.Carousel;if(!e)return null;const n=e.page===null?e.option("initialPage"):e.page,i=e.pages||[];return i.length&&i[n]?i[n].slides[0]:null}focus(e){if(Ze.ignoreFocusChange||["init","closing","customClosing","destroy"].indexOf(this.state)>-1)return;const n=this.$container,i=this.getSlide(),r=i.state==="done"?i.$el:null;if(r&&r.contains(document.activeElement))return;e&&e.preventDefault(),Ze.ignoreFocusChange=!0;const l=Array.from(n.querySelectorAll(Zl));let c,d=[];for(let p of l){const v=p.offsetParent,_=r&&r.contains(p),I=!this.Carousel.$viewport.contains(p);v&&(_||I)?(d.push(p),p.dataset.origTabindex!==void 0&&(p.tabIndex=p.dataset.origTabindex,p.removeAttribute("data-orig-tabindex")),(p.hasAttribute("autoFocus")||!c&&_&&!p.classList.contains("carousel__button"))&&(c=p)):(p.dataset.origTabindex=p.dataset.origTabindex===void 0?p.getAttribute("tabindex"):p.dataset.origTabindex,p.tabIndex=-1)}e?d.indexOf(e.target)>-1?this.lastFocus=e.target:this.lastFocus===n?Fr(d[d.length-1]):Fr(n):this.option("autoFocus")&&c?Fr(c):d.indexOf(document.activeElement)<0&&Fr(n),this.lastFocus=document.activeElement,Ze.ignoreFocusChange=!1}hideScrollbar(){if(!Zo)return;const e=window.innerWidth-document.documentElement.getBoundingClientRect().width,n="fancybox-style-noscroll";let i=document.getElementById(n);i||e>0&&(i=document.createElement("style"),i.id=n,i.type="text/css",i.innerHTML=`.compensate-for-scrollbar {padding-right: ${e}px;}`,document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar"))}revealScrollbar(){document.body.classList.remove("compensate-for-scrollbar");const e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}clearContent(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e.$closeButton&&(e.$closeButton.remove(),e.$closeButton=null),e._className&&e.$el.classList.remove(e._className)}setContent(e,n,i={}){let r;const l=e.$el;if(n instanceof HTMLElement)["img","iframe","video","audio"].indexOf(n.nodeName.toLowerCase())>-1?(r=document.createElement("div"),r.appendChild(n)):r=n;else{const c=document.createRange().createContextualFragment(n);r=document.createElement("div"),r.appendChild(c)}if(e.filter&&!e.error&&(r=r.querySelector(e.filter)),r instanceof Element)return e._className=`has-${i.suffix||e.type||"unknown"}`,l.classList.add(e._className),r.classList.add("fancybox__content"),r.style.display!=="none"&&getComputedStyle(r).getPropertyValue("display")!=="none"||(r.style.display=e.display||this.option("defaultDisplay")||"flex"),e.id&&r.setAttribute("id",e.id),e.$content=r,l.prepend(r),this.manageCloseButton(e),e.state!=="loading"&&this.revealContent(e),r;this.setError(e,"{{ELEMENT_NOT_FOUND}}")}manageCloseButton(e){const n=e.closeButton===void 0?this.option("closeButton"):e.closeButton;if(!n||n==="top"&&this.$closeButton)return;const i=document.createElement("button");i.classList.add("carousel__button","is-close"),i.setAttribute("title",this.options.l10n.CLOSE),i.innerHTML=this.option("template.closeButton"),i.addEventListener("click",r=>this.close(r)),n==="inside"?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(i)):this.$closeButton=this.$container.insertBefore(i,this.$container.firstChild)}revealContent(e){this.trigger("reveal",e),e.$content.style.visibility="";let n=!1;e.error||e.state==="loading"||this.Carousel.prevPage!==null||e.index!==this.options.startIndex||(n=e.showClass===void 0?this.option("showClass"):e.showClass),n?(e.state="animating",this.animateCSS(e.$content,n,()=>{this.done(e)})):this.done(e)}animateCSS(e,n,i){if(e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),!e||!n)return void(typeof i=="function"&&i());const r=function(l){l.currentTarget===this&&(e.removeEventListener("animationend",r),i&&i(),e.classList.remove(n))};e.addEventListener("animationend",r),e.classList.add(n)}done(e){e.state="done",this.trigger("done",e);const n=this.getSlide();n&&e.index===n.index&&this.option("autoFocus")&&this.focus()}setError(e,n){e.error=n,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(n||"<p>{{ERROR}}</p>"),this.setContent(e,i,{suffix:"error"})}showLoading(e){e.state="loading",e.$el.classList.add("is-loading");let n=e.$el.querySelector(".fancybox__spinner");n||(n=document.createElement("div"),n.classList.add("fancybox__spinner"),n.innerHTML=this.option("template.spinner"),n.addEventListener("click",()=>{this.Carousel.Panzoom.velocity||this.close()}),e.$el.prepend(n))}hideLoading(e){const n=e.$el&&e.$el.querySelector(".fancybox__spinner");n&&(n.remove(),e.$el.classList.remove("is-loading")),e.state==="loading"&&(this.trigger("load",e),e.state="ready")}next(){const e=this.Carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.Carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.Carousel&&this.Carousel.slideTo(...e)}isClosing(){return["closing","customClosing","destroy"].includes(this.state)}isTopmost(){return Ze.getInstance().id==this.id}close(e){if(e&&e.preventDefault(),this.isClosing()||this.trigger("shouldClose",e)===!1||(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),this.state==="destroy"))return;this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing");const n=this.getSlide();if(this.Carousel.slides.forEach(i=>{i.$content&&i.index!==n.index&&this.Carousel.trigger("removeSlide",i)}),this.state==="closing"){const i=n.hideClass===void 0?this.option("hideClass"):n.hideClass;this.animateCSS(n.$content,i,()=>{this.destroy()},!0)}}destroy(){if(this.state==="destroy")return;this.state="destroy",this.trigger("destroy");const e=this.option("placeFocusBack")?this.option("triggerTarget",this.getSlide().$trigger):null;this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e&&Fr(e),kr.delete(this.id);const n=Ze.getInstance();n?n.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}static show(e,n={}){return new Ze(e,n)}static fromEvent(e,n={}){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;const i=e.composedPath()[0];let r,l,c,d=i;if((d.matches("[data-fancybox-trigger]")||(d=d.closest("[data-fancybox-trigger]")))&&(n.triggerTarget=d,r=d&&d.dataset&&d.dataset.fancyboxTrigger),r){const v=document.querySelectorAll(`[data-fancybox="${r}"]`),_=parseInt(d.dataset.fancyboxIndex,10)||0;d=v.length?v[_]:d}Array.from(Ze.openers.keys()).reverse().some(v=>{c=d||i;let _=!1;try{c instanceof Element&&(typeof v=="string"||v instanceof String)&&(_=c.matches(v)||(c=c.closest(v)))}catch{}return!!_&&(e.preventDefault(),l=v,!0)});let p=!1;if(l){n.event=e,n.target=c,c.origTarget=i,p=Ze.fromOpener(l,n);const v=Ze.getInstance();v&&v.state==="ready"&&e.detail&&document.body.classList.add("is-using-mouse")}return p}static fromOpener(e,n={}){let i=[],r=n.startIndex||0,l=n.target||null;const c=(n=on({},n,Ze.openers.get(e))).groupAll!==void 0&&n.groupAll,d=n.groupAttr===void 0?"data-fancybox":n.groupAttr,p=d&&l?l.getAttribute(`${d}`):"";if(!l||p||c){const _=n.root||(l?l.getRootNode():document.body);i=[].slice.call(_.querySelectorAll(e))}if(l&&!c&&(i=p?i.filter(_=>_.getAttribute(`${d}`)===p):[l]),!i.length)return!1;const v=Ze.getInstance();return!(v&&i.indexOf(v.options.$trigger)>-1)&&(r=l?i.indexOf(l):r,i=i.map(function(_){const I=["false","0","no","null","undefined"],D=["true","1","yes"],O=Object.assign({},_.dataset),T={};for(let[x,P]of Object.entries(O))if(x!=="fancybox")if(x==="width"||x==="height")T[`_${x}`]=P;else if(typeof P=="string"||P instanceof String)if(I.indexOf(P)>-1)T[x]=!1;else if(D.indexOf(T[x])>-1)T[x]=!0;else try{T[x]=JSON.parse(P)}catch{T[x]=P}else T[x]=P;return _ instanceof Element&&(T.$trigger=_),T}),new Ze(i,on({},n,{startIndex:r,$trigger:l})))}static bind(e,n={}){function i(){document.body.addEventListener("click",Ze.fromEvent,!1)}Zo&&(Ze.openers.size||(/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)),Ze.openers.set(e,n))}static unbind(e){Ze.openers.delete(e),Ze.openers.size||Ze.destroy()}static destroy(){let e;for(;e=Ze.getInstance();)e.destroy();Ze.openers=new Map,document.body.removeEventListener("click",Ze.fromEvent,!1)}static getInstance(e){return e?kr.get(e):Array.from(kr.values()).reverse().find(n=>!n.isClosing()&&n)||null}static close(e=!0,n){if(e)for(const i of kr.values())i.close(n);else{const i=Ze.getInstance();i&&i.close(n)}}static next(){const e=Ze.getInstance();e&&e.next()}static prev(){const e=Ze.getInstance();e&&e.prev()}}Ze.version="4.0.31",Ze.defaults=uu,Ze.openers=new Map,Ze.Plugins=$d,Ze.bind("[data-fancybox]");for(const[t,e]of Object.entries(Ze.Plugins||{}))typeof e.create=="function"&&e.create(Ze);/*!
 * FilePond 4.31.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Bd=t=>t instanceof HTMLElement,Hd=(t,e=[],n=[])=>{const i={...t},r=[],l=[],c=()=>({...i}),d=()=>{const T=[...r];return r.length=0,T},p=()=>{const T=[...l];l.length=0,T.forEach(({type:x,data:P})=>{v(x,P)})},v=(T,x,P)=>{if(P&&!document.hidden){l.push({type:T,data:x});return}O[T]&&O[T](x),r.push({type:T,data:x})},_=(T,...x)=>D[T]?D[T](...x):null,I={getState:c,processActionQueue:d,processDispatchQueue:p,dispatch:v,query:_};let D={};e.forEach(T=>{D={...T(i),...D}});let O={};return n.forEach(T=>{O={...T(v,_,i),...O}}),I},Ud=(t,e,n)=>{if(typeof n=="function"){t[e]=n;return}Object.defineProperty(t,e,{...n})},It=(t,e)=>{for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])},Qi=t=>{const e={};return It(t,n=>{Ud(e,n,t[n])}),e},$t=(t,e,n=null)=>{if(n===null)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},zd="http://www.w3.org/2000/svg",Vd=["svg","path"],Ql=t=>Vd.includes(t),Ko=(t,e,n={})=>{typeof e=="object"&&(n=e,e=null);const i=Ql(t)?document.createElementNS(zd,t):document.createElement(t);return e&&(Ql(t)?$t(i,"class",e):i.className=e),It(n,(r,l)=>{$t(i,r,l)}),i},Wd=t=>(e,n)=>{typeof n<"u"&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)},qd=(t,e)=>(n,i)=>(typeof i<"u"?e.splice(i,0,n):e.push(n),n),jd=(t,e)=>n=>(e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n),Yd=typeof window<"u"&&typeof window.document<"u",du=()=>Yd,Xd=du()?Ko("svg"):{},Zd="children"in Xd?t=>t.children.length:t=>t.childNodes.length,fu=(t,e,n,i)=>{const r=n[0]||t.left,l=n[1]||t.top,c=r+t.width,d=l+t.height*(i[1]||1),p={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:r,top:l,right:c,bottom:d}};return e.filter(v=>!v.isRectIgnored()).map(v=>v.rect).forEach(v=>{Jl(p.inner,{...v.inner}),Jl(p.outer,{...v.outer})}),ec(p.inner),p.outer.bottom+=p.element.marginBottom,p.outer.right+=p.element.marginRight,ec(p.outer),p},Jl=(t,e)=>{e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},ec=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},hs=t=>typeof t=="number",Kd=(t,e,n,i=.001)=>Math.abs(t-e)<i&&Math.abs(n)<i,Qd=({stiffness:t=.5,damping:e=.75,mass:n=10}={})=>{let i=null,r=null,l=0,c=!1;const v=Qi({interpolate:(_,I)=>{if(c)return;if(!(hs(i)&&hs(r))){c=!0,l=0;return}const D=-(r-i)*t;l+=D/n,r+=l,l*=e,Kd(r,i,l)||I?(r=i,l=0,c=!0,v.onupdate(r),v.oncomplete(r)):v.onupdate(r)},target:{set:_=>{if(hs(_)&&!hs(r)&&(r=_),i===null&&(i=_,r=_),i=_,r===i||typeof i>"u"){c=!0,l=0,v.onupdate(r),v.oncomplete(r);return}c=!1},get:()=>i},resting:{get:()=>c},onupdate:_=>{},oncomplete:_=>{}});return v},Jd=t=>t<.5?2*t*t:-1+(4-2*t)*t,ef=({duration:t=500,easing:e=Jd,delay:n=0}={})=>{let i=null,r,l,c=!0,d=!1,p=null;const _=Qi({interpolate:(I,D)=>{c||p===null||(i===null&&(i=I),!(I-i<n)&&(r=I-i-n,r>=t||D?(r=1,l=d?0:1,_.onupdate(l*p),_.oncomplete(l*p),c=!0):(l=r/t,_.onupdate((r>=0?e(d?1-l:l):0)*p))))},target:{get:()=>d?0:p,set:I=>{if(p===null){p=I,_.onupdate(I),_.oncomplete(I);return}I<p?(p=1,d=!0):(d=!1,p=I),c=!1,i=null}},resting:{get:()=>c},onupdate:I=>{},oncomplete:I=>{}});return _},tc={spring:Qd,tween:ef},tf=(t,e,n)=>{const i=t[e]&&typeof t[e][n]=="object"?t[e][n]:t[e]||t,r=typeof i=="string"?i:i.type,l=typeof i=="object"?{...i}:{};return tc[r]?tc[r](l):null},vl=(t,e,n,i=!1)=>{e=Array.isArray(e)?e:[e],e.forEach(r=>{t.forEach(l=>{let c=l,d=()=>n[l],p=v=>n[l]=v;typeof l=="object"&&(c=l.key,d=l.getter||d,p=l.setter||p),!(r[c]&&!i)&&(r[c]={get:d,set:p})})})},nf=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i})=>{const r={...e},l=[];return It(t,(c,d)=>{const p=tf(d);if(!p)return;p.onupdate=_=>{e[c]=_},p.target=r[c],vl([{key:c,setter:_=>{p.target!==_&&(p.target=_)},getter:()=>e[c]}],[n,i],e,!0),l.push(p)}),{write:c=>{let d=document.hidden,p=!0;return l.forEach(v=>{v.resting||(p=!1),v.interpolate(c,d)}),p},destroy:()=>{}}},sf=t=>(e,n)=>{t.addEventListener(e,n)},rf=t=>(e,n)=>{t.removeEventListener(e,n)},of=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i,viewState:r,view:l})=>{const c=[],d=sf(l.element),p=rf(l.element);return i.on=(v,_)=>{c.push({type:v,fn:_}),d(v,_)},i.off=(v,_)=>{c.splice(c.findIndex(I=>I.type===v&&I.fn===_),1),p(v,_)},{write:()=>!0,destroy:()=>{c.forEach(v=>{p(v.type,v.fn)})}}},af=({mixinConfig:t,viewProps:e,viewExternalAPI:n})=>{vl(t,n,e)},sn=t=>t!=null,lf={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},cf=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i,view:r})=>{const l={...e},c={};vl(t,[n,i],e);const d=()=>[e.translateX||0,e.translateY||0],p=()=>[e.scaleX||0,e.scaleY||0],v=()=>r.rect?fu(r.rect,r.childViews,d(),p()):null;return n.rect={get:v},i.rect={get:v},t.forEach(_=>{e[_]=typeof l[_]>"u"?lf[_]:l[_]}),{write:()=>{if(uf(c,e))return df(r.element,e),Object.assign(c,{...e}),!0},destroy:()=>{}}},uf=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in e)if(e[n]!==t[n])return!0;return!1},df=(t,{opacity:e,perspective:n,translateX:i,translateY:r,scaleX:l,scaleY:c,rotateX:d,rotateY:p,rotateZ:v,originX:_,originY:I,width:D,height:O})=>{let T="",x="";(sn(_)||sn(I))&&(x+=`transform-origin: ${_||0}px ${I||0}px;`),sn(n)&&(T+=`perspective(${n}px) `),(sn(i)||sn(r))&&(T+=`translate3d(${i||0}px, ${r||0}px, 0) `),(sn(l)||sn(c))&&(T+=`scale3d(${sn(l)?l:1}, ${sn(c)?c:1}, 1) `),sn(v)&&(T+=`rotateZ(${v}rad) `),sn(d)&&(T+=`rotateX(${d}rad) `),sn(p)&&(T+=`rotateY(${p}rad) `),T.length&&(x+=`transform:${T};`),sn(e)&&(x+=`opacity:${e};`,e===0&&(x+="visibility:hidden;"),e<1&&(x+="pointer-events:none;")),sn(O)&&(x+=`height:${O}px;`),sn(D)&&(x+=`width:${D}px;`);const P=t.elementCurrentStyle||"";(x.length!==P.length||x!==P)&&(t.style.cssText=x,t.elementCurrentStyle=x)},ff={styles:cf,listeners:of,animations:nf,apis:af},nc=(t={},e={},n={})=>(e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=e.offsetParent===null,t),Mt=({tag:t="div",name:e=null,attributes:n={},read:i=()=>{},write:r=()=>{},create:l=()=>{},destroy:c=()=>{},filterFrameActionsForChild:d=(O,T)=>T,didCreateView:p=()=>{},didWriteView:v=()=>{},ignoreRect:_=!1,ignoreRectUpdate:I=!1,mixins:D=[]}={})=>(O,T={})=>{const x=Ko(t,`filepond--${e}`,n),P=window.getComputedStyle(x,null),G=nc();let M=null,H=!1;const z=[],J=[],ee={},f={},te=[r],U=[i],Y=[c],ae=()=>x,he=()=>z.concat(),le=()=>ee,ne=Ce=>(ft,Nt)=>ft(Ce,Nt),xe=()=>M||(M=fu(G,z,[0,0],[1,1]),M),Q=()=>P,se=()=>{M=null,z.forEach(Nt=>Nt._read()),!(I&&G.width&&G.height)&&nc(G,x,P);const ft={root:et,props:T,rect:G};U.forEach(Nt=>Nt(ft))},N=(Ce,ft,Nt)=>{let cn=ft.length===0;return te.forEach(Je=>{Je({props:T,root:et,actions:ft,timestamp:Ce,shouldOptimize:Nt})===!1&&(cn=!1)}),J.forEach(Je=>{Je.write(Ce)===!1&&(cn=!1)}),z.filter(Je=>!!Je.element.parentNode).forEach(Je=>{Je._write(Ce,d(Je,ft),Nt)||(cn=!1)}),z.forEach((Je,Pe)=>{Je.element.parentNode||(et.appendChild(Je.element,Pe),Je._read(),Je._write(Ce,d(Je,ft),Nt),cn=!1)}),H=cn,v({props:T,root:et,actions:ft,timestamp:Ce}),cn},C=()=>{J.forEach(Ce=>Ce.destroy()),Y.forEach(Ce=>{Ce({root:et,props:T})}),z.forEach(Ce=>Ce._destroy())},ie={element:{get:ae},style:{get:Q},childViews:{get:he}},de={...ie,rect:{get:xe},ref:{get:le},is:Ce=>e===Ce,appendChild:Wd(x),createChildView:ne(O),linkView:Ce=>(z.push(Ce),Ce),unlinkView:Ce=>{z.splice(z.indexOf(Ce),1)},appendChildView:qd(x,z),removeChildView:jd(x,z),registerWriter:Ce=>te.push(Ce),registerReader:Ce=>U.push(Ce),registerDestroyer:Ce=>Y.push(Ce),invalidateLayout:()=>x.layoutCalculated=!1,dispatch:O.dispatch,query:O.query},ge={element:{get:ae},childViews:{get:he},rect:{get:xe},resting:{get:()=>H},isRectIgnored:()=>_,_read:se,_write:N,_destroy:C},it={...ie,rect:{get:()=>G}};Object.keys(D).sort((Ce,ft)=>Ce==="styles"?1:ft==="styles"?-1:0).forEach(Ce=>{const ft=ff[Ce]({mixinConfig:D[Ce],viewProps:T,viewState:f,viewInternalAPI:de,viewExternalAPI:ge,view:Qi(it)});ft&&J.push(ft)});const et=Qi(de);l({root:et,props:T});const Yt=Zd(x);return z.forEach((Ce,ft)=>{et.appendChild(Ce.element,Yt+ft)}),p(et),Qi(ge)},hf=(t,e,n=60)=>{const i="__framePainter";if(window[i]){window[i].readers.push(t),window[i].writers.push(e);return}window[i]={readers:[t],writers:[e]};const r=window[i],l=1e3/n;let c=null,d=null,p=null,v=null;const _=()=>{document.hidden?(p=()=>window.setTimeout(()=>I(performance.now()),l),v=()=>window.clearTimeout(d)):(p=()=>window.requestAnimationFrame(I),v=()=>window.cancelAnimationFrame(d))};document.addEventListener("visibilitychange",()=>{v&&v(),_(),I(performance.now())});const I=D=>{d=p(I),c||(c=D);const O=D-c;O<=l||(c=D-O%l,r.readers.forEach(T=>T()),r.writers.forEach(T=>T(D)))};return _(),I(performance.now()),{pause:()=>{v(d)}}},ln=(t,e)=>({root:n,props:i,actions:r=[],timestamp:l,shouldOptimize:c})=>{r.filter(d=>t[d.type]).forEach(d=>t[d.type]({root:n,props:i,action:d.data,timestamp:l,shouldOptimize:c})),e&&e({root:n,props:i,actions:r,timestamp:l,shouldOptimize:c})},ic=(t,e)=>e.parentNode.insertBefore(t,e),sc=(t,e)=>e.parentNode.insertBefore(t,e.nextSibling),oa=t=>Array.isArray(t),Ri=t=>t==null,pf=t=>t.trim(),aa=t=>""+t,gf=(t,e=",")=>Ri(t)?[]:oa(t)?t:aa(t).split(e).map(pf).filter(n=>n.length),hu=t=>typeof t=="boolean",pu=t=>hu(t)?t:t==="true",an=t=>typeof t=="string",gu=t=>hs(t)?t:an(t)?aa(t).replace(/[a-z]+/gi,""):0,Ho=t=>parseInt(gu(t),10),rc=t=>parseFloat(gu(t)),ar=t=>hs(t)&&isFinite(t)&&Math.floor(t)===t,oc=(t,e=1e3)=>{if(ar(t))return t;let n=aa(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Ho(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Ho(n)*e):Ho(n)},ps=t=>typeof t=="function",mf=t=>{let e=self,n=t.split("."),i=null;for(;i=n.shift();)if(e=e[i],!e)return null;return e},ac={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},yf=t=>{const e={};return e.url=an(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},It(ac,n=>{e[n]=vf(n,t[n],ac[n],e.timeout,e.headers)}),e.process=t.process||an(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},vf=(t,e,n,i,r)=>{if(e===null)return null;if(typeof e=="function")return e;const l={url:n==="GET"||n==="PATCH"?`?${t}=`:"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(an(e))return l.url=e,l;if(Object.assign(l,e),an(l.headers)){const c=l.headers.split(/:(.+)/);l.headers={header:c[0],value:c[1]}}return l.withCredentials=pu(l.withCredentials),l},Ef=t=>yf(t),_f=t=>t===null,Ut=t=>typeof t=="object"&&t!==null,bf=t=>Ut(t)&&an(t.url)&&Ut(t.process)&&Ut(t.revert)&&Ut(t.restore)&&Ut(t.fetch),Za=t=>oa(t)?"array":_f(t)?"null":ar(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":bf(t)?"api":typeof t,Tf=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),wf={array:gf,boolean:pu,int:t=>Za(t)==="bytes"?oc(t):Ho(t),number:rc,float:rc,bytes:oc,string:t=>ps(t)?t:aa(t),function:t=>mf(t),serverapi:Ef,object:t=>{try{return JSON.parse(Tf(t))}catch{return null}}},If=(t,e)=>wf[e](t),mu=(t,e,n)=>{if(t===e)return t;let i=Za(t);if(i!==n){const r=If(t,n);if(i=Za(r),r===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;t=r}return t},Sf=(t,e)=>{let n=t;return{enumerable:!0,get:()=>n,set:i=>{n=mu(i,t,e)}}},xf=t=>{const e={};return It(t,n=>{const i=t[n];e[n]=Sf(i[0],i[1])}),Qi(e)},Cf=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:xf(t)}),la=(t,e="-")=>t.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(e),Af=(t,e)=>{const n={};return It(e,i=>{n[i]={get:()=>t.getState().options[i],set:r=>{t.dispatch(`SET_${la(i,"_").toUpperCase()}`,{value:r})}}}),n},Of=t=>(e,n,i)=>{const r={};return It(t,l=>{const c=la(l,"_").toUpperCase();r[`SET_${c}`]=d=>{try{i.options[l]=d.value}catch{}e(`DID_SET_${c}`,{value:i.options[l]})}}),r},Df=t=>e=>{const n={};return It(t,i=>{n[`GET_${la(i,"_").toUpperCase()}`]=r=>e.options[i]}),n},$n={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},El=()=>Math.random().toString(36).substring(2,11),_l=(t,e)=>t.splice(e,1),Rf=(t,e)=>{e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},ca=()=>{const t=[],e=(i,r)=>{_l(t,t.findIndex(l=>l.event===i&&(l.cb===r||!r)))},n=(i,r,l)=>{t.filter(c=>c.event===i).map(c=>c.cb).forEach(c=>Rf(()=>c(...r),l))};return{fireSync:(i,...r)=>{n(i,r,!0)},fire:(i,...r)=>{n(i,r,!1)},on:(i,r)=>{t.push({event:i,cb:r})},onOnce:(i,r)=>{t.push({event:i,cb:(...l)=>{e(i,r),r(...l)}})},off:e}},yu=(t,e,n)=>{Object.getOwnPropertyNames(t).filter(i=>!n.includes(i)).forEach(i=>Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i)))},Pf=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],pn=t=>{const e={};return yu(t,e,Pf),e},Lf=t=>{t.forEach((e,n)=>{e.released&&_l(t,n)})},$e={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},kt={INPUT:1,LIMBO:2,LOCAL:3},vu=t=>/[^0-9]+/.exec(t),Eu=()=>vu(1.1.toLocaleString())[0],Mf=()=>{const t=Eu(),e=1e3.toLocaleString();return e!=="1000"?vu(e)[0]:t==="."?",":"."},oe={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},bl=[],Yn=(t,e,n)=>new Promise((i,r)=>{const l=bl.filter(d=>d.key===t).map(d=>d.cb);if(l.length===0){i(e);return}const c=l.shift();l.reduce((d,p)=>d.then(v=>p(v,n)),c(e,n)).then(d=>i(d)).catch(d=>r(d))}),bs=(t,e,n)=>bl.filter(i=>i.key===t).map(i=>i.cb(e,n)),Nf=(t,e)=>bl.push({key:t,cb:e}),Ff=t=>Object.assign(Ks,t),Qo=()=>({...Ks}),kf=t=>{It(t,(e,n)=>{Ks[e]&&(Ks[e][0]=mu(n,Ks[e][0],Ks[e][1]))})},Ks={id:[null,oe.STRING],name:["filepond",oe.STRING],disabled:[!1,oe.BOOLEAN],className:[null,oe.STRING],required:[!1,oe.BOOLEAN],captureMethod:[null,oe.STRING],allowSyncAcceptAttribute:[!0,oe.BOOLEAN],allowDrop:[!0,oe.BOOLEAN],allowBrowse:[!0,oe.BOOLEAN],allowPaste:[!0,oe.BOOLEAN],allowMultiple:[!1,oe.BOOLEAN],allowReplace:[!0,oe.BOOLEAN],allowRevert:[!0,oe.BOOLEAN],allowRemove:[!0,oe.BOOLEAN],allowProcess:[!0,oe.BOOLEAN],allowReorder:[!1,oe.BOOLEAN],allowDirectoriesOnly:[!1,oe.BOOLEAN],storeAsFile:[!1,oe.BOOLEAN],forceRevert:[!1,oe.BOOLEAN],maxFiles:[null,oe.INT],checkValidity:[!1,oe.BOOLEAN],itemInsertLocationFreedom:[!0,oe.BOOLEAN],itemInsertLocation:["before",oe.STRING],itemInsertInterval:[75,oe.INT],dropOnPage:[!1,oe.BOOLEAN],dropOnElement:[!0,oe.BOOLEAN],dropValidation:[!1,oe.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],oe.ARRAY],instantUpload:[!0,oe.BOOLEAN],maxParallelUploads:[2,oe.INT],allowMinimumUploadDuration:[!0,oe.BOOLEAN],chunkUploads:[!1,oe.BOOLEAN],chunkForce:[!1,oe.BOOLEAN],chunkSize:[5e6,oe.INT],chunkRetryDelays:[[500,1e3,3e3],oe.ARRAY],server:[null,oe.SERVER_API],fileSizeBase:[1e3,oe.INT],labelFileSizeBytes:["bytes",oe.STRING],labelFileSizeKilobytes:["KB",oe.STRING],labelFileSizeMegabytes:["MB",oe.STRING],labelFileSizeGigabytes:["GB",oe.STRING],labelDecimalSeparator:[Eu(),oe.STRING],labelThousandsSeparator:[Mf(),oe.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',oe.STRING],labelInvalidField:["Field contains invalid files",oe.STRING],labelFileWaitingForSize:["Waiting for size",oe.STRING],labelFileSizeNotAvailable:["Size not available",oe.STRING],labelFileCountSingular:["file in list",oe.STRING],labelFileCountPlural:["files in list",oe.STRING],labelFileLoading:["Loading",oe.STRING],labelFileAdded:["Added",oe.STRING],labelFileLoadError:["Error during load",oe.STRING],labelFileRemoved:["Removed",oe.STRING],labelFileRemoveError:["Error during remove",oe.STRING],labelFileProcessing:["Uploading",oe.STRING],labelFileProcessingComplete:["Upload complete",oe.STRING],labelFileProcessingAborted:["Upload cancelled",oe.STRING],labelFileProcessingError:["Error during upload",oe.STRING],labelFileProcessingRevertError:["Error during revert",oe.STRING],labelTapToCancel:["tap to cancel",oe.STRING],labelTapToRetry:["tap to retry",oe.STRING],labelTapToUndo:["tap to undo",oe.STRING],labelButtonRemoveItem:["Remove",oe.STRING],labelButtonAbortItemLoad:["Abort",oe.STRING],labelButtonRetryItemLoad:["Retry",oe.STRING],labelButtonAbortItemProcessing:["Cancel",oe.STRING],labelButtonUndoItemProcessing:["Undo",oe.STRING],labelButtonRetryItemProcessing:["Retry",oe.STRING],labelButtonProcessItem:["Upload",oe.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',oe.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],oninit:[null,oe.FUNCTION],onwarning:[null,oe.FUNCTION],onerror:[null,oe.FUNCTION],onactivatefile:[null,oe.FUNCTION],oninitfile:[null,oe.FUNCTION],onaddfilestart:[null,oe.FUNCTION],onaddfileprogress:[null,oe.FUNCTION],onaddfile:[null,oe.FUNCTION],onprocessfilestart:[null,oe.FUNCTION],onprocessfileprogress:[null,oe.FUNCTION],onprocessfileabort:[null,oe.FUNCTION],onprocessfilerevert:[null,oe.FUNCTION],onprocessfile:[null,oe.FUNCTION],onprocessfiles:[null,oe.FUNCTION],onremovefile:[null,oe.FUNCTION],onpreparefile:[null,oe.FUNCTION],onupdatefiles:[null,oe.FUNCTION],onreorderfiles:[null,oe.FUNCTION],beforeDropFile:[null,oe.FUNCTION],beforeAddFile:[null,oe.FUNCTION],beforeRemoveFile:[null,oe.FUNCTION],beforePrepareFile:[null,oe.FUNCTION],stylePanelLayout:[null,oe.STRING],stylePanelAspectRatio:[null,oe.STRING],styleItemPanelAspectRatio:[null,oe.STRING],styleButtonRemoveItemPosition:["left",oe.STRING],styleButtonProcessItemPosition:["right",oe.STRING],styleLoadIndicatorPosition:["right",oe.STRING],styleProgressIndicatorPosition:["right",oe.STRING],styleButtonRemoveItemAlign:[!1,oe.BOOLEAN],files:[[],oe.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],oe.ARRAY]},gs=(t,e)=>Ri(e)?t[0]||null:ar(e)?t[e]||null:(typeof e=="object"&&(e=e.id),t.find(n=>n.id===e)||null),_u=t=>{if(Ri(t))return t;if(/:/.test(t)){const e=t.split(":");return e[1]/e[0]}return parseFloat(t)},Xn=t=>t.filter(e=>!e.archived),bu={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Co=null;const $f=()=>{if(Co===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,Co=e.files.length===1}catch{Co=!1}return Co},Gf=[$e.LOAD_ERROR,$e.PROCESSING_ERROR,$e.PROCESSING_REVERT_ERROR],Bf=[$e.LOADING,$e.PROCESSING,$e.PROCESSING_QUEUED,$e.INIT],Hf=[$e.PROCESSING_COMPLETE],Uf=t=>Gf.includes(t.status),zf=t=>Bf.includes(t.status),Vf=t=>Hf.includes(t.status),lc=t=>Ut(t.options.server)&&(Ut(t.options.server.process)||ps(t.options.server.process)),Wf=t=>({GET_STATUS:()=>{const e=Xn(t.items),{EMPTY:n,ERROR:i,BUSY:r,IDLE:l,READY:c}=bu;return e.length===0?n:e.some(Uf)?i:e.some(zf)?r:e.some(Vf)?c:l},GET_ITEM:e=>gs(t.items,e),GET_ACTIVE_ITEM:e=>gs(Xn(t.items),e),GET_ACTIVE_ITEMS:()=>Xn(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:e=>{const n=gs(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:e=>{const n=gs(t.items,e);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(e=>/^style/.test(e)).map(e=>({name:e,value:t.options[e]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:_u(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:e=>Xn(t.items).filter(n=>n.status===e),GET_TOTAL_ITEMS:()=>Xn(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&$f()&&!lc(t),IS_ASYNC:()=>lc(t),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),qf=t=>{const e=Xn(t.items).length;if(!t.options.allowMultiple)return e===0;const n=t.options.maxFiles;return n===null||e<n},Tu=(t,e,n)=>Math.max(Math.min(n,t),e),jf=(t,e,n)=>t.splice(e,0,n),Yf=(t,e,n)=>Ri(e)?null:typeof n>"u"?(t.push(e),e):(n=Tu(n,0,t.length),jf(t,n,e),e),Ka=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),no=t=>`${t}`.split("/").pop().split("?").shift(),ua=t=>t.split(".").pop(),Xf=t=>{if(typeof t!="string")return"";const e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?e==="jpeg"?"jpg":e:""},$r=(t,e="")=>(e+t).slice(-e.length),wu=(t=new Date)=>`${t.getFullYear()}-${$r(t.getMonth()+1,"00")}-${$r(t.getDate(),"00")}_${$r(t.getHours(),"00")}-${$r(t.getMinutes(),"00")}-${$r(t.getSeconds(),"00")}`,rr=(t,e,n=null,i=null)=>{const r=typeof n=="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return r.lastModifiedDate=new Date,t._relativePath&&(r._relativePath=t._relativePath),an(e)||(e=wu()),e&&i===null&&ua(e)?r.name=e:(i=i||Xf(r.type),r.name=e+(i?"."+i:"")),r},Zf=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Iu=(t,e)=>{const n=Zf();if(n){const i=new n;return i.append(t),i.getBlob(e)}return new Blob([t],{type:e})},Kf=(t,e)=>{const n=new ArrayBuffer(t.length),i=new Uint8Array(n);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return Iu(n,e)},Su=t=>(/^data:(.+);/.exec(t)||[])[1]||null,Qf=t=>t.split(",")[1].replace(/\s/g,""),Jf=t=>atob(Qf(t)),eh=t=>{const e=Su(t),n=Jf(t);return Kf(n,e)},th=(t,e,n)=>rr(eh(t),e,null,n),nh=t=>{if(!/^content-disposition:/i.test(t))return null;const e=t.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return e.length?decodeURI(e[e.length-1]):null},ih=t=>{if(/content-length:/i.test(t)){const e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},sh=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,Tl=t=>{const e={source:null,name:null,size:null},n=t.split(`
`);for(let i of n){const r=nh(i);if(r){e.name=r;continue}const l=ih(i);if(l){e.size=l;continue}const c=sh(i);if(c){e.source=c;continue}}return e},rh=t=>{const e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>e.progress,i=()=>{e.request&&e.request.abort&&e.request.abort()},r=()=>{const d=e.source;c.fire("init",d),d instanceof File?c.fire("load",d):d instanceof Blob?c.fire("load",rr(d,d.name)):Ka(d)?c.fire("load",th(d)):l(d)},l=d=>{if(!t){c.fire("error",{type:"error",body:"Can't load URL",code:400});return}e.timestamp=Date.now(),e.request=t(d,p=>{e.duration=Date.now()-e.timestamp,e.complete=!0,p instanceof Blob&&(p=rr(p,p.name||no(d))),c.fire("load",p instanceof Blob?p:p?p.body:null)},p=>{c.fire("error",typeof p=="string"?{type:"error",code:0,body:p}:p)},(p,v,_)=>{if(_&&(e.size=_),e.duration=Date.now()-e.timestamp,!p){e.progress=null;return}e.progress=v/_,c.fire("progress",e.progress)},()=>{c.fire("abort")},p=>{const v=Tl(typeof p=="string"?p:p.headers);c.fire("meta",{size:e.size||v.size,filename:v.name,source:v.source})})},c={...ca(),setSource:d=>e.source=d,getProgress:n,abort:i,load:r};return c},cc=t=>/GET|HEAD/.test(t),ms=(t,e,n)=>{const i={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{r=!0,c.abort()}};let r=!1,l=!1;n={method:"POST",headers:{},withCredentials:!1,...n},e=encodeURI(e),cc(n.method)&&t&&(e=`${e}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const c=new XMLHttpRequest,d=cc(n.method)?c:c.upload;return d.onprogress=p=>{r||i.onprogress(p.lengthComputable,p.loaded,p.total)},c.onreadystatechange=()=>{c.readyState<2||c.readyState===4&&c.status===0||l||(l=!0,i.onheaders(c))},c.onload=()=>{c.status>=200&&c.status<300?i.onload(c):i.onerror(c)},c.onerror=()=>i.onerror(c),c.onabort=()=>{r=!0,i.onabort()},c.ontimeout=()=>i.ontimeout(c),c.open(n.method,e,!0),ar(n.timeout)&&(c.timeout=n.timeout),Object.keys(n.headers).forEach(p=>{const v=unescape(encodeURIComponent(n.headers[p]));c.setRequestHeader(p,v)}),n.responseType&&(c.responseType=n.responseType),n.withCredentials&&(c.withCredentials=!0),c.send(t),i},At=(t,e,n,i)=>({type:t,code:e,body:n,headers:i}),ys=t=>e=>{t(At("error",0,"Timeout",e.getAllResponseHeaders()))},uc=t=>/\?/.test(t),Yr=(...t)=>{let e="";return t.forEach(n=>{e+=uc(e)&&uc(n)?n.replace(/\?/,"&"):n}),e},La=(t="",e)=>{if(typeof e=="function")return e;if(!e||!an(e.url))return null;const n=e.onload||(r=>r),i=e.onerror||(r=>null);return(r,l,c,d,p,v)=>{const _=ms(r,Yr(t,e.url),{...e,responseType:"blob"});return _.onload=I=>{const D=I.getAllResponseHeaders(),O=Tl(D).name||no(r);l(At("load",I.status,e.method==="HEAD"?null:rr(n(I.response),O),D))},_.onerror=I=>{c(At("error",I.status,i(I.response)||I.statusText,I.getAllResponseHeaders()))},_.onheaders=I=>{v(At("headers",I.status,null,I.getAllResponseHeaders()))},_.ontimeout=ys(c),_.onprogress=d,_.onabort=p,_}},Ln={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},oh=(t,e,n,i,r,l,c,d,p,v,_)=>{const I=[],{chunkTransferId:D,chunkServer:O,chunkSize:T,chunkRetryDelays:x}=_,P={serverId:D,aborted:!1},G=e.ondata||(ne=>ne),M=e.onload||((ne,xe)=>xe==="HEAD"?ne.getResponseHeader("Upload-Offset"):ne.response),H=e.onerror||(ne=>null),z=ne=>{const xe=new FormData;Ut(r)&&xe.append(n,JSON.stringify(r));const Q=typeof e.headers=="function"?e.headers(i,r):{...e.headers,"Upload-Length":i.size},se={...e,headers:Q},N=ms(G(xe),Yr(t,e.url),se);N.onload=C=>ne(M(C,se.method)),N.onerror=C=>c(At("error",C.status,H(C.response)||C.statusText,C.getAllResponseHeaders())),N.ontimeout=ys(c)},J=ne=>{const xe=Yr(t,O.url,P.serverId),se={headers:typeof e.headers=="function"?e.headers(P.serverId):{...e.headers},method:"HEAD"},N=ms(null,xe,se);N.onload=C=>ne(M(C,se.method)),N.onerror=C=>c(At("error",C.status,H(C.response)||C.statusText,C.getAllResponseHeaders())),N.ontimeout=ys(c)},ee=Math.floor(i.size/T);for(let ne=0;ne<=ee;ne++){const xe=ne*T,Q=i.slice(xe,xe+T,"application/offset+octet-stream");I[ne]={index:ne,size:Q.size,offset:xe,data:Q,file:i,progress:0,retries:[...x],status:Ln.QUEUED,error:null,request:null,timeout:null}}const f=()=>l(P.serverId),te=ne=>ne.status===Ln.QUEUED||ne.status===Ln.ERROR,U=ne=>{if(P.aborted)return;if(ne=ne||I.find(te),!ne){I.every(ie=>ie.status===Ln.COMPLETE)&&f();return}ne.status=Ln.PROCESSING,ne.progress=null;const xe=O.ondata||(ie=>ie),Q=O.onerror||(ie=>null),se=Yr(t,O.url,P.serverId),N=typeof O.headers=="function"?O.headers(ne):{...O.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":ne.offset,"Upload-Length":i.size,"Upload-Name":i.name},C=ne.request=ms(xe(ne.data),se,{...O,headers:N});C.onload=()=>{ne.status=Ln.COMPLETE,ne.request=null,he()},C.onprogress=(ie,de,ge)=>{ne.progress=ie?de:null,ae()},C.onerror=ie=>{ne.status=Ln.ERROR,ne.request=null,ne.error=Q(ie.response)||ie.statusText,Y(ne)||c(At("error",ie.status,Q(ie.response)||ie.statusText,ie.getAllResponseHeaders()))},C.ontimeout=ie=>{ne.status=Ln.ERROR,ne.request=null,Y(ne)||ys(c)(ie)},C.onabort=()=>{ne.status=Ln.QUEUED,ne.request=null,p()}},Y=ne=>ne.retries.length===0?!1:(ne.status=Ln.WAITING,clearTimeout(ne.timeout),ne.timeout=setTimeout(()=>{U(ne)},ne.retries.shift()),!0),ae=()=>{const ne=I.reduce((Q,se)=>Q===null||se.progress===null?null:Q+se.progress,0);if(ne===null)return d(!1,0,0);const xe=I.reduce((Q,se)=>Q+se.size,0);d(!0,ne,xe)},he=()=>{I.filter(xe=>xe.status===Ln.PROCESSING).length>=1||U()},le=()=>{I.forEach(ne=>{clearTimeout(ne.timeout),ne.request&&ne.request.abort()})};return P.serverId?J(ne=>{P.aborted||(I.filter(xe=>xe.offset<ne).forEach(xe=>{xe.status=Ln.COMPLETE,xe.progress=xe.size}),he())}):z(ne=>{P.aborted||(v(ne),P.serverId=ne,he())}),{abort:()=>{P.aborted=!0,le()}}},ah=(t,e,n,i)=>(r,l,c,d,p,v,_)=>{if(!r)return;const I=i.chunkUploads,D=I&&r.size>i.chunkSize,O=I&&(D||i.chunkForce);if(r instanceof Blob&&O)return oh(t,e,n,r,l,c,d,p,v,_,i);const T=e.ondata||(J=>J),x=e.onload||(J=>J),P=e.onerror||(J=>null),G=typeof e.headers=="function"?e.headers(r,l)||{}:{...e.headers},M={...e,headers:G};var H=new FormData;Ut(l)&&H.append(n,JSON.stringify(l)),(r instanceof Blob?[{name:null,file:r}]:r).forEach(J=>{H.append(n,J.file,J.name===null?J.file.name:`${J.name}${J.file.name}`)});const z=ms(T(H),Yr(t,e.url),M);return z.onload=J=>{c(At("load",J.status,x(J.response),J.getAllResponseHeaders()))},z.onerror=J=>{d(At("error",J.status,P(J.response)||J.statusText,J.getAllResponseHeaders()))},z.ontimeout=ys(d),z.onprogress=p,z.onabort=v,z},lh=(t="",e,n,i)=>typeof e=="function"?(...r)=>e(n,...r,i):!e||!an(e.url)?null:ah(t,e,n,i),Gr=(t="",e)=>{if(typeof e=="function")return e;if(!e||!an(e.url))return(r,l)=>l();const n=e.onload||(r=>r),i=e.onerror||(r=>null);return(r,l,c)=>{const d=ms(r,t+e.url,e);return d.onload=p=>{l(At("load",p.status,n(p.response),p.getAllResponseHeaders()))},d.onerror=p=>{c(At("error",p.status,i(p.response)||p.statusText,p.getAllResponseHeaders()))},d.ontimeout=ys(c),d}},xu=(t=0,e=1)=>t+Math.random()*(e-t),ch=(t,e=1e3,n=0,i=25,r=250)=>{let l=null;const c=Date.now(),d=()=>{let p=Date.now()-c,v=xu(i,r);p+v>e&&(v=p+v-e);let _=p/e;if(_>=1||document.hidden){t(1);return}t(_),l=setTimeout(d,v)};return e>0&&d(),{clear:()=>{clearTimeout(l)}}},uh=(t,e)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:i}=e,r=(_,I)=>{const D=()=>{n.duration===0||n.progress===null||v.fire("progress",v.getProgress())},O=()=>{n.complete=!0,v.fire("load-perceived",n.response.body)};v.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=ch(T=>{n.perceivedProgress=T,n.perceivedDuration=Date.now()-n.timestamp,D(),n.response&&n.perceivedProgress===1&&!n.complete&&O()},i?xu(750,1500):0),n.request=t(_,I,T=>{n.response=Ut(T)?T:{type:"load",code:200,body:`${T}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,v.fire("load",n.response.body),(!i||i&&n.perceivedProgress===1)&&O()},T=>{n.perceivedPerformanceUpdater.clear(),v.fire("error",Ut(T)?T:{type:"error",code:0,body:`${T}`})},(T,x,P)=>{n.duration=Date.now()-n.timestamp,n.progress=T?x/P:null,D()},()=>{n.perceivedPerformanceUpdater.clear(),v.fire("abort",n.response?n.response.body:null)},T=>{v.fire("transfer",T)})},l=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},c=()=>{l(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},d=i?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,p=i?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,v={...ca(),process:r,abort:l,getProgress:d,getDuration:p,reset:c};return v},Cu=t=>t.substring(0,t.lastIndexOf("."))||t,dh=t=>{let e=[t.name,t.size,t.type];return t instanceof Blob||Ka(t)?e[0]=t.name||wu():Ka(t)?(e[1]=t.length,e[2]=Su(t)):an(t)&&(e[0]=no(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},vs=t=>!!(t instanceof File||t instanceof Blob&&t.name),Au=t=>{if(!Ut(t))return t;const e=oa(t)?[]:{};for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n];e[n]=i&&Ut(i)?Au(i):i}return e},fh=(t=null,e=null,n=null)=>{const i=El(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?$e.PROCESSING_COMPLETE:$e.INIT,activeLoader:null,activeProcessor:null};let l=null;const c={},d=te=>r.status=te,p=(te,...U)=>{r.released||r.frozen||ee.fire(te,...U)},v=()=>ua(r.file.name),_=()=>r.file.type,I=()=>r.file.size,D=()=>r.file,O=(te,U,Y)=>{if(r.source=te,ee.fireSync("init"),r.file){ee.fireSync("load-skip");return}r.file=dh(te),U.on("init",()=>{p("load-init")}),U.on("meta",ae=>{r.file.size=ae.size,r.file.filename=ae.filename,ae.source&&(t=kt.LIMBO,r.serverFileReference=ae.source,r.status=$e.PROCESSING_COMPLETE),p("load-meta")}),U.on("progress",ae=>{d($e.LOADING),p("load-progress",ae)}),U.on("error",ae=>{d($e.LOAD_ERROR),p("load-request-error",ae)}),U.on("abort",()=>{d($e.INIT),p("load-abort")}),U.on("load",ae=>{r.activeLoader=null;const he=ne=>{r.file=vs(ne)?ne:r.file,t===kt.LIMBO&&r.serverFileReference?d($e.PROCESSING_COMPLETE):d($e.IDLE),p("load")},le=ne=>{r.file=ae,p("load-meta"),d($e.LOAD_ERROR),p("load-file-error",ne)};if(r.serverFileReference){he(ae);return}Y(ae,he,le)}),U.setSource(te),r.activeLoader=U,U.load()},T=()=>{r.activeLoader&&r.activeLoader.load()},x=()=>{if(r.activeLoader){r.activeLoader.abort();return}d($e.INIT),p("load-abort")},P=(te,U)=>{if(r.processingAborted){r.processingAborted=!1;return}if(d($e.PROCESSING),l=null,!(r.file instanceof Blob)){ee.on("load",()=>{P(te,U)});return}te.on("load",he=>{r.transferId=null,r.serverFileReference=he}),te.on("transfer",he=>{r.transferId=he}),te.on("load-perceived",he=>{r.activeProcessor=null,r.transferId=null,r.serverFileReference=he,d($e.PROCESSING_COMPLETE),p("process-complete",he)}),te.on("start",()=>{p("process-start")}),te.on("error",he=>{r.activeProcessor=null,d($e.PROCESSING_ERROR),p("process-error",he)}),te.on("abort",he=>{r.activeProcessor=null,r.serverFileReference=he,d($e.IDLE),p("process-abort"),l&&l()}),te.on("progress",he=>{p("process-progress",he)});const Y=he=>{r.archived||te.process(he,{...c})},ae=console.error;U(r.file,Y,ae),r.activeProcessor=te},G=()=>{r.processingAborted=!1,d($e.PROCESSING_QUEUED)},M=()=>new Promise(te=>{if(!r.activeProcessor){r.processingAborted=!0,d($e.IDLE),p("process-abort"),te();return}l=()=>{te()},r.activeProcessor.abort()}),H=(te,U)=>new Promise((Y,ae)=>{const he=r.serverFileReference!==null?r.serverFileReference:r.transferId;if(he===null){Y();return}te(he,()=>{r.serverFileReference=null,r.transferId=null,Y()},le=>{if(!U){Y();return}d($e.PROCESSING_REVERT_ERROR),p("process-revert-error"),ae(le)}),d($e.IDLE),p("process-revert")}),z=(te,U,Y)=>{const ae=te.split("."),he=ae[0],le=ae.pop();let ne=c;ae.forEach(xe=>ne=ne[xe]),JSON.stringify(ne[le])!==JSON.stringify(U)&&(ne[le]=U,p("metadata-update",{key:he,value:c[he],silent:Y}))},ee={id:{get:()=>i},origin:{get:()=>t,set:te=>t=te},serverId:{get:()=>r.serverFileReference},transferId:{get:()=>r.transferId},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>Cu(r.file.name)},fileExtension:{get:v},fileType:{get:_},fileSize:{get:I},file:{get:D},relativePath:{get:()=>r.file._relativePath},source:{get:()=>r.source},getMetadata:te=>Au(te?c[te]:c),setMetadata:(te,U,Y)=>{if(Ut(te)){const ae=te;return Object.keys(ae).forEach(he=>{z(he,ae[he],U)}),te}return z(te,U,Y),U},extend:(te,U)=>f[te]=U,abortLoad:x,retryLoad:T,requestProcessing:G,abortProcessing:M,load:O,process:P,revert:H,...ca(),freeze:()=>r.frozen=!0,release:()=>r.released=!0,released:{get:()=>r.released},archive:()=>r.archived=!0,archived:{get:()=>r.archived},setFile:te=>r.file=te},f=Qi(ee);return f},hh=(t,e)=>Ri(e)?0:an(e)?t.findIndex(n=>n.id===e):-1,dc=(t,e)=>{const n=hh(t,e);if(!(n<0))return t[n]||null},fc=(t,e,n,i,r,l)=>{const c=ms(null,t,{method:"GET",responseType:"blob"});return c.onload=d=>{const p=d.getAllResponseHeaders(),v=Tl(p).name||no(t);e(At("load",d.status,rr(d.response,v),p))},c.onerror=d=>{n(At("error",d.status,d.statusText,d.getAllResponseHeaders()))},c.onheaders=d=>{l(At("headers",d.status,null,d.getAllResponseHeaders()))},c.ontimeout=ys(n),c.onprogress=i,c.onabort=r,c},hc=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),ph=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&hc(location.href)!==hc(t),Ao=t=>(...e)=>ps(t)?t(...e):t,gh=t=>!vs(t.file),Ma=(t,e)=>{clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:Xn(e.items)})},0)},pc=(t,...e)=>new Promise(n=>{if(!t)return n(!0);const i=t(...e);if(i==null)return n(!0);if(typeof i=="boolean")return n(i);typeof i.then=="function"&&i.then(n)}),Na=(t,e)=>{t.items.sort((n,i)=>e(pn(n),pn(i)))},Mn=(t,e)=>({query:n,success:i=()=>{},failure:r=()=>{},...l}={})=>{const c=gs(t.items,n);if(!c){r({error:At("error",0,"Item not found"),file:null});return}e(c,i,r,l||{})},mh=(t,e,n)=>({ABORT_ALL:()=>{Xn(n.items).forEach(i=>{i.freeze(),i.abortLoad(),i.abortProcessing()})},DID_SET_FILES:({value:i=[]})=>{const r=i.map(c=>({source:c.source?c.source:c,options:c.options}));let l=Xn(n.items);l.forEach(c=>{r.find(d=>d.source===c.source||d.source===c.file)||t("REMOVE_ITEM",{query:c,remove:!1})}),l=Xn(n.items),r.forEach((c,d)=>{l.find(p=>p.source===c.source||p.file===c.source)||t("ADD_ITEM",{...c,interactionMethod:$n.NONE,index:d})})},DID_UPDATE_ITEM_METADATA:({id:i,action:r,change:l})=>{l.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const c=dc(n.items,i);if(!e("IS_ASYNC")){Yn("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:e,action:r,change:l}).then(_=>{const I=e("GET_BEFORE_PREPARE_FILE");I&&(_=I(c,_)),_&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:c,success:D=>{t("DID_PREPARE_OUTPUT",{id:i,file:D})}},!0)});return}c.origin===kt.LOCAL&&t("DID_LOAD_ITEM",{id:c.id,error:null,serverFileReference:c.source});const d=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:i})},32)},p=_=>{c.revert(Gr(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(_?d:()=>{}).catch(()=>{})},v=_=>{c.abortProcessing().then(_?d:()=>{})};if(c.status===$e.PROCESSING_COMPLETE)return p(n.options.instantUpload);if(c.status===$e.PROCESSING)return v(n.options.instantUpload);n.options.instantUpload&&d()},0))},MOVE_ITEM:({query:i,index:r})=>{const l=gs(n.items,i);if(!l)return;const c=n.items.indexOf(l);r=Tu(r,0,n.items.length-1),c!==r&&n.items.splice(r,0,n.items.splice(c,1)[0])},SORT:({compare:i})=>{Na(n,i),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:i,index:r,interactionMethod:l,success:c=()=>{},failure:d=()=>{}})=>{let p=r;if(r===-1||typeof r>"u"){const O=e("GET_ITEM_INSERT_LOCATION"),T=e("GET_TOTAL_ITEMS");p=O==="before"?0:T}const v=e("GET_IGNORED_FILES"),_=O=>vs(O)?!v.includes(O.name.toLowerCase()):!Ri(O),D=i.filter(_).map(O=>new Promise((T,x)=>{t("ADD_ITEM",{interactionMethod:l,source:O.source||O,success:T,failure:x,index:p++,options:O.options||{}})}));Promise.all(D).then(c).catch(d)},ADD_ITEM:({source:i,index:r=-1,interactionMethod:l,success:c=()=>{},failure:d=()=>{},options:p={}})=>{if(Ri(i)){d({error:At("error",0,"No source"),file:null});return}if(vs(i)&&n.options.ignoredFiles.includes(i.name.toLowerCase()))return;if(!qf(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const M=At("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:i,error:M}),d({error:M,file:null});return}const G=Xn(n.items)[0];if(G.status===$e.PROCESSING_COMPLETE||G.status===$e.PROCESSING_REVERT_ERROR){const M=e("GET_FORCE_REVERT");if(G.revert(Gr(n.options.server.url,n.options.server.revert),M).then(()=>{M&&t("ADD_ITEM",{source:i,index:r,interactionMethod:l,success:c,failure:d,options:p})}).catch(()=>{}),M)return}t("REMOVE_ITEM",{query:G.id})}const v=p.type==="local"?kt.LOCAL:p.type==="limbo"?kt.LIMBO:kt.INPUT,_=fh(v,v===kt.INPUT?null:i,p.file);Object.keys(p.metadata||{}).forEach(G=>{_.setMetadata(G,p.metadata[G])}),bs("DID_CREATE_ITEM",_,{query:e,dispatch:t});const I=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r=I==="before"?-1:n.items.length),Yf(n.items,_,r),ps(I)&&i&&Na(n,I);const D=_.id;_.on("init",()=>{t("DID_INIT_ITEM",{id:D})}),_.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:D})}),_.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:D})}),_.on("load-progress",G=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:D,progress:G})}),_.on("load-request-error",G=>{const M=Ao(n.options.labelFileLoadError)(G);if(G.code>=400&&G.code<500){t("DID_THROW_ITEM_INVALID",{id:D,error:G,status:{main:M,sub:`${G.code} (${G.body})`}}),d({error:G,file:pn(_)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:D,error:G,status:{main:M,sub:n.options.labelTapToRetry}})}),_.on("load-file-error",G=>{t("DID_THROW_ITEM_INVALID",{id:D,error:G.status,status:G.status}),d({error:G.status,file:pn(_)})}),_.on("load-abort",()=>{t("REMOVE_ITEM",{query:D})}),_.on("load-skip",()=>{_.on("metadata-update",G=>{vs(_.file)&&t("DID_UPDATE_ITEM_METADATA",{id:D,change:G})}),t("COMPLETE_LOAD_ITEM",{query:D,item:_,data:{source:i,success:c}})}),_.on("load",()=>{const G=M=>{if(!M){t("REMOVE_ITEM",{query:D});return}_.on("metadata-update",H=>{t("DID_UPDATE_ITEM_METADATA",{id:D,change:H})}),Yn("SHOULD_PREPARE_OUTPUT",!1,{item:_,query:e}).then(H=>{const z=e("GET_BEFORE_PREPARE_FILE");z&&(H=z(_,H));const J=()=>{t("COMPLETE_LOAD_ITEM",{query:D,item:_,data:{source:i,success:c}}),Ma(t,n)};if(H){t("REQUEST_PREPARE_OUTPUT",{query:D,item:_,success:ee=>{t("DID_PREPARE_OUTPUT",{id:D,file:ee}),J()}},!0);return}J()})};Yn("DID_LOAD_ITEM",_,{query:e,dispatch:t}).then(()=>{pc(e("GET_BEFORE_ADD_FILE"),pn(_)).then(G)}).catch(M=>{if(!M||!M.error||!M.status)return G(!1);t("DID_THROW_ITEM_INVALID",{id:D,error:M.error,status:M.status})})}),_.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:D})}),_.on("process-progress",G=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:D,progress:G})}),_.on("process-error",G=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:D,error:G,status:{main:Ao(n.options.labelFileProcessingError)(G),sub:n.options.labelTapToRetry}})}),_.on("process-revert-error",G=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:D,error:G,status:{main:Ao(n.options.labelFileProcessingRevertError)(G),sub:n.options.labelTapToRetry}})}),_.on("process-complete",G=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:D,error:null,serverFileReference:G}),t("DID_DEFINE_VALUE",{id:D,value:G})}),_.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:D})}),_.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:D}),t("DID_DEFINE_VALUE",{id:D,value:null})}),t("DID_ADD_ITEM",{id:D,index:r,interactionMethod:l}),Ma(t,n);const{url:O,load:T,restore:x,fetch:P}=n.options.server||{};_.load(i,rh(v===kt.INPUT?an(i)&&ph(i)&&P?La(O,P):fc:v===kt.LIMBO?La(O,x):La(O,T)),(G,M,H)=>{Yn("LOAD_FILE",G,{query:e}).then(M).catch(H)})},REQUEST_PREPARE_OUTPUT:({item:i,success:r,failure:l=()=>{}})=>{const c={error:At("error",0,"Item not found"),file:null};if(i.archived)return l(c);Yn("PREPARE_OUTPUT",i.file,{query:e,item:i}).then(d=>{Yn("COMPLETE_PREPARE_OUTPUT",d,{query:e,item:i}).then(p=>{if(i.archived)return l(c);r(p)})})},COMPLETE_LOAD_ITEM:({item:i,data:r})=>{const{success:l,source:c}=r,d=e("GET_ITEM_INSERT_LOCATION");if(ps(d)&&c&&Na(n,d),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===kt.INPUT?null:c}),l(pn(i)),i.origin===kt.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:i.id});return}if(i.origin===kt.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:c}),t("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||c});return}e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id})},RETRY_ITEM_LOAD:Mn(n,i=>{i.retryLoad()}),REQUEST_ITEM_PREPARE:Mn(n,(i,r,l)=>{t("REQUEST_PREPARE_OUTPUT",{query:i.id,item:i,success:c=>{t("DID_PREPARE_OUTPUT",{id:i.id,file:c}),r({file:i,output:c})},failure:l},!0)}),REQUEST_ITEM_PROCESSING:Mn(n,(i,r,l)=>{if(!(i.status===$e.IDLE||i.status===$e.PROCESSING_ERROR)){const d=()=>t("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:l}),p=()=>document.hidden?d():setTimeout(d,32);i.status===$e.PROCESSING_COMPLETE||i.status===$e.PROCESSING_REVERT_ERROR?i.revert(Gr(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(p).catch(()=>{}):i.status===$e.PROCESSING&&i.abortProcessing().then(p);return}i.status!==$e.PROCESSING_QUEUED&&(i.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),t("PROCESS_ITEM",{query:i,success:r,failure:l},!0))}),PROCESS_ITEM:Mn(n,(i,r,l)=>{const c=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",$e.PROCESSING).length===c){n.processingQueue.push({id:i.id,success:r,failure:l});return}if(i.status===$e.PROCESSING)return;const p=()=>{const _=n.processingQueue.shift();if(!_)return;const{id:I,success:D,failure:O}=_,T=gs(n.items,I);if(!T||T.archived){p();return}t("PROCESS_ITEM",{query:I,success:D,failure:O},!0)};i.onOnce("process-complete",()=>{r(pn(i)),p();const _=n.options.server;if(n.options.instantUpload&&i.origin===kt.LOCAL&&ps(_.remove)){const O=()=>{};i.origin=kt.LIMBO,n.options.server.remove(i.source,O,O)}e("GET_ITEMS_BY_STATUS",$e.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),i.onOnce("process-error",_=>{l({error:_,file:pn(i)}),p()});const v=n.options;i.process(uh(lh(v.server.url,v.server.process,v.name,{chunkTransferId:i.transferId,chunkServer:v.server.patch,chunkUploads:v.chunkUploads,chunkForce:v.chunkForce,chunkSize:v.chunkSize,chunkRetryDelays:v.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(_,I,D)=>{Yn("PREPARE_OUTPUT",_,{query:e,item:i}).then(O=>{t("DID_PREPARE_OUTPUT",{id:i.id,file:O}),I(O)}).catch(D)})}),RETRY_ITEM_PROCESSING:Mn(n,i=>{t("REQUEST_ITEM_PROCESSING",{query:i})}),REQUEST_REMOVE_ITEM:Mn(n,i=>{pc(e("GET_BEFORE_REMOVE_FILE"),pn(i)).then(r=>{r&&t("REMOVE_ITEM",{query:i})})}),RELEASE_ITEM:Mn(n,i=>{i.release()}),REMOVE_ITEM:Mn(n,(i,r,l,c)=>{const d=()=>{const v=i.id;dc(n.items,v).archive(),t("DID_REMOVE_ITEM",{error:null,id:v,item:i}),Ma(t,n),r(pn(i))},p=n.options.server;i.origin===kt.LOCAL&&p&&ps(p.remove)&&c.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:i.id}),p.remove(i.source,()=>d(),v=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:At("error",0,v,null),status:{main:Ao(n.options.labelFileRemoveError)(v),sub:n.options.labelTapToRetry}})})):((c.revert&&i.origin!==kt.LOCAL&&i.serverId!==null||n.options.chunkUploads&&i.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&i.revert(Gr(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),d())}),ABORT_ITEM_LOAD:Mn(n,i=>{i.abortLoad()}),ABORT_ITEM_PROCESSING:Mn(n,i=>{if(i.serverId){t("REVERT_ITEM_PROCESSING",{id:i.id});return}i.abortProcessing().then(()=>{n.options.instantUpload&&t("REMOVE_ITEM",{query:i.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Mn(n,i=>{if(!n.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:i});return}const r=d=>{d&&t("REVERT_ITEM_PROCESSING",{query:i})},l=e("GET_BEFORE_REMOVE_FILE");if(!l)return r(!0);const c=l(pn(i));if(c==null)return r(!0);if(typeof c=="boolean")return r(c);typeof c.then=="function"&&c.then(r)}),REVERT_ITEM_PROCESSING:Mn(n,i=>{i.revert(Gr(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||gh(i))&&t("REMOVE_ITEM",{query:i.id})}).catch(()=>{})}),SET_OPTIONS:({options:i})=>{const r=Object.keys(i),l=yh.filter(d=>r.includes(d));[...l,...Object.keys(i).filter(d=>!l.includes(d))].forEach(d=>{t(`SET_${la(d,"_").toUpperCase()}`,{value:i[d]})})}}),yh=["server"],wl=t=>t,Pi=t=>document.createElement(t),Ot=(t,e)=>{let n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},gc=(t,e,n,i)=>{const r=(i%360-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},vh=(t,e,n,i,r,l)=>{const c=gc(t,e,n,r),d=gc(t,e,n,i);return["M",c.x,c.y,"A",n,n,0,l,0,d.x,d.y].join(" ")},Eh=(t,e,n,i,r)=>{let l=1;return r>i&&r-i<=.5&&(l=0),i>r&&i-r>=.5&&(l=0),vh(t,e,n,Math.min(.9999,i)*360,Math.min(.9999,r)*360,l)},_h=({root:t,props:e})=>{e.spin=!1,e.progress=0,e.opacity=0;const n=Ko("svg");t.ref.path=Ko("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(t.ref.path),t.ref.svg=n,t.appendChild(n)},bh=({root:t,props:e})=>{if(e.opacity===0)return;e.align&&(t.element.dataset.align=e.align);const n=parseInt($t(t.ref.path,"stroke-width"),10),i=t.rect.element.width*.5;let r=0,l=0;e.spin?(r=0,l=.5):(r=0,l=e.progress);const c=Eh(i,i,i-n,r,l);$t(t.ref.path,"d",c),$t(t.ref.path,"stroke-opacity",e.spin||e.progress>0?1:0)},mc=Mt({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:_h,write:bh,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Th=({root:t,props:e})=>{t.element.innerHTML=(e.icon||"")+`<span>${e.label}</span>`,e.isDisabled=!1},wh=({root:t,props:e})=>{const{isDisabled:n}=e,i=t.query("GET_DISABLED")||e.opacity===0;i&&!n?(e.isDisabled=!0,$t(t.element,"disabled","disabled")):!i&&n&&(e.isDisabled=!1,t.element.removeAttribute("disabled"))},Ou=Mt({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Th,write:wh}),Du=(t,e=".",n=1e3,i={})=>{const{labelBytes:r="bytes",labelKilobytes:l="KB",labelMegabytes:c="MB",labelGigabytes:d="GB"}=i;t=Math.round(Math.abs(t));const p=n,v=n*n,_=n*n*n;return t<p?`${t} ${r}`:t<v?`${Math.floor(t/p)} ${l}`:t<_?`${yc(t/v,1,e)} ${c}`:`${yc(t/_,2,e)} ${d}`},yc=(t,e,n)=>t.toFixed(e).split(".").filter(i=>i!=="0").join(n),Ih=({root:t,props:e})=>{const n=Pi("span");n.className="filepond--file-info-main",$t(n,"aria-hidden","true"),t.appendChild(n),t.ref.fileName=n;const i=Pi("span");i.className="filepond--file-info-sub",t.appendChild(i),t.ref.fileSize=i,Ot(i,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ot(n,wl(t.query("GET_ITEM_NAME",e.id)))},Qa=({root:t,props:e})=>{Ot(t.ref.fileSize,Du(t.query("GET_ITEM_SIZE",e.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),Ot(t.ref.fileName,wl(t.query("GET_ITEM_NAME",e.id)))},vc=({root:t,props:e})=>{if(ar(t.query("GET_ITEM_SIZE",e.id))){Qa({root:t,props:e});return}Ot(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Sh=Mt({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ln({DID_LOAD_ITEM:Qa,DID_UPDATE_ITEM_META:Qa,DID_THROW_ITEM_LOAD_ERROR:vc,DID_THROW_ITEM_INVALID:vc}),didCreateView:t=>{bs("CREATE_VIEW",{...t,view:t})},create:Ih,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Ru=t=>Math.round(t*100),xh=({root:t})=>{const e=Pi("span");e.className="filepond--file-status-main",t.appendChild(e),t.ref.main=e;const n=Pi("span");n.className="filepond--file-status-sub",t.appendChild(n),t.ref.sub=n,Pu({root:t,action:{progress:null}})},Pu=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${Ru(e.progress)}%`;Ot(t.ref.main,n),Ot(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Ch=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${Ru(e.progress)}%`;Ot(t.ref.main,n),Ot(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Ah=({root:t})=>{Ot(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),Ot(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Oh=({root:t})=>{Ot(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ot(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},Dh=({root:t})=>{Ot(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ot(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},Ec=({root:t})=>{Ot(t.ref.main,""),Ot(t.ref.sub,"")},Br=({root:t,action:e})=>{Ot(t.ref.main,e.status.main),Ot(t.ref.sub,e.status.sub)},Rh=Mt({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ln({DID_LOAD_ITEM:Ec,DID_REVERT_ITEM_PROCESSING:Ec,DID_REQUEST_ITEM_PROCESSING:Ah,DID_ABORT_ITEM_PROCESSING:Oh,DID_COMPLETE_ITEM_PROCESSING:Dh,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ch,DID_UPDATE_ITEM_LOAD_PROGRESS:Pu,DID_THROW_ITEM_LOAD_ERROR:Br,DID_THROW_ITEM_INVALID:Br,DID_THROW_ITEM_PROCESSING_ERROR:Br,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Br,DID_THROW_ITEM_REMOVE_ERROR:Br}),didCreateView:t=>{bs("CREATE_VIEW",{...t,view:t})},create:xh,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ja={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},el=[];It(Ja,t=>{el.push(t)});const wn=t=>{if(tl(t)==="right")return 0;const e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Ph=t=>t.ref.buttonAbortItemLoad.rect.element.width,Oo=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),Lh=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),Mh=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Nh=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),tl=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Fh={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Mh},processProgressIndicator:{opacity:0,align:Nh},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},_c={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:wn},status:{translateX:wn}},Fa={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Qs={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:wn},status:{translateX:wn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:wn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:tl},info:{translateX:wn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:tl},buttonRemoveItem:{opacity:1},info:{translateX:wn},status:{opacity:1,translateX:wn}},DID_LOAD_ITEM:_c,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:wn},status:{translateX:wn}},DID_START_ITEM_PROCESSING:Fa,DID_REQUEST_ITEM_PROCESSING:Fa,DID_UPDATE_ITEM_PROCESS_PROGRESS:Fa,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:wn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:wn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:_c},kh=Mt({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),$h=({root:t,props:e})=>{const n=Object.keys(Ja).reduce((T,x)=>(T[x]={...Ja[x]},T),{}),{id:i}=e,r=t.query("GET_ALLOW_REVERT"),l=t.query("GET_ALLOW_REMOVE"),c=t.query("GET_ALLOW_PROCESS"),d=t.query("GET_INSTANT_UPLOAD"),p=t.query("IS_ASYNC"),v=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let _;p?c&&!r?_=T=>!/RevertItemProcessing/.test(T):!c&&r?_=T=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(T):!c&&!r&&(_=T=>!/Process/.test(T)):_=T=>!/Process/.test(T);const I=_?el.filter(_):el.concat();if(d&&r&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),p&&!r){const T=Qs.DID_COMPLETE_ITEM_PROCESSING;T.info.translateX=Lh,T.info.translateY=Oo,T.status.translateY=Oo,T.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(p&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(T=>{Qs[T].status.translateY=Oo}),Qs.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Ph),v&&r){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const T=Qs.DID_COMPLETE_ITEM_PROCESSING;T.info.translateX=wn,T.status.translateY=Oo,T.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}l||(n.RemoveItem.disabled=!0),It(n,(T,x)=>{const P=t.createChildView(Ou,{label:t.query(x.label),icon:t.query(x.icon),opacity:0});I.includes(T)&&t.appendChildView(P),x.disabled&&(P.element.setAttribute("disabled","disabled"),P.element.setAttribute("hidden","hidden")),P.element.dataset.align=t.query(`GET_STYLE_${x.align}`),P.element.classList.add(x.className),P.on("click",G=>{G.stopPropagation(),!x.disabled&&t.dispatch(x.action,{query:i})}),t.ref[`button${T}`]=P}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(kh)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(Sh,{id:i})),t.ref.status=t.appendChildView(t.createChildView(Rh,{id:i}));const D=t.appendChildView(t.createChildView(mc,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));D.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=D;const O=t.appendChildView(t.createChildView(mc,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));O.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=O,t.ref.activeStyles=[]},Gh=({root:t,actions:e,props:n})=>{Bh({root:t,actions:e,props:n});let i=e.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>Qs[r.type]);if(i){t.ref.activeStyles=[];const r=Qs[i.type];It(Fh,(l,c)=>{const d=t.ref[l];It(c,(p,v)=>{const _=r[l]&&typeof r[l][p]<"u"?r[l][p]:v;t.ref.activeStyles.push({control:d,key:p,value:_})})})}t.ref.activeStyles.forEach(({control:r,key:l,value:c})=>{r[l]=typeof c=="function"?c(t):c})},Bh=ln({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:e})=>{t.ref.buttonAbortItemProcessing.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:e})=>{t.ref.buttonAbortItemLoad.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:e})=>{t.ref.buttonAbortItemRemoval.label=e.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:e})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=e.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:e})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=e.progress}}),Hh=Mt({create:$h,write:Gh,didCreateView:t=>{bs("CREATE_VIEW",{...t,view:t})},name:"file"}),Uh=({root:t,props:e})=>{t.ref.fileName=Pi("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Hh,{id:e.id})),t.ref.data=!1},zh=({root:t,props:e})=>{Ot(t.ref.fileName,wl(t.query("GET_ITEM_NAME",e.id)))},Vh=Mt({create:Uh,ignoreRect:!0,write:ln({DID_LOAD_ITEM:zh}),didCreateView:t=>{bs("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),bc={type:"spring",damping:.6,mass:7},Wh=({root:t,props:e})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:bc},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:bc},styles:["translateY"]}}].forEach(n=>{qh(t,n,e.name)}),t.element.classList.add(`filepond--${e.name}`),t.ref.scalable=null},qh=(t,e,n)=>{const i=Mt({name:`panel-${e.name} filepond--${n}`,mixins:e.mixins,ignoreRectUpdate:!0}),r=t.createChildView(i,e.props);t.ref[e.name]=t.appendChildView(r)},jh=({root:t,props:e})=>{if((t.ref.scalable===null||e.scalable!==t.ref.scalable)&&(t.ref.scalable=hu(e.scalable)?e.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!e.height)return;const n=t.ref.top.rect.element,i=t.ref.bottom.rect.element,r=Math.max(n.height+i.height,e.height);t.ref.center.translateY=n.height,t.ref.center.scaleY=(r-n.height-i.height)/100,t.ref.bottom.translateY=r-i.height},Lu=Mt({name:"panel",read:({root:t,props:e})=>e.heightCurrent=t.ref.bottom.translateY,write:jh,create:Wh,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Yh=t=>{const e=t.map(i=>i.id);let n;return{setIndex:i=>{n=i},getIndex:()=>n,getItemIndex:i=>e.indexOf(i.id)}},Tc={type:"spring",stiffness:.75,damping:.45,mass:10},wc="spring",Ic={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Xh=({root:t,props:e})=>{if(t.ref.handleClick=i=>t.dispatch("DID_ACTIVATE_ITEM",{id:e.id}),t.element.id=`filepond--item-${e.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Vh,{id:e.id})),t.ref.panel=t.appendChildView(t.createChildView(Lu,{name:"item-panel"})),t.ref.panel.height=null,e.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const n=i=>{if(!i.isPrimary)return;let r=!1;const l={x:i.pageX,y:i.pageY};e.dragOrigin={x:t.translateX,y:t.translateY},e.dragCenter={x:i.offsetX,y:i.offsetY};const c=Yh(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:e.id,dragState:c});const d=I=>{if(!I.isPrimary)return;I.stopPropagation(),I.preventDefault(),e.dragOffset={x:I.pageX-l.x,y:I.pageY-l.y},e.dragOffset.x*e.dragOffset.x+e.dragOffset.y*e.dragOffset.y>16&&!r&&(r=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:e.id,dragState:c})},p=I=>{I.isPrimary&&(e.dragOffset={x:I.pageX-l.x,y:I.pageY-l.y},_())},v=()=>{_()},_=()=>{document.removeEventListener("pointercancel",v),document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",p),t.dispatch("DID_DROP_ITEM",{id:e.id,dragState:c}),r&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0)};document.addEventListener("pointercancel",v),document.addEventListener("pointermove",d),document.addEventListener("pointerup",p)};t.element.addEventListener("pointerdown",n)},Zh=ln({DID_UPDATE_PANEL_HEIGHT:({root:t,action:e})=>{t.height=e.height}}),Kh=ln({DID_GRAB_ITEM:({root:t,props:e})=>{e.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:e})=>{e.dragOffset=null,e.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:e,props:n,shouldOptimize:i})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let r=e.concat().filter(c=>/^DID_/.test(c.type)).reverse().find(c=>Ic[c.type]);r&&r.type!==n.currentState&&(n.currentState=r.type,t.element.dataset.filepondItemState=Ic[n.currentState]||"");const l=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");l?i||(t.height=t.rect.element.width*l):(Zh({root:t,actions:e,props:n}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),i&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),Qh=Mt({create:Xh,write:Kh,destroy:({root:t,props:e})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:e.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:wc,scaleY:wc,translateX:Tc,translateY:Tc,opacity:{type:"tween",duration:150}}}});var Il=(t,e)=>Math.max(1,Math.floor((t+1)/e));const Sl=(t,e,n)=>{if(!n)return;const i=t.rect.element.width,r=e.length;let l=null;if(r===0||n.top<e[0].rect.element.top)return-1;const d=e[0].rect.element,p=d.marginLeft+d.marginRight,v=d.width+p,_=Il(i,v);if(_===1){for(let O=0;O<r;O++){const T=e[O],x=T.rect.outer.top+T.rect.element.height*.5;if(n.top<x)return O}return r}const I=d.marginTop+d.marginBottom,D=d.height+I;for(let O=0;O<r;O++){const T=O%_,x=Math.floor(O/_),P=T*v,G=x*D,M=G-d.marginTop,H=P+v,z=G+D+d.marginBottom;if(n.top<z&&n.top>M){if(n.left<H)return O;O!==r-1?l=O:l=null}}return l!==null?l:r},Do={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)},setDimensions:function(t,e){(this.height===0||t===0)&&(this.height=t),(this.width===0||e===0)&&(this.width=e)}},Jh=({root:t})=>{$t(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},ep=({root:t,action:e})=>{const{id:n,index:i,interactionMethod:r}=e;t.ref.addIndex=i;const l=Date.now();let c=l,d=1;if(r!==$n.NONE){d=0;const p=t.query("GET_ITEM_INSERT_INTERVAL"),v=l-t.ref.lastItemSpanwDate;c=v<p?l+(p-v):l}t.ref.lastItemSpanwDate=c,t.appendChildView(t.createChildView(Qh,{spawnDate:c,id:n,opacity:d,interactionMethod:r}),i)},Sc=(t,e,n,i=0,r=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(t.opacity===0&&tp(t,e,n,i,r),t.scaleX=1,t.scaleY=1,t.opacity=1))},tp=(t,e,n,i,r)=>{t.interactionMethod===$n.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===$n.DROP?(t.translateX=null,t.translateX=e-i*20,t.translateY=null,t.translateY=n-r*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===$n.BROWSE?(t.translateY=null,t.translateY=n-30):t.interactionMethod===$n.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},np=({root:t,action:e})=>{const{id:n}=e,i=t.childViews.find(r=>r.id===n);i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},ka=t=>t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5,ip=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,sp=({root:t,action:e})=>{const{id:n,dragState:i}=e,r=t.query("GET_ITEM",{id:n}),l=t.childViews.find(P=>P.id===n),c=t.childViews.length,d=i.getItemIndex(r);if(!l)return;const p={x:l.dragOrigin.x+l.dragOffset.x+l.dragCenter.x,y:l.dragOrigin.y+l.dragOffset.y+l.dragCenter.y},v=ka(l),_=ip(l);let I=Math.floor(t.rect.outer.width/_);I>c&&(I=c);const D=Math.floor(c/I+1);Do.setHeight=v*D,Do.setWidth=_*I;var O={y:Math.floor(p.y/v),x:Math.floor(p.x/_),getGridIndex:function(){return p.y>Do.getHeight||p.y<0||p.x>Do.getWidth||p.x<0?d:this.y*I+this.x},getColIndex:function(){const G=t.query("GET_ACTIVE_ITEMS"),M=t.childViews.filter(ae=>ae.rect.element.height),H=G.map(ae=>M.find(he=>he.id===ae.id)),z=H.findIndex(ae=>ae===l),J=ka(l),ee=H.length;let f=ee,te=0,U=0,Y=0;for(let ae=0;ae<ee;ae++)if(te=ka(H[ae]),Y=U,U=Y+te,p.y<U){if(z>ae){if(p.y<Y+J){f=ae;break}continue}f=ae;break}return f}};const T=I>1?O.getGridIndex():O.getColIndex();t.dispatch("MOVE_ITEM",{query:l,index:T});const x=i.getIndex();if(x===void 0||x!==T){if(i.setIndex(T),x===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:d,target:T})}},rp=ln({DID_ADD_ITEM:ep,DID_REMOVE_ITEM:np,DID_DRAG_ITEM:sp}),op=({root:t,props:e,actions:n,shouldOptimize:i})=>{rp({root:t,props:e,actions:n});const{dragCoordinates:r}=e,l=t.rect.element.width,c=t.childViews.filter(H=>H.rect.element.height),d=t.query("GET_ACTIVE_ITEMS").map(H=>c.find(z=>z.id===H.id)).filter(H=>H),p=r?Sl(t,d,r):null,v=t.ref.addIndex||null;t.ref.addIndex=null;let _=0,I=0,D=0;if(d.length===0)return;const O=d[0].rect.element,T=O.marginTop+O.marginBottom,x=O.marginLeft+O.marginRight,P=O.width+x,G=O.height+T,M=Il(l,P);if(M===1){let H=0,z=0;d.forEach((J,ee)=>{if(p){let U=ee-p;U===-2?z=-T*.25:U===-1?z=-T*.75:U===0?z=T*.75:U===1?z=T*.25:z=0}i&&(J.translateX=null,J.translateY=null),J.markedForRemoval||Sc(J,0,H+z);let te=(J.rect.element.height+T)*(J.markedForRemoval?J.opacity:1);H+=te})}else{let H=0,z=0;d.forEach((J,ee)=>{ee===p&&(_=1),ee===v&&(D+=1),J.markedForRemoval&&J.opacity<.5&&(I-=1);const f=ee+D+_+I,te=f%M,U=Math.floor(f/M),Y=te*P,ae=U*G,he=Math.sign(Y-H),le=Math.sign(ae-z);H=Y,z=ae,!J.markedForRemoval&&(i&&(J.translateX=null,J.translateY=null),Sc(J,Y,ae,he,le))})}},ap=(t,e)=>e.filter(n=>n.data&&n.data.id?t.id===n.data.id:!0),lp=Mt({create:Jh,write:op,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(e=>e.markedForRemoval&&e.opacity===0&&e.resting).forEach(e=>{e._destroy(),t.removeChildView(e)})},filterFrameActionsForChild:ap,mixins:{apis:["dragCoordinates"]}}),cp=({root:t,props:e})=>{t.ref.list=t.appendChildView(t.createChildView(lp)),e.dragCoordinates=null,e.overflowing=!1},up=({root:t,props:e,action:n})=>{t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(e.dragCoordinates={left:n.position.scopeLeft-t.ref.list.rect.element.left,top:n.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},dp=({props:t})=>{t.dragCoordinates=null},fp=ln({DID_DRAG:up,DID_END_DRAG:dp}),hp=({root:t,props:e,actions:n})=>{if(fp({root:t,props:e,actions:n}),t.ref.list.dragCoordinates=e.dragCoordinates,e.overflowing&&!e.overflow&&(e.overflowing=!1,t.element.dataset.state="",t.height=null),e.overflow){const i=Math.round(e.overflow);i!==t.height&&(e.overflowing=!0,t.element.dataset.state="overflow",t.height=i)}},pp=Mt({create:cp,write:hp,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Zn=(t,e,n,i="")=>{n?$t(t,e,i):t.removeAttribute(e)},gp=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const e=Pi("form"),n=t.parentNode,i=t.nextSibling;e.appendChild(t),e.reset(),i?n.insertBefore(t,i):n.appendChild(t)}}},mp=({root:t,props:e})=>{t.element.id=`filepond--browser-${e.id}`,$t(t.element,"name",t.query("GET_NAME")),$t(t.element,"aria-controls",`filepond--assistant-${e.id}`),$t(t.element,"aria-labelledby",`filepond--drop-label-${e.id}`),Mu({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Nu({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),Fu({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),nl({root:t}),ku({root:t,action:{value:t.query("GET_REQUIRED")}}),$u({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=n=>{if(!t.element.value)return;const i=Array.from(t.element.files).map(r=>(r._relativePath=r.webkitRelativePath,r));setTimeout(()=>{e.onload(i),gp(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},Mu=({root:t,action:e})=>{t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Zn(t.element,"accept",!!e.value,e.value?e.value.join(","):"")},Nu=({root:t,action:e})=>{Zn(t.element,"multiple",e.value)},Fu=({root:t,action:e})=>{Zn(t.element,"webkitdirectory",e.value)},nl=({root:t})=>{const e=t.query("GET_DISABLED"),n=t.query("GET_ALLOW_BROWSE"),i=e||!n;Zn(t.element,"disabled",i)},ku=({root:t,action:e})=>{e.value?t.query("GET_TOTAL_ITEMS")===0&&Zn(t.element,"required",!0):Zn(t.element,"required",!1)},$u=({root:t,action:e})=>{Zn(t.element,"capture",!!e.value,e.value===!0?"":e.value)},xc=({root:t})=>{const{element:e}=t;t.query("GET_TOTAL_ITEMS")>0?(Zn(e,"required",!1),Zn(e,"name",!1)):(Zn(e,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&e.setCustomValidity(""),t.query("GET_REQUIRED")&&Zn(e,"required",!0))},yp=({root:t})=>{t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},vp=Mt({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:mp,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:ln({DID_LOAD_ITEM:xc,DID_REMOVE_ITEM:xc,DID_THROW_ITEM_INVALID:yp,DID_SET_DISABLED:nl,DID_SET_ALLOW_BROWSE:nl,DID_SET_ALLOW_DIRECTORIES_ONLY:Fu,DID_SET_ALLOW_MULTIPLE:Nu,DID_SET_ACCEPTED_FILE_TYPES:Mu,DID_SET_CAPTURE_METHOD:$u,DID_SET_REQUIRED:ku})}),Cc={ENTER:13,SPACE:32},Ep=({root:t,props:e})=>{const n=Pi("label");$t(n,"for",`filepond--browser-${e.id}`),$t(n,"id",`filepond--drop-label-${e.id}`),t.ref.handleKeyDown=i=>{(i.keyCode===Cc.ENTER||i.keyCode===Cc.SPACE)&&(i.preventDefault(),t.ref.label.click())},t.ref.handleClick=i=>{i.target===n||n.contains(i.target)||t.ref.label.click()},n.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Gu(n,e.caption),t.appendChild(n),t.ref.label=n},Gu=(t,e)=>{t.innerHTML=e;const n=t.querySelector(".filepond--label-action");return n&&$t(n,"tabindex","0"),e},_p=Mt({name:"drop-label",ignoreRect:!0,create:Ep,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:ln({DID_SET_LABEL_IDLE:({root:t,action:e})=>{Gu(t.ref.label,e.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),bp=Mt({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Tp=({root:t})=>{const e=t.rect.element.width*.5,n=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(bp,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:e,translateY:n}))},wp=({root:t,action:e})=>{if(!t.ref.blob){Tp({root:t});return}t.ref.blob.translateX=e.position.scopeLeft,t.ref.blob.translateY=e.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},Ip=({root:t})=>{t.ref.blob&&(t.ref.blob.opacity=0)},Sp=({root:t})=>{t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},xp=({root:t,props:e,actions:n})=>{Cp({root:t,props:e,actions:n});const{blob:i}=t.ref;n.length===0&&i&&i.opacity===0&&(t.removeChildView(i),t.ref.blob=null)},Cp=ln({DID_DRAG:wp,DID_DROP:Sp,DID_END_DRAG:Ip}),Ap=Mt({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:xp}),Bu=(t,e)=>{try{const n=new DataTransfer;e.forEach(i=>{i instanceof File?n.items.add(i):n.items.add(new File([i],i.name,{type:i.type}))}),t.files=n.files}catch{return!1}return!0},Op=({root:t})=>t.ref.fields={},da=(t,e)=>t.ref.fields[e],xl=t=>{t.query("GET_ACTIVE_ITEMS").forEach(e=>{t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},Ac=({root:t})=>xl(t),Dp=({root:t,action:e})=>{const r=!(t.query("GET_ITEM",e.id).origin===kt.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),l=Pi("input");l.type=r?"file":"hidden",l.name=t.query("GET_NAME"),t.ref.fields[e.id]=l,xl(t)},Rp=({root:t,action:e})=>{const n=da(t,e.id);if(!n||(e.serverFileReference!==null&&(n.value=e.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const i=t.query("GET_ITEM",e.id);Bu(n,[i.file])},Pp=({root:t,action:e})=>{t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=da(t,e.id);n&&Bu(n,[e.file])},0)},Lp=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},Mp=({root:t,action:e})=>{const n=da(t,e.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete t.ref.fields[e.id])},Np=({root:t,action:e})=>{const n=da(t,e.id);n&&(e.value===null?n.removeAttribute("value"):n.type!="file"&&(n.value=e.value),xl(t))},Fp=ln({DID_SET_DISABLED:Lp,DID_ADD_ITEM:Dp,DID_LOAD_ITEM:Rp,DID_REMOVE_ITEM:Mp,DID_DEFINE_VALUE:Np,DID_PREPARE_OUTPUT:Pp,DID_REORDER_ITEMS:Ac,DID_SORT_ITEMS:Ac}),kp=Mt({tag:"fieldset",name:"data",create:Op,write:Fp,ignoreRect:!0}),$p=t=>"getRootNode"in t?t.getRootNode():document,Gp=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Bp=["css","csv","html","txt"],Hp={zip:"zip|compressed",epub:"application/epub+zip"},Hu=(t="")=>(t=t.toLowerCase(),Gp.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):Bp.includes(t)?"text/"+t:Hp[t]||""),Cl=t=>new Promise((e,n)=>{const i=Xp(t);if(i.length&&!Up(t))return e(i);zp(t).then(e)}),Up=t=>t.files?t.files.length>0:!1,zp=t=>new Promise((e,n)=>{const i=(t.items?Array.from(t.items):[]).filter(r=>Vp(r)).map(r=>Wp(r));if(!i.length){e(t.files?Array.from(t.files):[]);return}Promise.all(i).then(r=>{const l=[];r.forEach(c=>{l.push.apply(l,c)}),e(l.filter(c=>c).map(c=>(c._relativePath||(c._relativePath=c.webkitRelativePath),c)))}).catch(console.error)}),Vp=t=>{if(Uu(t)){const e=Al(t);if(e)return e.isFile||e.isDirectory}return t.kind==="file"},Wp=t=>new Promise((e,n)=>{if(Yp(t)){qp(Al(t)).then(e).catch(n);return}e([t.getAsFile()])}),qp=t=>new Promise((e,n)=>{const i=[];let r=0,l=0;const c=()=>{l===0&&r===0&&e(i)},d=p=>{r++;const v=p.createReader(),_=()=>{v.readEntries(I=>{if(I.length===0){r--,c();return}I.forEach(D=>{D.isDirectory?d(D):(l++,D.file(O=>{const T=jp(O);D.fullPath&&(T._relativePath=D.fullPath),i.push(T),l--,c()}))}),_()},n)};_()};d(t)}),jp=t=>{if(t.type.length)return t;const e=t.lastModifiedDate,n=t.name,i=Hu(ua(t.name));return i.length&&(t=t.slice(0,t.size,i),t.name=n,t.lastModifiedDate=e),t},Yp=t=>Uu(t)&&(Al(t)||{}).isDirectory,Uu=t=>"webkitGetAsEntry"in t,Al=t=>t.webkitGetAsEntry(),Xp=t=>{let e=[];try{if(e=Kp(t),e.length)return e;e=Zp(t)}catch{}return e},Zp=t=>{let e=t.getData("url");return typeof e=="string"&&e.length?[e]:[]},Kp=t=>{let e=t.getData("text/html");if(typeof e=="string"&&e.length){const n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Jo=[],Es=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),Qp=(t,e,n)=>{const i=Jp(e),r={element:t,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return r.destroy=i.addListener(r),r},Jp=t=>{const e=Jo.find(i=>i.element===t);if(e)return e;const n=eg(t);return Jo.push(n),n},eg=t=>{const e=[],n={dragenter:ng,dragover:ig,dragleave:rg,drop:sg},i={};It(n,(l,c)=>{i[l]=c(t,e),t.addEventListener(l,i[l],!1)});const r={element:t,addListener:l=>(e.push(l),()=>{e.splice(e.indexOf(l),1),e.length===0&&(Jo.splice(Jo.indexOf(r),1),It(n,c=>{t.removeEventListener(c,i[c],!1)}))})};return r},tg=(t,e)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)),Ol=(t,e)=>{const n=$p(e),i=tg(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return i===e||e.contains(i)};let zu=null;const Ro=(t,e)=>{try{t.dropEffect=e}catch{}},ng=(t,e)=>n=>{n.preventDefault(),zu=n.target,e.forEach(i=>{const{element:r,onenter:l}=i;Ol(n,r)&&(i.state="enter",l(Es(n)))})},ig=(t,e)=>n=>{n.preventDefault();const i=n.dataTransfer;Cl(i).then(r=>{let l=!1;e.some(c=>{const{filterElement:d,element:p,onenter:v,onexit:_,ondrag:I,allowdrop:D}=c;Ro(i,"copy");const O=D(r);if(!O){Ro(i,"none");return}if(Ol(n,p)){if(l=!0,c.state===null){c.state="enter",v(Es(n));return}if(c.state="over",d&&!O){Ro(i,"none");return}I(Es(n))}else d&&!l&&Ro(i,"none"),c.state&&(c.state=null,_(Es(n)))})})},sg=(t,e)=>n=>{n.preventDefault();const i=n.dataTransfer;Cl(i).then(r=>{e.forEach(l=>{const{filterElement:c,element:d,ondrop:p,onexit:v,allowdrop:_}=l;if(l.state=null,!(c&&!Ol(n,d))){if(!_(r))return v(Es(n));p(Es(n),r)}})})},rg=(t,e)=>n=>{zu===n.target&&e.forEach(i=>{const{onexit:r}=i;i.state=null,r(Es(n))})},og=(t,e,n)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:i,requiresDropOnElement:r,filterItems:l=_=>_}=n,c=Qp(t,i?document.documentElement:t,r);let d="",p="";c.allowdrop=_=>e(l(_)),c.ondrop=(_,I)=>{const D=l(I);if(!e(D)){v.ondragend(_);return}p="drag-drop",v.onload(D,_)},c.ondrag=_=>{v.ondrag(_)},c.onenter=_=>{p="drag-over",v.ondragstart(_)},c.onexit=_=>{p="drag-exit",v.ondragend(_)};const v={updateHopperState:()=>{d!==p&&(t.dataset.hopperState=p,d=p)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{c.destroy()}};return v};let il=!1;const nr=[],Vu=t=>{const e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){let n=!1,i=e;for(;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}Cl(t.clipboardData).then(n=>{n.length&&nr.forEach(i=>i(n))})},ag=t=>{nr.includes(t)||(nr.push(t),!il&&(il=!0,document.addEventListener("paste",Vu)))},lg=t=>{_l(nr,nr.indexOf(t)),nr.length===0&&(document.removeEventListener("paste",Vu),il=!1)},cg=()=>{const t=n=>{e.onload(n)},e={destroy:()=>{lg(t)},onload:()=>{}};return ag(t),e},ug=({root:t,props:e})=>{t.element.id=`filepond--assistant-${e.id}`,$t(t.element,"role","status"),$t(t.element,"aria-live","polite"),$t(t.element,"aria-relevant","additions")};let Oc=null,Dc=null;const $a=[],fa=(t,e)=>{t.element.textContent=e},dg=t=>{t.element.textContent=""},Wu=(t,e,n)=>{const i=t.query("GET_TOTAL_ITEMS");fa(t,`${n} ${e}, ${i} ${i===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Dc),Dc=setTimeout(()=>{dg(t)},1500)},qu=t=>t.element.parentNode.contains(document.activeElement),fg=({root:t,action:e})=>{if(!qu(t))return;t.element.textContent="";const n=t.query("GET_ITEM",e.id);$a.push(n.filename),clearTimeout(Oc),Oc=setTimeout(()=>{Wu(t,$a.join(", "),t.query("GET_LABEL_FILE_ADDED")),$a.length=0},750)},hg=({root:t,action:e})=>{if(!qu(t))return;const n=e.item;Wu(t,n.filename,t.query("GET_LABEL_FILE_REMOVED"))},pg=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");fa(t,`${i} ${r}`)},Rc=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");fa(t,`${i} ${r}`)},Po=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename;fa(t,`${e.status.main} ${i} ${e.status.sub}`)},gg=Mt({create:ug,ignoreRect:!0,ignoreRectUpdate:!0,write:ln({DID_LOAD_ITEM:fg,DID_REMOVE_ITEM:hg,DID_COMPLETE_ITEM_PROCESSING:pg,DID_ABORT_ITEM_PROCESSING:Rc,DID_REVERT_ITEM_PROCESSING:Rc,DID_THROW_ITEM_REMOVE_ERROR:Po,DID_THROW_ITEM_LOAD_ERROR:Po,DID_THROW_ITEM_INVALID:Po,DID_THROW_ITEM_PROCESSING_ERROR:Po}),tag:"span",name:"assistant"}),ju=(t,e="-")=>t.replace(new RegExp(`${e}.`,"g"),n=>n.charAt(1).toUpperCase()),Yu=(t,e=16,n=!0)=>{let i=Date.now(),r=null;return(...l)=>{clearTimeout(r);const c=Date.now()-i,d=()=>{i=Date.now(),t(...l)};c<e?n||(r=setTimeout(d,e-c)):d()}},mg=1e6,ea=t=>t.preventDefault(),yg=({root:t,props:e})=>{const n=t.query("GET_ID");n&&(t.element.id=n);const i=t.query("GET_CLASS_NAME");i&&i.split(" ").filter(p=>p.length).forEach(p=>{t.element.classList.add(p)}),t.ref.label=t.appendChildView(t.createChildView(_p,{...e,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(pp,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Lu,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(gg,{...e})),t.ref.data=t.appendChildView(t.createChildView(kp,{...e})),t.ref.measure=Pi("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(p=>!Ri(p.value)).map(({name:p,value:v})=>{t.element.dataset[p]=v}),t.ref.widthPrevious=null,t.ref.widthUpdated=Yu(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const r=window.matchMedia("(pointer: fine) and (hover: hover)").matches,l="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&l&&!r&&(t.element.addEventListener("touchmove",ea,{passive:!1}),t.element.addEventListener("gesturestart",ea));const c=t.query("GET_CREDITS");if(c.length===2){const p=document.createElement("a");p.className="filepond--credits",p.href=c[0],p.tabIndex=-1,p.target="_blank",p.rel="noopener noreferrer",p.textContent=c[1],t.element.appendChild(p),t.ref.credits=p}},vg=({root:t,props:e,actions:n})=>{if(wg({root:t,props:e,actions:n}),n.filter(ee=>/^DID_SET_STYLE_/.test(ee.type)).filter(ee=>!Ri(ee.data.value)).map(({type:ee,data:f})=>{const te=ju(ee.substring(8).toLowerCase(),"_");t.element.dataset[te]=f.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let i=t.ref.bounds;i||(i=t.ref.bounds=bg(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:r,label:l,list:c,panel:d}=t.ref;r&&r.updateHopperState();const p=t.query("GET_PANEL_ASPECT_RATIO"),v=t.query("GET_ALLOW_MULTIPLE"),_=t.query("GET_TOTAL_ITEMS"),I=v?t.query("GET_MAX_FILES")||mg:1,D=_===I,O=n.find(ee=>ee.type==="DID_ADD_ITEM");if(D&&O){const ee=O.data.interactionMethod;l.opacity=0,v?l.translateY=-40:ee===$n.API?l.translateX=40:ee===$n.BROWSE?l.translateY=40:l.translateY=30}else D||(l.opacity=1,l.translateX=0,l.translateY=0);const T=Eg(t),x=_g(t),P=l.rect.element.height,G=!v||D?0:P,M=D?c.rect.element.marginTop:0,H=_===0?0:c.rect.element.marginBottom,z=G+M+x.visual+H,J=G+M+x.bounds+H;if(c.translateY=Math.max(0,G-c.rect.element.marginTop)-T.top,p){const ee=t.rect.element.width,f=ee*p;p!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=p,t.ref.updateHistory=[]);const te=t.ref.updateHistory;te.push(ee);const U=2;if(te.length>U*2){const ae=te.length,he=ae-10;let le=0;for(let ne=ae;ne>=he;ne--)if(te[ne]===te[ne-2]&&le++,le>=U)return}d.scalable=!1,d.height=f;const Y=f-G-(H-T.bottom)-(D?M:0);x.visual>Y?c.overflow=Y:c.overflow=null,t.height=f}else if(i.fixedHeight){d.scalable=!1;const ee=i.fixedHeight-G-(H-T.bottom)-(D?M:0);x.visual>ee?c.overflow=ee:c.overflow=null}else if(i.cappedHeight){const ee=z>=i.cappedHeight,f=Math.min(i.cappedHeight,z);d.scalable=!0,d.height=ee?f:f-T.top-T.bottom;const te=f-G-(H-T.bottom)-(D?M:0);z>i.cappedHeight&&x.visual>te?c.overflow=te:c.overflow=null,t.height=Math.min(i.cappedHeight,J-T.top-T.bottom)}else{const ee=_>0?T.top+T.bottom:0;d.scalable=!0,d.height=Math.max(P,z-ee),t.height=Math.max(P,J-ee)}t.ref.credits&&d.heightCurrent&&(t.ref.credits.style.transform=`translateY(${d.heightCurrent}px)`)},Eg=t=>{const e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},_g=t=>{let e=0,n=0;const i=t.ref.list,r=i.childViews[0],l=r.childViews.filter(M=>M.rect.element.height),c=t.query("GET_ACTIVE_ITEMS").map(M=>l.find(H=>H.id===M.id)).filter(M=>M);if(c.length===0)return{visual:e,bounds:n};const d=r.rect.element.width,p=Sl(r,c,i.dragCoordinates),v=c[0].rect.element,_=v.marginTop+v.marginBottom,I=v.marginLeft+v.marginRight,D=v.width+I,O=v.height+_,T=typeof p<"u"&&p>=0?1:0,x=c.find(M=>M.markedForRemoval&&M.opacity<.45)?-1:0,P=c.length+T+x,G=Il(d,D);return G===1?c.forEach(M=>{const H=M.rect.element.height+_;n+=H,e+=H*M.opacity}):(n=Math.ceil(P/G)*O,e=n),{visual:e,bounds:n}},bg=t=>{const e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:e===0?null:e}},Dl=(t,e)=>{const n=t.query("GET_ALLOW_REPLACE"),i=t.query("GET_ALLOW_MULTIPLE"),r=t.query("GET_TOTAL_ITEMS");let l=t.query("GET_MAX_FILES");const c=e.length;return!i&&c>1?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:At("warning",0,"Max files")}),!0):(l=i?l:1,!i&&n?!1:ar(l)&&r+c>l?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:At("warning",0,"Max files")}),!0):!1)},Tg=(t,e,n)=>{const i=t.childViews[0];return Sl(i,e,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Pc=t=>{const e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),i=e&&!n;if(i&&!t.ref.hopper){const r=og(t.element,l=>{const c=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?l.every(p=>bs("ALLOW_HOPPER_ITEM",p,{query:t.query}).every(v=>v===!0)&&c(p)):!0},{filterItems:l=>{const c=t.query("GET_IGNORED_FILES");return l.filter(d=>vs(d)?!c.includes(d.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});r.onload=(l,c)=>{const p=t.ref.list.childViews[0].childViews.filter(_=>_.rect.element.height),v=t.query("GET_ACTIVE_ITEMS").map(_=>p.find(I=>I.id===_.id)).filter(_=>_);Yn("ADD_ITEMS",l,{dispatch:t.dispatch}).then(_=>{if(Dl(t,_))return!1;t.dispatch("ADD_ITEMS",{items:_,index:Tg(t.ref.list,v,c),interactionMethod:$n.DROP})}),t.dispatch("DID_DROP",{position:c}),t.dispatch("DID_END_DRAG",{position:c})},r.ondragstart=l=>{t.dispatch("DID_START_DRAG",{position:l})},r.ondrag=Yu(l=>{t.dispatch("DID_DRAG",{position:l})}),r.ondragend=l=>{t.dispatch("DID_END_DRAG",{position:l})},t.ref.hopper=r,t.ref.drip=t.appendChildView(t.createChildView(Ap))}else!i&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Lc=(t,e)=>{const n=t.query("GET_ALLOW_BROWSE"),i=t.query("GET_DISABLED"),r=n&&!i;r&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(vp,{...e,onload:l=>{Yn("ADD_ITEMS",l,{dispatch:t.dispatch}).then(c=>{if(Dl(t,c))return!1;t.dispatch("ADD_ITEMS",{items:c,index:-1,interactionMethod:$n.BROWSE})})}}),0):!r&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Mc=t=>{const e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),i=e&&!n;i&&!t.ref.paster?(t.ref.paster=cg(),t.ref.paster.onload=r=>{Yn("ADD_ITEMS",r,{dispatch:t.dispatch}).then(l=>{if(Dl(t,l))return!1;t.dispatch("ADD_ITEMS",{items:l,index:-1,interactionMethod:$n.PASTE})})}):!i&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},wg=ln({DID_SET_ALLOW_BROWSE:({root:t,props:e})=>{Lc(t,e)},DID_SET_ALLOW_DROP:({root:t})=>{Pc(t)},DID_SET_ALLOW_PASTE:({root:t})=>{Mc(t)},DID_SET_DISABLED:({root:t,props:e})=>{Pc(t),Mc(t),Lc(t,e),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),Ig=Mt({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:yg,write:vg,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",ea),t.element.removeEventListener("gesturestart",ea)},mixins:{styles:["height"]}}),Sg=(t={})=>{let e=null;const n=Qo(),i=Hd(Cf(n),[Wf,Df(n)],[mh,Of(n)]);i.dispatch("SET_OPTIONS",{options:t});const r=()=>{document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",r);let l=null,c=!1,d=!1,p=null,v=null;const _=()=>{c||(c=!0),clearTimeout(l),l=setTimeout(()=>{c=!1,p=null,v=null,d&&(d=!1,i.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",_);const I=Ig(i,{id:El()});let D=!1,O=!1;const T={_read:()=>{c&&(v=window.innerWidth,p||(p=v),!d&&v!==p&&(i.dispatch("DID_START_RESIZE"),d=!0)),O&&D&&(D=I.element.offsetParent===null),!D&&(I._read(),O=I.rect.element.hidden)},_write:Q=>{const se=i.processActionQueue().filter(N=>!/^SET_/.test(N.type));D&&!se.length||(M(se),D=I._write(Q,se,d),Lf(i.query("GET_ITEMS")),D&&i.processDispatchQueue())}},x=Q=>se=>{const N={type:Q};if(!se)return N;if(se.hasOwnProperty("error")&&(N.error=se.error?{...se.error}:null),se.status&&(N.status={...se.status}),se.file&&(N.output=se.file),se.source)N.file=se.source;else if(se.item||se.id){const C=se.item?se.item:i.query("GET_ITEM",se.id);N.file=C?pn(C):null}return se.items&&(N.items=se.items.map(pn)),/progress/.test(Q)&&(N.progress=se.progress),se.hasOwnProperty("origin")&&se.hasOwnProperty("target")&&(N.origin=se.origin,N.target=se.target),N},P={DID_DESTROY:x("destroy"),DID_INIT:x("init"),DID_THROW_MAX_FILES:x("warning"),DID_INIT_ITEM:x("initfile"),DID_START_ITEM_LOAD:x("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:x("addfileprogress"),DID_LOAD_ITEM:x("addfile"),DID_THROW_ITEM_INVALID:[x("error"),x("addfile")],DID_THROW_ITEM_LOAD_ERROR:[x("error"),x("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[x("error"),x("removefile")],DID_PREPARE_OUTPUT:x("preparefile"),DID_START_ITEM_PROCESSING:x("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:x("processfileprogress"),DID_ABORT_ITEM_PROCESSING:x("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:x("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:x("processfiles"),DID_REVERT_ITEM_PROCESSING:x("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[x("error"),x("processfile")],DID_REMOVE_ITEM:x("removefile"),DID_UPDATE_ITEMS:x("updatefiles"),DID_ACTIVATE_ITEM:x("activatefile"),DID_REORDER_ITEMS:x("reorderfiles")},G=Q=>{const se={pond:xe,...Q};delete se.type,I.element.dispatchEvent(new CustomEvent(`FilePond:${Q.type}`,{detail:se,bubbles:!0,cancelable:!0,composed:!0}));const N=[];Q.hasOwnProperty("error")&&N.push(Q.error),Q.hasOwnProperty("file")&&N.push(Q.file);const C=["type","error","file"];Object.keys(Q).filter(de=>!C.includes(de)).forEach(de=>N.push(Q[de])),xe.fire(Q.type,...N);const ie=i.query(`GET_ON${Q.type.toUpperCase()}`);ie&&ie(...N)},M=Q=>{Q.length&&Q.filter(se=>P[se.type]).forEach(se=>{const N=P[se.type];(Array.isArray(N)?N:[N]).forEach(C=>{se.type==="DID_INIT_ITEM"?G(C(se.data)):setTimeout(()=>{G(C(se.data))},0)})})},H=Q=>i.dispatch("SET_OPTIONS",{options:Q}),z=Q=>i.query("GET_ACTIVE_ITEM",Q),J=Q=>new Promise((se,N)=>{i.dispatch("REQUEST_ITEM_PREPARE",{query:Q,success:C=>{se(C)},failure:C=>{N(C)}})}),ee=(Q,se={})=>new Promise((N,C)=>{U([{source:Q,options:se}],{index:se.index}).then(ie=>N(ie&&ie[0])).catch(C)}),f=Q=>Q.file&&Q.id,te=(Q,se)=>(typeof Q=="object"&&!f(Q)&&!se&&(se=Q,Q=void 0),i.dispatch("REMOVE_ITEM",{...se,query:Q}),i.query("GET_ACTIVE_ITEM",Q)===null),U=(...Q)=>new Promise((se,N)=>{const C=[],ie={};if(oa(Q[0]))C.push.apply(C,Q[0]),Object.assign(ie,Q[1]||{});else{const de=Q[Q.length-1];typeof de=="object"&&!(de instanceof Blob)&&Object.assign(ie,Q.pop()),C.push(...Q)}i.dispatch("ADD_ITEMS",{items:C,index:ie.index,interactionMethod:$n.API,success:se,failure:N})}),Y=()=>i.query("GET_ACTIVE_ITEMS"),ae=Q=>new Promise((se,N)=>{i.dispatch("REQUEST_ITEM_PROCESSING",{query:Q,success:C=>{se(C)},failure:C=>{N(C)}})}),he=(...Q)=>{const se=Array.isArray(Q[0])?Q[0]:Q,N=se.length?se:Y();return Promise.all(N.map(J))},le=(...Q)=>{const se=Array.isArray(Q[0])?Q[0]:Q;if(!se.length){const N=Y().filter(C=>!(C.status===$e.IDLE&&C.origin===kt.LOCAL)&&C.status!==$e.PROCESSING&&C.status!==$e.PROCESSING_COMPLETE&&C.status!==$e.PROCESSING_REVERT_ERROR);return Promise.all(N.map(ae))}return Promise.all(se.map(ae))},ne=(...Q)=>{const se=Array.isArray(Q[0])?Q[0]:Q;let N;typeof se[se.length-1]=="object"?N=se.pop():Array.isArray(Q[0])&&(N=Q[1]);const C=Y();return se.length?se.map(de=>hs(de)?C[de]?C[de].id:null:de).filter(de=>de).map(de=>te(de,N)):Promise.all(C.map(de=>te(de,N)))},xe={...ca(),...T,...Af(i,n),setOptions:H,addFile:ee,addFiles:U,getFile:z,processFile:ae,prepareFile:J,removeFile:te,moveFile:(Q,se)=>i.dispatch("MOVE_ITEM",{query:Q,index:se}),getFiles:Y,processFiles:le,removeFiles:ne,prepareFiles:he,sort:Q=>i.dispatch("SORT",{compare:Q}),browse:()=>{var Q=I.element.querySelector("input[type=file]");Q&&Q.click()},destroy:()=>{xe.fire("destroy",I.element),i.dispatch("ABORT_ALL"),I._destroy(),window.removeEventListener("resize",_),document.removeEventListener("visibilitychange",r),i.dispatch("DID_DESTROY")},insertBefore:Q=>ic(I.element,Q),insertAfter:Q=>sc(I.element,Q),appendTo:Q=>Q.appendChild(I.element),replaceElement:Q=>{ic(I.element,Q),Q.parentNode.removeChild(Q),e=Q},restoreElement:()=>{e&&(sc(e,I.element),I.element.parentNode.removeChild(I.element),e=null)},isAttachedTo:Q=>I.element===Q||e===Q,element:{get:()=>I.element},status:{get:()=>i.query("GET_STATUS")}};return i.dispatch("DID_INIT"),Qi(xe)},Xu=(t={})=>{const e={};return It(Qo(),(i,r)=>{e[i]=r[0]}),Sg({...e,...t})},xg=t=>t.charAt(0).toLowerCase()+t.slice(1),Cg=t=>ju(t.replace(/^data-/,"")),Zu=(t,e)=>{It(e,(n,i)=>{It(t,(r,l)=>{const c=new RegExp(n);if(!c.test(r)||(delete t[r],i===!1))return;if(an(i)){t[i]=l;return}const p=i.group;Ut(i)&&!t[p]&&(t[p]={}),t[p][xg(r.replace(c,""))]=l}),i.mapping&&Zu(t[i.group],i.mapping)})},Ag=(t,e={})=>{const n=[];It(t.attributes,r=>{n.push(t.attributes[r])});const i=n.filter(r=>r.name).reduce((r,l)=>{const c=$t(t,l.name);return r[Cg(l.name)]=c===l.name?!0:c,r},{});return Zu(i,e),i},Og=(t,e={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};bs("SET_ATTRIBUTE_TO_OPTION_MAP",n);const i={...e},r=Ag(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(r).forEach(c=>{Ut(r[c])?(Ut(i[c])||(i[c]={}),Object.assign(i[c],r[c])):i[c]=r[c]}),i.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(c=>({source:c.value,options:{type:c.dataset.type}})));const l=Xu(i);return t.files&&Array.from(t.files).forEach(c=>{l.addFile(c)}),l.replaceElement(t),l},Dg=(...t)=>Bd(t[0])?Og(...t):Xu(...t),Rg=["fire","_read","_write"],Nc=t=>{const e={};return yu(t,e,Rg),e},Pg=(t,e)=>t.replace(/(?:{([a-zA-Z]+)})/g,(n,i)=>e[i]),Lg=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),i=new Worker(n);return{transfer:(r,l)=>{},post:(r,l,c)=>{const d=El();i.onmessage=p=>{p.data.id===d&&l(p.data.message)},i.postMessage({id:d,message:r},c)},terminate:()=>{i.terminate(),URL.revokeObjectURL(n)}}},Mg=t=>new Promise((e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=r=>{n(r)},i.src=t}),Ku=(t,e)=>{const n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},Ng=t=>Ku(t,t.name),Fc=[],Fg=t=>{if(Fc.includes(t))return;Fc.push(t);const e=t({addFilter:Nf,utils:{Type:oe,forin:It,isString:an,isFile:vs,toNaturalFileSize:Du,replaceInString:Pg,getExtensionFromFilename:ua,getFilenameWithoutExtension:Cu,guesstimateMimeType:Hu,getFileFromBlob:rr,getFilenameFromURL:no,createRoute:ln,createWorker:Lg,createView:Mt,createItemAPI:pn,loadImage:Mg,copyFile:Ng,renameFile:Ku,createBlob:Iu,applyFilterChain:Yn,text:Ot,getNumericAspectRatioFromString:_u},views:{fileActionButton:Ou}});Ff(e.options)},kg=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",$g=()=>"Promise"in window,Gg=()=>"slice"in Blob.prototype,Bg=()=>"URL"in window&&"createObjectURL"in window.URL,Hg=()=>"visibilityState"in document,Ug=()=>"performance"in window,zg=()=>"supports"in(window.CSS||{}),Vg=()=>/MSIE|Trident/.test(window.navigator.userAgent),sl=(()=>{const t=du()&&!kg()&&Hg()&&$g()&&Gg()&&Bg()&&Ug()&&(zg()||Vg());return()=>t})(),Yi={apps:[]},Wg="filepond",Ts=()=>{};let Qu={},Ju={},ed={},rl={},Uo=Ts,zo=Ts,ol=Ts,al=Ts,ll=Ts,cl=Ts,ul=Ts;if(sl()){hf(()=>{Yi.apps.forEach(n=>n._read())},n=>{Yi.apps.forEach(i=>i._write(n))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:sl,create:Uo,destroy:zo,parse:ol,find:al,registerPlugin:ll,setOptions:ul}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const e=()=>It(Qo(),(n,i)=>{rl[n]=i[1]});Qu={...bu},ed={...kt},Ju={...$e},rl={},e(),Uo=(...n)=>{const i=Dg(...n);return i.on("destroy",zo),Yi.apps.push(i),Nc(i)},zo=n=>{const i=Yi.apps.findIndex(r=>r.isAttachedTo(n));return i>=0?(Yi.apps.splice(i,1)[0].restoreElement(),!0):!1},ol=n=>Array.from(n.querySelectorAll(`.${Wg}`)).filter(l=>!Yi.apps.find(c=>c.isAttachedTo(l))).map(l=>Uo(l)),al=n=>{const i=Yi.apps.find(r=>r.isAttachedTo(n));return i?Nc(i):null},ll=(...n)=>{n.forEach(Fg),e()},cl=()=>{const n={};return It(Qo(),(i,r)=>{n[i]=r[0]}),n},ul=n=>(Ut(n)&&(Yi.apps.forEach(i=>{i.setOptions(n)}),kf(n)),cl())}const Oy=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return ed},get FileStatus(){return Ju},get OptionTypes(){return rl},get Status(){return Qu},get create(){return Uo},get destroy(){return zo},get find(){return al},get getOptions(){return cl},get parse(){return ol},get registerPlugin(){return ll},get setOptions(){return ul},supported:sl},Symbol.toStringTag,{value:"Module"})),Dy={labelIdle:'Ø§Ø³Ø­Ø¨ Ù Ø§Ø¯Ø±Ø¬ ÙÙÙØ§ØªÙ Ø£Ù <span class="filepond--label-action"> ØªØµÙØ­ </span>',labelInvalidField:"Ø§ÙØ­ÙÙ ÙØ­ØªÙÙ Ø¹ÙÙ ÙÙÙØ§Øª ØºÙØ± ØµØ§ÙØ­Ø©",labelFileWaitingForSize:"Ø¨Ø§ÙØªØ¸Ø§Ø± Ø§ÙØ­Ø¬Ù",labelFileSizeNotAvailable:"Ø§ÙØ­Ø¬Ù ØºÙØ± ÙØªØ§Ø­",labelFileLoading:"Ø¨Ø§ÙØ¥ÙØªØ¸Ø§Ø±",labelFileLoadError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØªØ­ÙÙÙ",labelFileProcessing:"ÙØªÙ Ø§ÙØ±ÙØ¹",labelFileProcessingComplete:"ØªÙ Ø§ÙØ±ÙØ¹",labelFileProcessingAborted:"ØªÙ Ø¥ÙØºØ§Ø¡ Ø§ÙØ±ÙØ¹",labelFileProcessingError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØ±ÙØ¹",labelFileProcessingRevertError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØªØ±Ø§Ø¬Ø¹",labelFileRemoveError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØ­Ø°Ù",labelTapToCancel:"Ø§ÙÙØ± ÙÙØ¥ÙØºØ§Ø¡",labelTapToRetry:"Ø§ÙÙØ± ÙØ¥Ø¹Ø§Ø¯Ø© Ø§ÙÙØ­Ø§ÙÙØ©",labelTapToUndo:"Ø§ÙÙØ± ÙÙØªØ±Ø§Ø¬Ø¹",labelButtonRemoveItem:"ÙØ³Ø­",labelButtonAbortItemLoad:"Ø¥ÙØºØ§Ø¡",labelButtonRetryItemLoad:"Ø¥Ø¹Ø§Ø¯Ø©",labelButtonAbortItemProcessing:"Ø¥ÙØºØ§Ø¡",labelButtonUndoItemProcessing:"ØªØ±Ø§Ø¬Ø¹",labelButtonRetryItemProcessing:"Ø¥Ø¹Ø§Ø¯Ø©",labelButtonProcessItem:"Ø±ÙØ¹",labelMaxFileSizeExceeded:"Ø§ÙÙÙÙ ÙØ¨ÙØ± Ø¬Ø¯Ø§",labelMaxFileSize:"Ø­Ø¬Ù Ø§ÙÙÙÙ Ø§ÙØ£ÙØµÙ: {filesize}",labelMaxTotalFileSizeExceeded:"ØªÙ ØªØ¬Ø§ÙØ² Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙÙØ­Ø¬Ù Ø§ÙØ¥Ø¬ÙØ§ÙÙ",labelMaxTotalFileSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙØ­Ø¬Ù Ø§ÙÙÙÙ: {filesize}",labelFileTypeNotAllowed:"ÙÙÙ ÙÙ ÙÙØ¹ ØºÙØ± ØµØ§ÙØ­",fileValidateTypeLabelExpectedTypes:"ØªØªÙÙØ¹ {allButLastType} ÙÙ {lastType}",imageValidateSizeLabelFormatError:"ÙÙØ¹ Ø§ÙØµÙØ±Ø© ØºÙØ± ÙØ¯Ø¹ÙÙ",imageValidateSizeLabelImageSizeTooSmall:"Ø§ÙØµÙØ±Ø© ØµØºÙØ± Ø¬Ø¯Ø§",imageValidateSizeLabelImageSizeTooBig:"Ø§ÙØµÙØ±Ø© ÙØ¨ÙØ±Ø© Ø¬Ø¯Ø§",imageValidateSizeLabelExpectedMinSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£Ø¯ÙÙ ÙÙØ£Ø¨Ø¹Ø§Ø¯ ÙÙ: {minWidth} Ã {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙÙØ£Ø¨Ø¹Ø§Ø¯ ÙÙ: {maxWidth} Ã {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Ø§ÙØ¯ÙØ© Ø¶Ø¹ÙÙØ© Ø¬Ø¯Ø§",imageValidateSizeLabelImageResolutionTooHigh:"Ø§ÙØ¯ÙØ© ÙØ±ØªÙØ¹Ø© Ø¬Ø¯Ø§",imageValidateSizeLabelExpectedMinResolution:"Ø£ÙÙ Ø¯ÙØ©: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Ø£ÙØµÙ Ø¯ÙØ©: {maxResolution}"};/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const qg=t=>/^image/.test(t.type),kc=(t,e)=>to(t.x*e,t.y*e),$c=(t,e)=>to(t.x+e.x,t.y+e.y),jg=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:to(t.x/e,t.y/e)},Lo=(t,e,n)=>{const i=Math.cos(e),r=Math.sin(e),l=to(t.x-n.x,t.y-n.y);return to(n.x+i*l.x-r*l.y,n.y+r*l.x+i*l.y)},to=(t=0,e=0)=>({x:t,y:e}),gn=(t,e,n=1,i)=>{if(typeof t=="string")return parseFloat(t)*n;if(typeof t=="number")return t*(i?e[i]:Math.min(e.width,e.height))},Yg=(t,e,n)=>{const i=t.borderStyle||t.lineStyle||"solid",r=t.backgroundColor||t.fontColor||"transparent",l=t.borderColor||t.lineColor||"transparent",c=gn(t.borderWidth||t.lineWidth,e,n),d=t.lineCap||"round",p=t.lineJoin||"round",v=typeof i=="string"?"":i.map(I=>gn(I,e,n)).join(","),_=t.opacity||1;return{"stroke-linecap":d,"stroke-linejoin":p,"stroke-width":c||0,"stroke-dasharray":v,stroke:l,fill:r,opacity:_}},Nn=t=>t!=null,Xg=(t,e,n=1)=>{let i=gn(t.x,e,n,"width")||gn(t.left,e,n,"width"),r=gn(t.y,e,n,"height")||gn(t.top,e,n,"height"),l=gn(t.width,e,n,"width"),c=gn(t.height,e,n,"height"),d=gn(t.right,e,n,"width"),p=gn(t.bottom,e,n,"height");return Nn(r)||(Nn(c)&&Nn(p)?r=e.height-c-p:r=p),Nn(i)||(Nn(l)&&Nn(d)?i=e.width-l-d:i=d),Nn(l)||(Nn(i)&&Nn(d)?l=e.width-i-d:l=0),Nn(c)||(Nn(r)&&Nn(p)?c=e.height-r-p:c=0),{x:i||0,y:r||0,width:l||0,height:c||0}},Zg=t=>t.map((e,n)=>`${n===0?"M":"L"} ${e.x} ${e.y}`).join(" "),ui=(t,e)=>Object.keys(e).forEach(n=>t.setAttribute(n,e[n])),Kg="http://www.w3.org/2000/svg",Js=(t,e)=>{const n=document.createElementNS(Kg,t);return e&&ui(n,e),n},Qg=t=>ui(t,{...t.rect,...t.styles}),Jg=t=>{const e=t.rect.x+t.rect.width*.5,n=t.rect.y+t.rect.height*.5,i=t.rect.width*.5,r=t.rect.height*.5;return ui(t,{cx:e,cy:n,rx:i,ry:r,...t.styles})},em={contain:"xMidYMid meet",cover:"xMidYMid slice"},tm=(t,e)=>{ui(t,{...t.rect,...t.styles,preserveAspectRatio:em[e.fit]||"none"})},nm={left:"start",center:"middle",right:"end"},im=(t,e,n,i)=>{const r=gn(e.fontSize,n,i),l=e.fontFamily||"sans-serif",c=e.fontWeight||"normal",d=nm[e.textAlign]||"start";ui(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":c,"font-size":r,"font-family":l,"text-anchor":d}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},sm=(t,e,n,i)=>{ui(t,{...t.rect,...t.styles,fill:"none"});const r=t.childNodes[0],l=t.childNodes[1],c=t.childNodes[2],d=t.rect,p={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(ui(r,{x1:d.x,y1:d.y,x2:p.x,y2:p.y}),!e.lineDecoration)return;l.style.display="none",c.style.display="none";const v=jg({x:p.x-d.x,y:p.y-d.y}),_=gn(.05,n,i);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const I=kc(v,_),D=$c(d,I),O=Lo(d,2,D),T=Lo(d,-2,D);ui(l,{style:"display:block;",d:`M${O.x},${O.y} L${d.x},${d.y} L${T.x},${T.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const I=kc(v,-_),D=$c(p,I),O=Lo(p,2,D),T=Lo(p,-2,D);ui(c,{style:"display:block;",d:`M${O.x},${O.y} L${p.x},${p.y} L${T.x},${T.y}`})}},rm=(t,e,n,i)=>{ui(t,{...t.styles,fill:"none",d:Zg(e.points.map(r=>({x:gn(r.x,n,i,"width"),y:gn(r.y,n,i,"height")})))})},Mo=t=>e=>Js(t,{id:e.id}),om=t=>{const e=Js("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},am=t=>{const e=Js("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Js("line");e.appendChild(n);const i=Js("path");e.appendChild(i);const r=Js("path");return e.appendChild(r),e},lm={image:om,rect:Mo("rect"),ellipse:Mo("ellipse"),text:Mo("text"),path:Mo("path"),line:am},cm={rect:Qg,ellipse:Jg,image:tm,text:im,path:rm,line:sm},um=(t,e)=>lm[t](e),dm=(t,e,n,i,r)=>{e!=="path"&&(t.rect=Xg(n,i,r)),t.styles=Yg(n,i,r),cm[e](t,n,i,r)},fm=["x","y","left","top","right","bottom","width","height"],hm=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,pm=t=>{const[e,n]=t,i=n.points?{}:fm.reduce((r,l)=>(r[l]=hm(n[l]),r),{});return[e,{zIndex:0,...n,...i}]},gm=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,mm=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:n})=>{if(!n.dirty)return;const{crop:i,resize:r,markup:l}=n,c=n.width,d=n.height;let p=i.width,v=i.height;if(r){const{size:O}=r;let T=O&&O.width,x=O&&O.height;const P=r.mode,G=r.upscale;T&&!x&&(x=T),x&&!T&&(T=x);const M=p<T&&v<x;if(!M||M&&G){let H=T/p,z=x/v;if(P==="force")p=T,v=x;else{let J;P==="cover"?J=Math.max(H,z):P==="contain"&&(J=Math.min(H,z)),p=p*J,v=v*J}}}const _={width:c,height:d};e.element.setAttribute("width",_.width),e.element.setAttribute("height",_.height);const I=Math.min(c/p,d/v);e.element.innerHTML="";const D=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");l.filter(D).map(pm).sort(gm).forEach(O=>{const[T,x]=O,P=um(T,x);dm(P,T,x,_,I),e.element.appendChild(P)})}}),Xr=(t,e)=>({x:t,y:e}),ym=(t,e)=>t.x*e.x+t.y*e.y,Gc=(t,e)=>Xr(t.x-e.x,t.y-e.y),vm=(t,e)=>ym(Gc(t,e),Gc(t,e)),Bc=(t,e)=>Math.sqrt(vm(t,e)),Hc=(t,e)=>{const n=t,i=1.5707963267948966,r=e,l=1.5707963267948966-e,c=Math.sin(i),d=Math.sin(r),p=Math.sin(l),v=Math.cos(l),_=n/c,I=_*d,D=_*p;return Xr(v*I,v*D)},Em=(t,e)=>{const n=t.width,i=t.height,r=Hc(n,e),l=Hc(i,e),c=Xr(t.x+Math.abs(r.x),t.y-Math.abs(r.y)),d=Xr(t.x+t.width+Math.abs(l.y),t.y+Math.abs(l.x)),p=Xr(t.x-Math.abs(l.y),t.y+t.height-Math.abs(l.x));return{width:Bc(c,d),height:Bc(c,p)}},_m=(t,e,n=1)=>{const i=t.height/t.width;let r=1,l=e,c=1,d=i;d>l&&(d=l,c=d/i);const p=Math.max(r/c,l/d),v=t.width/(n*p*c),_=v*e;return{width:v,height:_}},td=(t,e,n,i)=>{const r=i.x>.5?1-i.x:i.x,l=i.y>.5?1-i.y:i.y,c=r*2*t.width,d=l*2*t.height,p=Em(e,n);return Math.max(p.width/c,p.height/d)},nd=(t,e)=>{let n=t.width,i=n*e;i>t.height&&(i=t.height,n=i/e);const r=(t.width-n)*.5,l=(t.height-i)*.5;return{x:r,y:l,width:n,height:i}},bm=(t,e={})=>{let{zoom:n,rotation:i,center:r,aspectRatio:l}=e;l||(l=t.height/t.width);const c=_m(t,l,n),d={x:c.width*.5,y:c.height*.5},p={x:0,y:0,width:c.width,height:c.height,center:d},v=typeof e.scaleToFit>"u"||e.scaleToFit,_=td(t,nd(p,l),i,v?r:{x:.5,y:.5}),I=n*_;return{widthFloat:c.width/I,heightFloat:c.height/I,width:Math.round(c.width/I),height:Math.round(c.height/I)}},ci={type:"spring",stiffness:.5,damping:.45,mass:10},Tm=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:n})=>{e.appendChild(n.image)}}),wm=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:ci,originY:ci,scaleX:ci,scaleY:ci,translateX:ci,translateY:ci,rotateZ:ci}},create:({root:e,props:n})=>{n.width=n.image.width,n.height=n.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(Tm(t),{image:n.image}))},write:({root:e,props:n})=>{const{flip:i}=n.crop,{bitmap:r}=e.ref;r.scaleX=i.horizontal?-1:1,r.scaleY=i.vertical?-1:1}}),Im=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:n}){n.background&&(e.element.style.backgroundColor=n.background)},create:({root:e,props:n})=>{e.ref.image=e.appendChildView(e.createChildView(wm(t),Object.assign({},n))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(mm(t),Object.assign({},n))))},e.ref.destroyMarkup=()=>{e.ref.markup&&(e.removeChildView(e.ref.markup),e.ref.markup=null)};const i=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");i!==null&&(i==="grid"?e.element.dataset.transparencyIndicator=i:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:n,shouldOptimize:i})=>{const{crop:r,markup:l,resize:c,dirty:d,width:p,height:v}=n;e.ref.image.crop=r;const _={x:0,y:0,width:p,height:v,center:{x:p*.5,y:v*.5}},I={width:e.ref.image.width,height:e.ref.image.height},D={x:r.center.x*I.width,y:r.center.y*I.height},O={x:_.center.x-I.width*r.center.x,y:_.center.y-I.height*r.center.y},T=Math.PI*2+r.rotation%(Math.PI*2),x=r.aspectRatio||I.height/I.width,P=typeof r.scaleToFit>"u"||r.scaleToFit,G=td(I,nd(_,x),T,P?r.center:{x:.5,y:.5}),M=r.zoom*G;l&&l.length?(e.ref.createMarkup(),e.ref.markup.width=p,e.ref.markup.height=v,e.ref.markup.resize=c,e.ref.markup.dirty=d,e.ref.markup.markup=l,e.ref.markup.crop=bm(I,r)):e.ref.markup&&e.ref.destroyMarkup();const H=e.ref.image;if(i){H.originX=null,H.originY=null,H.translateX=null,H.translateY=null,H.rotateZ=null,H.scaleX=null,H.scaleY=null;return}H.originX=D.x,H.originY=D.y,H.translateX=O.x,H.translateY=O.y,H.rotateZ=T,H.scaleX=M,H.scaleY=M}}),Sm=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:ci,scaleY:ci,translateY:ci,opacity:{type:"tween",duration:400}}},create:({root:e,props:n})=>{e.ref.clip=e.appendChildView(e.createChildView(Im(t),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:e,props:n,shouldOptimize:i})=>{const{clip:r}=e.ref,{image:l,crop:c,markup:d,resize:p,dirty:v}=n;if(r.crop=c,r.markup=d,r.resize=p,r.dirty=v,r.opacity=i?0:1,i||e.rect.element.hidden)return;const _=l.height/l.width;let I=c.aspectRatio||_;const D=e.rect.inner.width,O=e.rect.inner.height;let T=e.query("GET_IMAGE_PREVIEW_HEIGHT");const x=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),P=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),G=e.query("GET_PANEL_ASPECT_RATIO"),M=e.query("GET_ALLOW_MULTIPLE");G&&!M&&(T=D*G,I=G);let H=T!==null?T:Math.max(x,Math.min(D*I,P)),z=H/I;z>D&&(z=D,H=z*I),H>O&&(H=O,z=O/I),r.width=z,r.height=H}});let xm=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Uc=0;const Cm=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:n})=>{let i=xm;if(document.querySelector("base")){const r=new URL(window.location.href.replace(window.location.hash,"")).href;i=i.replace(/url\(\#/g,"url("+r+"#")}Uc++,e.element.classList.add(`filepond--image-preview-overlay-${n.status}`),e.element.innerHTML=i.replace(/__UID__/g,Uc)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Am=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},Om=function(){self.onmessage=t=>{const e=t.data.message.imageData,n=t.data.message.colorMatrix,i=e.data,r=i.length,l=n[0],c=n[1],d=n[2],p=n[3],v=n[4],_=n[5],I=n[6],D=n[7],O=n[8],T=n[9],x=n[10],P=n[11],G=n[12],M=n[13],H=n[14],z=n[15],J=n[16],ee=n[17],f=n[18],te=n[19];let U=0,Y=0,ae=0,he=0,le=0;for(;U<r;U+=4)Y=i[U]/255,ae=i[U+1]/255,he=i[U+2]/255,le=i[U+3]/255,i[U]=Math.max(0,Math.min((Y*l+ae*c+he*d+le*p+v)*255,255)),i[U+1]=Math.max(0,Math.min((Y*_+ae*I+he*D+le*O+T)*255,255)),i[U+2]=Math.max(0,Math.min((Y*x+ae*P+he*G+le*M+H)*255,255)),i[U+3]=Math.max(0,Math.min((Y*z+ae*J+he*ee+le*f+te)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},Dm=(t,e)=>{let n=new Image;n.onload=()=>{const i=n.naturalWidth,r=n.naturalHeight;n=null,e(i,r)},n.src=t},Rm={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},Pm=(t,e,n,i)=>{i!==-1&&t.transform.apply(t,Rm[i](e,n))},Lm=(t,e,n,i)=>{e=Math.round(e),n=Math.round(n);const r=document.createElement("canvas");r.width=e,r.height=n;const l=r.getContext("2d");return i>=5&&i<=8&&([e,n]=[n,e]),Pm(l,e,n,i),l.drawImage(t,0,0,e,n),r},id=t=>/^image/.test(t.type)&&!/svg/.test(t.type),Mm=10,Nm=10,Fm=t=>{const e=Math.min(Mm/t.width,Nm/t.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(t.width*e),l=n.height=Math.ceil(t.height*e);i.drawImage(t,0,0,r,l);let c=null;try{c=i.getImageData(0,0,r,l).data}catch{return null}const d=c.length;let p=0,v=0,_=0,I=0;for(;I<d;I+=4)p+=c[I]*c[I],v+=c[I+1]*c[I+1],_+=c[I+2]*c[I+2];return p=Ga(p,d),v=Ga(v,d),_=Ga(_,d),{r:p,g:v,b:_}},Ga=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),km=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),$m=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},Gm=t=>new Promise((e,n)=>{const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>{e(i)},i.onerror=r=>{n(r)},i.src=t}),Bm=t=>{const e=Cm(t),n=Sm(t),{createWorker:i}=t.utils,r=(M,H,z)=>new Promise(J=>{M.ref.imageData||(M.ref.imageData=z.getContext("2d").getImageData(0,0,z.width,z.height));const ee=$m(M.ref.imageData);if(!H||H.length!==20)return z.getContext("2d").putImageData(ee,0,0),J();const f=i(Om);f.post({imageData:ee,colorMatrix:H},te=>{z.getContext("2d").putImageData(te,0,0),f.terminate(),J()},[ee.data.buffer])}),l=(M,H)=>{M.removeChildView(H),H.image.width=1,H.image.height=1,H._destroy()},c=({root:M})=>{const H=M.ref.images.shift();return H.opacity=0,H.translateY=-15,M.ref.imageViewBin.push(H),H},d=({root:M,props:H,image:z})=>{const J=H.id,ee=M.query("GET_ITEM",{id:J});if(!ee)return;const f=ee.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},te=M.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let U,Y,ae=!1;M.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(U=ee.getMetadata("markup")||[],Y=ee.getMetadata("resize"),ae=!0);const he=M.appendChildView(M.createChildView(n,{id:J,image:z,crop:f,resize:Y,markup:U,dirty:ae,background:te,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),M.childViews.length);M.ref.images.push(he),he.opacity=1,he.scaleX=1,he.scaleY=1,he.translateY=0,setTimeout(()=>{M.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:J})},250)},p=({root:M,props:H})=>{const z=M.query("GET_ITEM",{id:H.id});if(!z)return;const J=M.ref.images[M.ref.images.length-1];J.crop=z.getMetadata("crop"),J.background=M.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),M.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(J.dirty=!0,J.resize=z.getMetadata("resize"),J.markup=z.getMetadata("markup"))},v=({root:M,props:H,action:z})=>{if(!/crop|filter|markup|resize/.test(z.change.key)||!M.ref.images.length)return;const J=M.query("GET_ITEM",{id:H.id});if(J){if(/filter/.test(z.change.key)){const ee=M.ref.images[M.ref.images.length-1];r(M,z.change.value,ee.image);return}if(/crop|markup|resize/.test(z.change.key)){const ee=J.getMetadata("crop"),f=M.ref.images[M.ref.images.length-1];if(ee&&ee.aspectRatio&&f.crop&&f.crop.aspectRatio&&Math.abs(ee.aspectRatio-f.crop.aspectRatio)>1e-5){const te=c({root:M});d({root:M,props:H,image:km(te.image)})}else p({root:M,props:H})}}},_=M=>{const z=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),J=z?parseInt(z[1]):null;return J!==null&&J<=58?!1:"createImageBitmap"in window&&id(M)},I=({root:M,props:H})=>{const{id:z}=H,J=M.query("GET_ITEM",z);if(!J)return;const ee=URL.createObjectURL(J.file);Dm(ee,(f,te)=>{M.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:z,width:f,height:te})})},D=({root:M,props:H})=>{const{id:z}=H,J=M.query("GET_ITEM",z);if(!J)return;const ee=URL.createObjectURL(J.file),f=()=>{Gm(ee).then(te)},te=U=>{URL.revokeObjectURL(ee);const ae=(J.getMetadata("exif")||{}).orientation||-1;let{width:he,height:le}=U;if(!he||!le)return;ae>=5&&ae<=8&&([he,le]=[le,he]);const ne=Math.max(1,window.devicePixelRatio*.75),Q=M.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*ne,se=le/he,N=M.rect.element.width,C=M.rect.element.height;let ie=N,de=ie*se;se>1?(ie=Math.min(he,N*Q),de=ie*se):(de=Math.min(le,C*Q),ie=de/se);const ge=Lm(U,ie,de,ae),it=()=>{const Yt=M.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Fm(data):null;J.setMetadata("color",Yt,!0),"close"in U&&U.close(),M.ref.overlayShadow.opacity=1,d({root:M,props:H,image:ge})},et=J.getMetadata("filter");et?r(M,et,ge).then(it):it()};if(_(J.file)){const U=i(Am);U.post({file:J.file},Y=>{if(U.terminate(),!Y){f();return}te(Y)})}else f()},O=({root:M})=>{const H=M.ref.images[M.ref.images.length-1];H.translateY=0,H.scaleX=1,H.scaleY=1,H.opacity=1},T=({root:M})=>{M.ref.overlayShadow.opacity=1,M.ref.overlayError.opacity=0,M.ref.overlaySuccess.opacity=0},x=({root:M})=>{M.ref.overlayShadow.opacity=.25,M.ref.overlayError.opacity=1},P=({root:M})=>{M.ref.overlayShadow.opacity=.25,M.ref.overlaySuccess.opacity=1},G=({root:M})=>{M.ref.images=[],M.ref.imageData=null,M.ref.imageViewBin=[],M.ref.overlayShadow=M.appendChildView(M.createChildView(e,{opacity:0,status:"idle"})),M.ref.overlaySuccess=M.appendChildView(M.createChildView(e,{opacity:0,status:"success"})),M.ref.overlayError=M.appendChildView(M.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:G,styles:["height"],apis:["height"],destroy:({root:M})=>{M.ref.images.forEach(H=>{H.image.width=1,H.image.height=1})},didWriteView:({root:M})=>{M.ref.images.forEach(H=>{H.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:O,DID_IMAGE_PREVIEW_CONTAINER_CREATE:I,DID_FINISH_CALCULATE_PREVIEWSIZE:D,DID_UPDATE_ITEM_METADATA:v,DID_THROW_ITEM_LOAD_ERROR:x,DID_THROW_ITEM_PROCESSING_ERROR:x,DID_THROW_ITEM_INVALID:x,DID_COMPLETE_ITEM_PROCESSING:P,DID_START_ITEM_PROCESSING:T,DID_REVERT_ITEM_PROCESSING:T},({root:M})=>{const H=M.ref.imageViewBin.filter(z=>z.opacity===0);M.ref.imageViewBin=M.ref.imageViewBin.filter(z=>z.opacity>0),H.forEach(z=>l(M,z)),H.length=0})})},Hm=t=>{const{addFilter:e,utils:n}=t,{Type:i,createRoute:r,isFile:l}=n,c=Bm(t);return e("CREATE_VIEW",d=>{const{is:p,view:v,query:_}=d;if(!p("file")||!_("GET_ALLOW_IMAGE_PREVIEW"))return;const I=({root:P,props:G})=>{const{id:M}=G,H=_("GET_ITEM",M);if(!H||!l(H.file)||H.archived)return;const z=H.file;if(!qg(z)||!_("GET_IMAGE_PREVIEW_FILTER_ITEM")(H))return;const J="createImageBitmap"in(window||{}),ee=_("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!J&&ee&&z.size>ee)return;P.ref.imagePreview=v.appendChildView(v.createChildView(c,{id:M}));const f=P.query("GET_IMAGE_PREVIEW_HEIGHT");f&&P.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:H.id,height:f});const te=!J&&z.size>_("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");P.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:M},te)},D=(P,G)=>{if(!P.ref.imagePreview)return;let{id:M}=G;const H=P.query("GET_ITEM",{id:M});if(!H)return;const z=P.query("GET_PANEL_ASPECT_RATIO"),J=P.query("GET_ITEM_PANEL_ASPECT_RATIO"),ee=P.query("GET_IMAGE_PREVIEW_HEIGHT");if(z||J||ee)return;let{imageWidth:f,imageHeight:te}=P.ref;if(!f||!te)return;const U=P.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Y=P.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),he=(H.getMetadata("exif")||{}).orientation||-1;if(he>=5&&he<=8&&([f,te]=[te,f]),!id(H.file)||P.query("GET_IMAGE_PREVIEW_UPSCALE")){const N=2048/f;f*=N,te*=N}const le=te/f,ne=(H.getMetadata("crop")||{}).aspectRatio||le;let xe=Math.max(U,Math.min(te,Y));const Q=P.rect.element.width,se=Math.min(Q*ne,xe);P.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:H.id,height:se})},O=({root:P})=>{P.ref.shouldRescale=!0},T=({root:P,action:G})=>{G.change.key==="crop"&&(P.ref.shouldRescale=!0)},x=({root:P,action:G})=>{P.ref.imageWidth=G.width,P.ref.imageHeight=G.height,P.ref.shouldRescale=!0,P.ref.shouldDrawPreview=!0,P.dispatch("KICK")};v.registerWriter(r({DID_RESIZE_ROOT:O,DID_STOP_RESIZE:O,DID_LOAD_ITEM:I,DID_IMAGE_PREVIEW_CALCULATE_SIZE:x,DID_UPDATE_ITEM_METADATA:T},({root:P,props:G})=>{P.ref.imagePreview&&(P.rect.element.hidden||(P.ref.shouldRescale&&(D(P,G),P.ref.shouldRescale=!1),P.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:G.id})})}),P.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[()=>!0,i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,i.FUNCTION]}}},Um=typeof window<"u"&&typeof window.document<"u";Um&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Hm}));/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const zm=({addFilter:t,utils:e})=>{const{Type:n,isString:i,replaceInString:r,guesstimateMimeType:l,getExtensionFromFilename:c,getFilenameFromURL:d}=e,p=(O,T)=>{const x=(/^[^/]+/.exec(O)||[]).pop(),P=T.slice(0,-2);return x===P},v=(O,T)=>O.some(x=>/\*$/.test(x)?p(T,x):x===T),_=O=>{let T="";if(i(O)){const x=d(O),P=c(x);P&&(T=l(P))}else T=O.type;return T},I=(O,T,x)=>{if(T.length===0)return!0;const P=_(O);return x?new Promise((G,M)=>{x(O,P).then(H=>{v(T,H)?G():M()}).catch(M)}):v(T,P)},D=O=>T=>O[T]===null?!1:O[T]||T;return t("SET_ATTRIBUTE_TO_OPTION_MAP",O=>Object.assign(O,{accept:"acceptedFileTypes"})),t("ALLOW_HOPPER_ITEM",(O,{query:T})=>T("GET_ALLOW_FILE_TYPE_VALIDATION")?I(O,T("GET_ACCEPTED_FILE_TYPES")):!0),t("LOAD_FILE",(O,{query:T})=>new Promise((x,P)=>{if(!T("GET_ALLOW_FILE_TYPE_VALIDATION")){x(O);return}const G=T("GET_ACCEPTED_FILE_TYPES"),M=T("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),H=I(O,G,M),z=()=>{const J=G.map(D(T("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(f=>f!==!1),ee=J.filter((f,te)=>J.indexOf(f)===te);P({status:{main:T("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:r(T("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:ee.join(", "),allButLastType:ee.slice(0,-1).join(", "),lastType:ee[ee.length-1]})}})};if(typeof H=="boolean")return H?x(O):z();H.then(()=>{x(O)}).catch(z)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},Vm=typeof window<"u"&&typeof window.document<"u";Vm&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:zm}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Wm=({addFilter:t,utils:e})=>{const{Type:n,replaceInString:i,toNaturalFileSize:r}=e;return t("ALLOW_HOPPER_ITEM",(l,{query:c})=>{if(!c("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const d=c("GET_MAX_FILE_SIZE");if(d!==null&&l.size>d)return!1;const p=c("GET_MIN_FILE_SIZE");return!(p!==null&&l.size<p)}),t("LOAD_FILE",(l,{query:c})=>new Promise((d,p)=>{if(!c("GET_ALLOW_FILE_SIZE_VALIDATION"))return d(l);const v=c("GET_FILE_VALIDATE_SIZE_FILTER");if(v&&!v(l))return d(l);const _=c("GET_MAX_FILE_SIZE");if(_!==null&&l.size>_){p({status:{main:c("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(c("GET_LABEL_MAX_FILE_SIZE"),{filesize:r(_,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}const I=c("GET_MIN_FILE_SIZE");if(I!==null&&l.size<I){p({status:{main:c("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(c("GET_LABEL_MIN_FILE_SIZE"),{filesize:r(I,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}const D=c("GET_MAX_TOTAL_FILE_SIZE");if(D!==null&&c("GET_ACTIVE_ITEMS").reduce((T,x)=>T+x.fileSize,0)>D){p({status:{main:c("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(c("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:r(D,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}d(l)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},qm=typeof window<"u"&&typeof window.document<"u";qm&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Wm}));/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zc(Object(n),!0).forEach(function(i){jm(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Vo(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vo=function(e){return typeof e}:Vo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(){return Gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gn.apply(this,arguments)}function Ym(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,l;for(l=0;l<i.length;l++)r=i[l],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Xm(t,e){if(t==null)return{};var n=Ym(t,e),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)i=l[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Zm(t){return Km(t)||Qm(t)||Jm(t)||ey()}function Km(t){if(Array.isArray(t))return dl(t)}function Qm(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jm(t,e){if(t){if(typeof t=="string")return dl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dl(t,e)}}function dl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ey(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ty="1.15.3";function Di(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Li=Di(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),io=Di(/Edge/i),Vc=Di(/firefox/i),Zr=Di(/safari/i)&&!Di(/chrome/i)&&!Di(/android/i),sd=Di(/iP(ad|od|hone)/i),rd=Di(/chrome/i)&&Di(/android/i),od={capture:!1,passive:!1};function Ke(t,e,n){t.addEventListener(e,n,!Li&&od)}function Ye(t,e,n){t.removeEventListener(e,n,!Li&&od)}function ta(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ad(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function kn(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ta(t,e):ta(t,e))||i&&t===n)return t;if(t===n)break}while(t=ad(t))}return null}var Wc=/\s+/g;function vt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Wc," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(Wc," ")}}function we(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function _s(t,e){var n="";if(typeof t=="string")n=t;else do{var i=we(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function ld(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,l=i.length;if(n)for(;r<l;r++)n(i[r],r);return i}return[]}function di(){var t=document.scrollingElement;return t||document.documentElement}function gt(t,e,n,i,r){if(!(!t.getBoundingClientRect&&t!==window)){var l,c,d,p,v,_,I;if(t!==window&&t.parentNode&&t!==di()?(l=t.getBoundingClientRect(),c=l.top,d=l.left,p=l.bottom,v=l.right,_=l.height,I=l.width):(c=0,d=0,p=window.innerHeight,v=window.innerWidth,_=window.innerHeight,I=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Li))do if(r&&r.getBoundingClientRect&&(we(r,"transform")!=="none"||n&&we(r,"position")!=="static")){var D=r.getBoundingClientRect();c-=D.top+parseInt(we(r,"border-top-width")),d-=D.left+parseInt(we(r,"border-left-width")),p=c+l.height,v=d+l.width;break}while(r=r.parentNode);if(i&&t!==window){var O=_s(r||t),T=O&&O.a,x=O&&O.d;O&&(c/=x,d/=T,I/=T,_/=x,p=c+_,v=d+I)}return{top:c,left:d,bottom:p,right:v,width:I,height:_}}}function qc(t,e,n){for(var i=Ki(t,!0),r=gt(t)[e];i;){var l=gt(i)[n],c=void 0;if(c=r>=l,!c)return i;if(i===di())break;i=Ki(i,!1)}return!1}function or(t,e,n,i){for(var r=0,l=0,c=t.children;l<c.length;){if(c[l].style.display!=="none"&&c[l]!==Oe.ghost&&(i||c[l]!==Oe.dragged)&&kn(c[l],n.draggable,t,!1)){if(r===e)return c[l];r++}l++}return null}function Rl(t,e){for(var n=t.lastElementChild;n&&(n===Oe.ghost||we(n,"display")==="none"||e&&!ta(n,e));)n=n.previousElementSibling;return n||null}function wt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Oe.clone&&(!e||ta(t,e))&&n++;return n}function jc(t){var e=0,n=0,i=di();if(t)do{var r=_s(t),l=r.a,c=r.d;e+=t.scrollLeft*l,n+=t.scrollTop*c}while(t!==i&&(t=t.parentNode));return[e,n]}function ny(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function Ki(t,e){if(!t||!t.getBoundingClientRect)return di();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=we(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return di();if(i||e)return n;i=!0}}while(n=n.parentNode);return di()}function iy(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ba(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Kr;function cd(t,e){return function(){if(!Kr){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Kr=setTimeout(function(){Kr=void 0},e)}}}function sy(){clearTimeout(Kr),Kr=void 0}function ud(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Pl(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Yc(t,e){we(t,"position","absolute"),we(t,"top",e.top),we(t,"left",e.left),we(t,"width",e.width),we(t,"height",e.height)}function Ha(t){we(t,"position",""),we(t,"top",""),we(t,"left",""),we(t,"width",""),we(t,"height","")}function dd(t,e,n){var i={};return Array.from(t.children).forEach(function(r){var l,c,d,p;if(!(!kn(r,e.draggable,t,!1)||r.animated||r===n)){var v=gt(r);i.left=Math.min((l=i.left)!==null&&l!==void 0?l:1/0,v.left),i.top=Math.min((c=i.top)!==null&&c!==void 0?c:1/0,v.top),i.right=Math.max((d=i.right)!==null&&d!==void 0?d:-1/0,v.right),i.bottom=Math.max((p=i.bottom)!==null&&p!==void 0?p:-1/0,v.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var jt="Sortable"+new Date().getTime();function ry(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(we(r,"display")==="none"||r===Oe.ghost)){t.push({target:r,rect:gt(r)});var l=fi({},t[t.length-1].rect);if(r.thisAnimationDuration){var c=_s(r,!0);c&&(l.top-=c.f,l.left-=c.e)}r.fromRect=l}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(ny(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var l=!1,c=0;t.forEach(function(d){var p=0,v=d.target,_=v.fromRect,I=gt(v),D=v.prevFromRect,O=v.prevToRect,T=d.rect,x=_s(v,!0);x&&(I.top-=x.f,I.left-=x.e),v.toRect=I,v.thisAnimationDuration&&Ba(D,I)&&!Ba(_,I)&&(T.top-I.top)/(T.left-I.left)===(_.top-I.top)/(_.left-I.left)&&(p=ay(T,D,O,r.options)),Ba(I,_)||(v.prevFromRect=_,v.prevToRect=I,p||(p=r.options.animation),r.animate(v,T,I,p)),p&&(l=!0,c=Math.max(c,p),clearTimeout(v.animationResetTimer),v.animationResetTimer=setTimeout(function(){v.animationTime=0,v.prevFromRect=null,v.fromRect=null,v.prevToRect=null,v.thisAnimationDuration=null},p),v.thisAnimationDuration=p)}),clearTimeout(e),l?e=setTimeout(function(){typeof i=="function"&&i()},c):typeof i=="function"&&i(),t=[]},animate:function(i,r,l,c){if(c){we(i,"transition",""),we(i,"transform","");var d=_s(this.el),p=d&&d.a,v=d&&d.d,_=(r.left-l.left)/(p||1),I=(r.top-l.top)/(v||1);i.animatingX=!!_,i.animatingY=!!I,we(i,"transform","translate3d("+_+"px,"+I+"px,0)"),this.forRepaintDummy=oy(i),we(i,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:"")),we(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){we(i,"transition",""),we(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},c)}}}}function oy(t){return t.offsetWidth}function ay(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var js=[],Ua={initializeByDefault:!0},so={mount:function(e){for(var n in Ua)Ua.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ua[n]);js.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),js.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var l=e+"Global";js.forEach(function(c){n[c.pluginName]&&(n[c.pluginName][l]&&n[c.pluginName][l](fi({sortable:n},i)),n.options[c.pluginName]&&n[c.pluginName][e]&&n[c.pluginName][e](fi({sortable:n},i)))})},initializePlugins:function(e,n,i,r){js.forEach(function(d){var p=d.pluginName;if(!(!e.options[p]&&!d.initializeByDefault)){var v=new d(e,n,e.options);v.sortable=e,v.options=e.options,e[p]=v,Gn(i,v.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var c=this.modifyOption(e,l,e.options[l]);typeof c<"u"&&(e.options[l]=c)}},getEventProperties:function(e,n){var i={};return js.forEach(function(r){typeof r.eventProperties=="function"&&Gn(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return js.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(r=l.optionListeners[n].call(e[l.pluginName],i))}),r}};function Vr(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,l=t.cloneEl,c=t.toEl,d=t.fromEl,p=t.oldIndex,v=t.newIndex,_=t.oldDraggableIndex,I=t.newDraggableIndex,D=t.originalEvent,O=t.putSortable,T=t.extraEventProperties;if(e=e||n&&n[jt],!!e){var x,P=e.options,G="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Li&&!io?x=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(i,!0,!0)),x.to=c||n,x.from=d||n,x.item=r||n,x.clone=l,x.oldIndex=p,x.newIndex=v,x.oldDraggableIndex=_,x.newDraggableIndex=I,x.originalEvent=D,x.pullMode=O?O.lastPutMode:void 0;var M=fi(fi({},T),so.getEventProperties(i,e));for(var H in M)x[H]=M[H];n&&n.dispatchEvent(x),P[G]&&P[G].call(e,x)}}var ly=["evt"],fn=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,l=Xm(i,ly);so.pluginEvent.bind(Oe)(e,n,fi({dragEl:pe,parentEl:Tt,ghostEl:ke,rootEl:mt,nextEl:fs,lastDownEl:Wo,cloneEl:yt,cloneHidden:Zi,dragStarted:Wr,putSortable:qt,activeSortable:Oe.active,originalEvent:r,oldIndex:er,oldDraggableIndex:Qr,newIndex:Tn,newDraggableIndex:Xi,hideGhostForTarget:gd,unhideGhostForTarget:md,cloneNowHidden:function(){Zi=!0},cloneNowShown:function(){Zi=!1},dispatchSortableEvent:function(d){rn({sortable:n,name:d,originalEvent:r})}},l))};function rn(t){Vr(fi({putSortable:qt,cloneEl:yt,targetEl:pe,rootEl:mt,oldIndex:er,oldDraggableIndex:Qr,newIndex:Tn,newDraggableIndex:Xi},t))}var pe,Tt,ke,mt,fs,Wo,yt,Zi,er,Tn,Qr,Xi,No,qt,Zs=!1,na=!1,ia=[],us,Wn,za,Va,Xc,Zc,Wr,Ys,Jr,eo=!1,Fo=!1,qo,Kt,Wa=[],fl=!1,sa=[],ha=typeof document<"u",ko=sd,Kc=io||Li?"cssFloat":"float",cy=ha&&!rd&&!sd&&"draggable"in document.createElement("div"),fd=function(){if(ha){if(Li)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),hd=function(e,n){var i=we(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),l=or(e,0,n),c=or(e,1,n),d=l&&we(l),p=c&&we(c),v=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+gt(l).width,_=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+gt(c).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&d.float&&d.float!=="none"){var I=d.float==="left"?"left":"right";return c&&(p.clear==="both"||p.clear===I)?"vertical":"horizontal"}return l&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||v>=r&&i[Kc]==="none"||c&&i[Kc]==="none"&&v+_>r)?"vertical":"horizontal"},uy=function(e,n,i){var r=i?e.left:e.top,l=i?e.right:e.bottom,c=i?e.width:e.height,d=i?n.left:n.top,p=i?n.right:n.bottom,v=i?n.width:n.height;return r===d||l===p||r+c/2===d+v/2},dy=function(e,n){var i;return ia.some(function(r){var l=r[jt].options.emptyInsertThreshold;if(!(!l||Rl(r))){var c=gt(r),d=e>=c.left-l&&e<=c.right+l,p=n>=c.top-l&&n<=c.bottom+l;if(d&&p)return i=r}}),i},pd=function(e){function n(l,c){return function(d,p,v,_){var I=d.options.group.name&&p.options.group.name&&d.options.group.name===p.options.group.name;if(l==null&&(c||I))return!0;if(l==null||l===!1)return!1;if(c&&l==="clone")return l;if(typeof l=="function")return n(l(d,p,v,_),c)(d,p,v,_);var D=(c?d:p).options.group.name;return l===!0||typeof l=="string"&&l===D||l.join&&l.indexOf(D)>-1}}var i={},r=e.group;(!r||Vo(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},gd=function(){!fd&&ke&&we(ke,"display","none")},md=function(){!fd&&ke&&we(ke,"display","")};ha&&!rd&&document.addEventListener("click",function(t){if(na)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),na=!1,!1},!0);var ds=function(e){if(pe){e=e.touches?e.touches[0]:e;var n=dy(e.clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[jt]._onDragOver(i)}}},fy=function(e){pe&&pe.parentNode[jt]._isOutsideThisEl(e.target)};function Oe(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Gn({},e),t[jt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return hd(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(c,d){c.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Oe.supportPointer!==!1&&"PointerEvent"in window&&!Zr,emptyInsertThreshold:5};so.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);pd(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:cy,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ke(t,"pointerdown",this._onTapStart):(Ke(t,"mousedown",this._onTapStart),Ke(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ke(t,"dragover",this),Ke(t,"dragenter",this)),ia.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Gn(this,ry())}Oe.prototype={constructor:Oe,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ys=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,pe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,l=r.preventOnFilter,c=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,p=(d||e).target,v=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||p,_=r.filter;if(_y(i),!pe&&!(/mousedown|pointerdown/.test(c)&&e.button!==0||r.disabled)&&!v.isContentEditable&&!(!this.nativeDraggable&&Zr&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=kn(p,r.draggable,i,!1),!(p&&p.animated)&&Wo!==p)){if(er=wt(p),Qr=wt(p,r.draggable),typeof _=="function"){if(_.call(this,e,p,this)){rn({sortable:n,rootEl:v,name:"filter",targetEl:p,toEl:i,fromEl:i}),fn("filter",n,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(_&&(_=_.split(",").some(function(I){if(I=kn(v,I.trim(),i,!1),I)return rn({sortable:n,rootEl:I,name:"filter",targetEl:p,fromEl:i,toEl:i}),fn("filter",n,{evt:e}),!0}),_)){l&&e.cancelable&&e.preventDefault();return}r.handle&&!kn(v,r.handle,i,!1)||this._prepareDragStart(e,d,p)}}},_prepareDragStart:function(e,n,i){var r=this,l=r.el,c=r.options,d=l.ownerDocument,p;if(i&&!pe&&i.parentNode===l){var v=gt(i);if(mt=l,pe=i,Tt=pe.parentNode,fs=pe.nextSibling,Wo=i,No=c.group,Oe.dragged=pe,us={target:pe,clientX:(n||e).clientX,clientY:(n||e).clientY},Xc=us.clientX-v.left,Zc=us.clientY-v.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,pe.style["will-change"]="all",p=function(){if(fn("delayEnded",r,{evt:e}),Oe.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Vc&&r.nativeDraggable&&(pe.draggable=!0),r._triggerDragStart(e,n),rn({sortable:r,name:"choose",originalEvent:e}),vt(pe,c.chosenClass,!0)},c.ignore.split(",").forEach(function(_){ld(pe,_.trim(),qa)}),Ke(d,"dragover",ds),Ke(d,"mousemove",ds),Ke(d,"touchmove",ds),Ke(d,"mouseup",r._onDrop),Ke(d,"touchend",r._onDrop),Ke(d,"touchcancel",r._onDrop),Vc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,pe.draggable=!0),fn("delayStart",this,{evt:e}),c.delay&&(!c.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(io||Li))){if(Oe.eventCanceled){this._onDrop();return}Ke(d,"mouseup",r._disableDelayedDrag),Ke(d,"touchend",r._disableDelayedDrag),Ke(d,"touchcancel",r._disableDelayedDrag),Ke(d,"mousemove",r._delayedDragTouchMoveHandler),Ke(d,"touchmove",r._delayedDragTouchMoveHandler),c.supportPointer&&Ke(d,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(p,c.delay)}else p()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){pe&&qa(pe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ye(e,"mouseup",this._disableDelayedDrag),Ye(e,"touchend",this._disableDelayedDrag),Ye(e,"touchcancel",this._disableDelayedDrag),Ye(e,"mousemove",this._delayedDragTouchMoveHandler),Ye(e,"touchmove",this._delayedDragTouchMoveHandler),Ye(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ke(document,"pointermove",this._onTouchMove):n?Ke(document,"touchmove",this._onTouchMove):Ke(document,"mousemove",this._onTouchMove):(Ke(pe,"dragend",this),Ke(mt,"dragstart",this._onDragStart));try{document.selection?jo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Zs=!1,mt&&pe){fn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ke(document,"dragover",fy);var i=this.options;!e&&vt(pe,i.dragClass,!1),vt(pe,i.ghostClass,!0),Oe.active=this,e&&this._appendGhost(),rn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Wn){this._lastX=Wn.clientX,this._lastY=Wn.clientY,gd();for(var e=document.elementFromPoint(Wn.clientX,Wn.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Wn.clientX,Wn.clientY),e!==n);)n=e;if(pe.parentNode[jt]._isOutsideThisEl(e),n)do{if(n[jt]){var i=void 0;if(i=n[jt]._onDragOver({clientX:Wn.clientX,clientY:Wn.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=ad(n));md()}},_onTouchMove:function(e){if(us){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,l=e.touches?e.touches[0]:e,c=ke&&_s(ke,!0),d=ke&&c&&c.a,p=ke&&c&&c.d,v=ko&&Kt&&jc(Kt),_=(l.clientX-us.clientX+r.x)/(d||1)+(v?v[0]-Wa[0]:0)/(d||1),I=(l.clientY-us.clientY+r.y)/(p||1)+(v?v[1]-Wa[1]:0)/(p||1);if(!Oe.active&&!Zs){if(i&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ke){c?(c.e+=_-(za||0),c.f+=I-(Va||0)):c={a:1,b:0,c:0,d:1,e:_,f:I};var D="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");we(ke,"webkitTransform",D),we(ke,"mozTransform",D),we(ke,"msTransform",D),we(ke,"transform",D),za=_,Va=I,Wn=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ke){var e=this.options.fallbackOnBody?document.body:mt,n=gt(pe,!0,ko,!0,e),i=this.options;if(ko){for(Kt=e;we(Kt,"position")==="static"&&we(Kt,"transform")==="none"&&Kt!==document;)Kt=Kt.parentNode;Kt!==document.body&&Kt!==document.documentElement?(Kt===document&&(Kt=di()),n.top+=Kt.scrollTop,n.left+=Kt.scrollLeft):Kt=di(),Wa=jc(Kt)}ke=pe.cloneNode(!0),vt(ke,i.ghostClass,!1),vt(ke,i.fallbackClass,!0),vt(ke,i.dragClass,!0),we(ke,"transition",""),we(ke,"transform",""),we(ke,"box-sizing","border-box"),we(ke,"margin",0),we(ke,"top",n.top),we(ke,"left",n.left),we(ke,"width",n.width),we(ke,"height",n.height),we(ke,"opacity","0.8"),we(ke,"position",ko?"absolute":"fixed"),we(ke,"zIndex","100000"),we(ke,"pointerEvents","none"),Oe.ghost=ke,e.appendChild(ke),we(ke,"transform-origin",Xc/parseInt(ke.style.width)*100+"% "+Zc/parseInt(ke.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,l=i.options;if(fn("dragStart",this,{evt:e}),Oe.eventCanceled){this._onDrop();return}fn("setupClone",this),Oe.eventCanceled||(yt=Pl(pe),yt.removeAttribute("id"),yt.draggable=!1,yt.style["will-change"]="",this._hideClone(),vt(yt,this.options.chosenClass,!1),Oe.clone=yt),i.cloneId=jo(function(){fn("clone",i),!Oe.eventCanceled&&(i.options.removeCloneOnHide||mt.insertBefore(yt,pe),i._hideClone(),rn({sortable:i,name:"clone"}))}),!n&&vt(pe,l.dragClass,!0),n?(na=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ye(document,"mouseup",i._onDrop),Ye(document,"touchend",i._onDrop),Ye(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",l.setData&&l.setData.call(i,r,pe)),Ke(document,"drop",i),we(pe,"transform","translateZ(0)")),Zs=!0,i._dragStartId=jo(i._dragStarted.bind(i,n,e)),Ke(document,"selectstart",i),Wr=!0,Zr&&we(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,r,l,c,d=this.options,p=d.group,v=Oe.active,_=No===p,I=d.sort,D=qt||v,O,T=this,x=!1;if(fl)return;function P(N,C){fn(N,T,fi({evt:e,isOwner:_,axis:O?"vertical":"horizontal",revert:c,dragRect:r,targetRect:l,canSort:I,fromSortable:D,target:i,completed:M,onMove:function(de,ge){return $o(mt,n,pe,r,de,gt(de),e,ge)},changed:H},C))}function G(){P("dragOverAnimationCapture"),T.captureAnimationState(),T!==D&&D.captureAnimationState()}function M(N){return P("dragOverCompleted",{insertion:N}),N&&(_?v._hideClone():v._showClone(T),T!==D&&(vt(pe,qt?qt.options.ghostClass:v.options.ghostClass,!1),vt(pe,d.ghostClass,!0)),qt!==T&&T!==Oe.active?qt=T:T===Oe.active&&qt&&(qt=null),D===T&&(T._ignoreWhileAnimating=i),T.animateAll(function(){P("dragOverAnimationComplete"),T._ignoreWhileAnimating=null}),T!==D&&(D.animateAll(),D._ignoreWhileAnimating=null)),(i===pe&&!pe.animated||i===n&&!i.animated)&&(Ys=null),!d.dragoverBubble&&!e.rootEl&&i!==document&&(pe.parentNode[jt]._isOutsideThisEl(e.target),!N&&ds(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function H(){Tn=wt(pe),Xi=wt(pe,d.draggable),rn({sortable:T,name:"change",toEl:n,newIndex:Tn,newDraggableIndex:Xi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=kn(i,d.draggable,n,!0),P("dragOver"),Oe.eventCanceled)return x;if(pe.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||T._ignoreWhileAnimating===i)return M(!1);if(na=!1,v&&!d.disabled&&(_?I||(c=Tt!==mt):qt===this||(this.lastPutMode=No.checkPull(this,v,pe,e))&&p.checkPut(this,v,pe,e))){if(O=this._getDirection(e,i)==="vertical",r=gt(pe),P("dragOverValid"),Oe.eventCanceled)return x;if(c)return Tt=mt,G(),this._hideClone(),P("revert"),Oe.eventCanceled||(fs?mt.insertBefore(pe,fs):mt.appendChild(pe)),M(!0);var z=Rl(n,d.draggable);if(!z||my(e,O,this)&&!z.animated){if(z===pe)return M(!1);if(z&&n===e.target&&(i=z),i&&(l=gt(i)),$o(mt,n,pe,r,i,l,e,!!i)!==!1)return G(),z&&z.nextSibling?n.insertBefore(pe,z.nextSibling):n.appendChild(pe),Tt=n,H(),M(!0)}else if(z&&gy(e,O,this)){var J=or(n,0,d,!0);if(J===pe)return M(!1);if(i=J,l=gt(i),$o(mt,n,pe,r,i,l,e,!1)!==!1)return G(),n.insertBefore(pe,J),Tt=n,H(),M(!0)}else if(i.parentNode===n){l=gt(i);var ee=0,f,te=pe.parentNode!==n,U=!uy(pe.animated&&pe.toRect||r,i.animated&&i.toRect||l,O),Y=O?"top":"left",ae=qc(i,"top","top")||qc(pe,"top","top"),he=ae?ae.scrollTop:void 0;Ys!==i&&(f=l[Y],eo=!1,Fo=!U&&d.invertSwap||te),ee=yy(e,i,l,O,U?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,Fo,Ys===i);var le;if(ee!==0){var ne=wt(pe);do ne-=ee,le=Tt.children[ne];while(le&&(we(le,"display")==="none"||le===ke))}if(ee===0||le===i)return M(!1);Ys=i,Jr=ee;var xe=i.nextElementSibling,Q=!1;Q=ee===1;var se=$o(mt,n,pe,r,i,l,e,Q);if(se!==!1)return(se===1||se===-1)&&(Q=se===1),fl=!0,setTimeout(py,30),G(),Q&&!xe?n.appendChild(pe):i.parentNode.insertBefore(pe,Q?xe:i),ae&&ud(ae,0,he-ae.scrollTop),Tt=pe.parentNode,f!==void 0&&!Fo&&(qo=Math.abs(f-gt(i)[Y])),H(),M(!0)}if(n.contains(pe))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ye(document,"mousemove",this._onTouchMove),Ye(document,"touchmove",this._onTouchMove),Ye(document,"pointermove",this._onTouchMove),Ye(document,"dragover",ds),Ye(document,"mousemove",ds),Ye(document,"touchmove",ds)},_offUpEvents:function(){var e=this.el.ownerDocument;Ye(e,"mouseup",this._onDrop),Ye(e,"touchend",this._onDrop),Ye(e,"pointerup",this._onDrop),Ye(e,"touchcancel",this._onDrop),Ye(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(Tn=wt(pe),Xi=wt(pe,i.draggable),fn("drop",this,{evt:e}),Tt=pe&&pe.parentNode,Tn=wt(pe),Xi=wt(pe,i.draggable),Oe.eventCanceled){this._nulling();return}Zs=!1,Fo=!1,eo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hl(this.cloneId),hl(this._dragStartId),this.nativeDraggable&&(Ye(document,"drop",this),Ye(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Zr&&we(document.body,"user-select",""),we(pe,"transform",""),e&&(Wr&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ke&&ke.parentNode&&ke.parentNode.removeChild(ke),(mt===Tt||qt&&qt.lastPutMode!=="clone")&&yt&&yt.parentNode&&yt.parentNode.removeChild(yt),pe&&(this.nativeDraggable&&Ye(pe,"dragend",this),qa(pe),pe.style["will-change"]="",Wr&&!Zs&&vt(pe,qt?qt.options.ghostClass:this.options.ghostClass,!1),vt(pe,this.options.chosenClass,!1),rn({sortable:this,name:"unchoose",toEl:Tt,newIndex:null,newDraggableIndex:null,originalEvent:e}),mt!==Tt?(Tn>=0&&(rn({rootEl:Tt,name:"add",toEl:Tt,fromEl:mt,originalEvent:e}),rn({sortable:this,name:"remove",toEl:Tt,originalEvent:e}),rn({rootEl:Tt,name:"sort",toEl:Tt,fromEl:mt,originalEvent:e}),rn({sortable:this,name:"sort",toEl:Tt,originalEvent:e})),qt&&qt.save()):Tn!==er&&Tn>=0&&(rn({sortable:this,name:"update",toEl:Tt,originalEvent:e}),rn({sortable:this,name:"sort",toEl:Tt,originalEvent:e})),Oe.active&&((Tn==null||Tn===-1)&&(Tn=er,Xi=Qr),rn({sortable:this,name:"end",toEl:Tt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){fn("nulling",this),mt=pe=Tt=ke=fs=yt=Wo=Zi=us=Wn=Wr=Tn=Xi=er=Qr=Ys=Jr=qt=No=Oe.dragged=Oe.ghost=Oe.clone=Oe.active=null,sa.forEach(function(e){e.checked=!0}),sa.length=za=Va=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":pe&&(this._onDragOver(e),hy(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,r=0,l=i.length,c=this.options;r<l;r++)n=i[r],kn(n,c.draggable,this.el,!1)&&e.push(n.getAttribute(c.dataIdAttr)||Ey(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(l,c){var d=r.children[c];kn(d,this.options.draggable,r,!1)&&(i[l]=d)},this),n&&this.captureAnimationState(),e.forEach(function(l){i[l]&&(r.removeChild(i[l]),r.appendChild(i[l]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return kn(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var r=so.modifyOption(this,e,n);typeof r<"u"?i[e]=r:i[e]=n,e==="group"&&pd(i)},destroy:function(){fn("destroy",this);var e=this.el;e[jt]=null,Ye(e,"mousedown",this._onTapStart),Ye(e,"touchstart",this._onTapStart),Ye(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ye(e,"dragover",this),Ye(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ia.splice(ia.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Zi){if(fn("hideClone",this),Oe.eventCanceled)return;we(yt,"display","none"),this.options.removeCloneOnHide&&yt.parentNode&&yt.parentNode.removeChild(yt),Zi=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Zi){if(fn("showClone",this),Oe.eventCanceled)return;pe.parentNode==mt&&!this.options.group.revertClone?mt.insertBefore(yt,pe):fs?mt.insertBefore(yt,fs):mt.appendChild(yt),this.options.group.revertClone&&this.animate(pe,yt),we(yt,"display",""),Zi=!1}}};function hy(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function $o(t,e,n,i,r,l,c,d){var p,v=t[jt],_=v.options.onMove,I;return window.CustomEvent&&!Li&&!io?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=e,p.from=t,p.dragged=n,p.draggedRect=i,p.related=r||e,p.relatedRect=l||gt(e),p.willInsertAfter=d,p.originalEvent=c,t.dispatchEvent(p),_&&(I=_.call(v,p,c)),I}function qa(t){t.draggable=!1}function py(){fl=!1}function gy(t,e,n){var i=gt(or(n.el,0,n.options,!0)),r=dd(n.el,n.options,ke),l=10;return e?t.clientX<r.left-l||t.clientY<i.top&&t.clientX<i.right:t.clientY<r.top-l||t.clientY<i.bottom&&t.clientX<i.left}function my(t,e,n){var i=gt(Rl(n.el,n.options.draggable)),r=dd(n.el,n.options,ke),l=10;return e?t.clientX>r.right+l||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>r.bottom+l||t.clientX>i.right&&t.clientY>i.top}function yy(t,e,n,i,r,l,c,d){var p=i?t.clientY:t.clientX,v=i?n.height:n.width,_=i?n.top:n.left,I=i?n.bottom:n.right,D=!1;if(!c){if(d&&qo<v*r){if(!eo&&(Jr===1?p>_+v*l/2:p<I-v*l/2)&&(eo=!0),eo)D=!0;else if(Jr===1?p<_+qo:p>I-qo)return-Jr}else if(p>_+v*(1-r)/2&&p<I-v*(1-r)/2)return vy(e)}return D=D||c,D&&(p<_+v*l/2||p>I-v*l/2)?p>_+v/2?1:-1:0}function vy(t){return wt(pe)<wt(t)?1:-1}function Ey(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function _y(t){sa.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&sa.push(i)}}function jo(t){return setTimeout(t,0)}function hl(t){return clearTimeout(t)}ha&&Ke(document,"touchmove",function(t){(Oe.active||Zs)&&t.cancelable&&t.preventDefault()});Oe.utils={on:Ke,off:Ye,css:we,find:ld,is:function(e,n){return!!kn(e,n,e,!1)},extend:iy,throttle:cd,closest:kn,toggleClass:vt,clone:Pl,index:wt,nextTick:jo,cancelNextTick:hl,detectDirection:hd,getChild:or,expando:jt};Oe.get=function(t){return t[jt]};Oe.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Oe.utils=fi(fi({},Oe.utils),i.utils)),so.mount(i)})};Oe.create=function(t,e){return new Oe(t,e)};Oe.version=ty;var Lt=[],qr,pl,gl=!1,ja,Ya,ra,jr;function by(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?Ke(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ke(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Ke(document,"touchmove",this._handleFallbackAutoScroll):Ke(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):(Ye(document,"pointermove",this._handleFallbackAutoScroll),Ye(document,"touchmove",this._handleFallbackAutoScroll),Ye(document,"mousemove",this._handleFallbackAutoScroll)),Qc(),Yo(),sy()},nulling:function(){ra=pl=qr=gl=jr=ja=Ya=null,Lt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,l=(n.touches?n.touches[0]:n).clientX,c=(n.touches?n.touches[0]:n).clientY,d=document.elementFromPoint(l,c);if(ra=n,i||this.options.forceAutoScrollFallback||io||Li||Zr){Xa(n,this.options,d,i);var p=Ki(d,!0);gl&&(!jr||l!==ja||c!==Ya)&&(jr&&Qc(),jr=setInterval(function(){var v=Ki(document.elementFromPoint(l,c),!0);v!==p&&(p=v,Yo()),Xa(n,r.options,v,i)},10),ja=l,Ya=c)}else{if(!this.options.bubbleScroll||Ki(d,!0)===di()){Yo();return}Xa(n,this.options,Ki(d,!1),!1)}}},Gn(t,{pluginName:"scroll",initializeByDefault:!0})}function Yo(){Lt.forEach(function(t){clearInterval(t.pid)}),Lt=[]}function Qc(){clearInterval(jr)}var Xa=cd(function(t,e,n,i){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,c=e.scrollSensitivity,d=e.scrollSpeed,p=di(),v=!1,_;pl!==n&&(pl=n,Yo(),qr=e.scroll,_=e.scrollFn,qr===!0&&(qr=Ki(n,!0)));var I=0,D=qr;do{var O=D,T=gt(O),x=T.top,P=T.bottom,G=T.left,M=T.right,H=T.width,z=T.height,J=void 0,ee=void 0,f=O.scrollWidth,te=O.scrollHeight,U=we(O),Y=O.scrollLeft,ae=O.scrollTop;O===p?(J=H<f&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),ee=z<te&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(J=H<f&&(U.overflowX==="auto"||U.overflowX==="scroll"),ee=z<te&&(U.overflowY==="auto"||U.overflowY==="scroll"));var he=J&&(Math.abs(M-r)<=c&&Y+H<f)-(Math.abs(G-r)<=c&&!!Y),le=ee&&(Math.abs(P-l)<=c&&ae+z<te)-(Math.abs(x-l)<=c&&!!ae);if(!Lt[I])for(var ne=0;ne<=I;ne++)Lt[ne]||(Lt[ne]={});(Lt[I].vx!=he||Lt[I].vy!=le||Lt[I].el!==O)&&(Lt[I].el=O,Lt[I].vx=he,Lt[I].vy=le,clearInterval(Lt[I].pid),(he!=0||le!=0)&&(v=!0,Lt[I].pid=setInterval((function(){i&&this.layer===0&&Oe.active._onTouchMove(ra);var xe=Lt[this.layer].vy?Lt[this.layer].vy*d:0,Q=Lt[this.layer].vx?Lt[this.layer].vx*d:0;typeof _=="function"&&_.call(Oe.dragged.parentNode[jt],Q,xe,t,ra,Lt[this.layer].el)!=="continue"||ud(Lt[this.layer].el,Q,xe)}).bind({layer:I}),24))),I++}while(e.bubbleScroll&&D!==p&&(D=Ki(D,!1)));gl=v}},30),yd=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,l=e.activeSortable,c=e.dispatchSortableEvent,d=e.hideGhostForTarget,p=e.unhideGhostForTarget;if(n){var v=i||l;d();var _=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,I=document.elementFromPoint(_.clientX,_.clientY);p(),v&&!v.el.contains(I)&&(c("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Ll(){}Ll.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=or(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:yd};Gn(Ll,{pluginName:"revertOnSpill"});function Ml(){}Ml.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:yd};Gn(Ml,{pluginName:"removeOnSpill"});var Fn;function Ty(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var i=n.dragEl;Fn=i},dragOverValid:function(n){var i=n.completed,r=n.target,l=n.onMove,c=n.activeSortable,d=n.changed,p=n.cancel;if(c.options.swap){var v=this.sortable.el,_=this.options;if(r&&r!==v){var I=Fn;l(r)!==!1?(vt(r,_.swapClass,!0),Fn=r):Fn=null,I&&I!==Fn&&vt(I,_.swapClass,!1)}d(),i(!0),p()}},drop:function(n){var i=n.activeSortable,r=n.putSortable,l=n.dragEl,c=r||this.sortable,d=this.options;Fn&&vt(Fn,d.swapClass,!1),Fn&&(d.swap||r&&r.options.swap)&&l!==Fn&&(c.captureAnimationState(),c!==i&&i.captureAnimationState(),wy(l,Fn),c.animateAll(),c!==i&&i.animateAll())},nulling:function(){Fn=null}},Gn(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Fn}}})}function wy(t,e){var n=t.parentNode,i=e.parentNode,r,l;!n||!i||n.isEqualNode(e)||i.isEqualNode(t)||(r=wt(t),l=wt(e),n.isEqualNode(i)&&r<l&&l++,n.insertBefore(e,n.children[r]),i.insertBefore(t,i.children[l]))}var Fe=[],bn=[],Hr,qn,Ur=!1,hn=!1,Xs=!1,dt,zr,Go;function Iy(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?Ke(document,"pointerup",this._deselectMultiDrag):(Ke(document,"mouseup",this._deselectMultiDrag),Ke(document,"touchend",this._deselectMultiDrag))),Ke(document,"keydown",this._checkKeyDown),Ke(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(r,l){var c="";Fe.length&&qn===e?Fe.forEach(function(d,p){c+=(p?", ":"")+d.textContent}):c=l.textContent,r.setData("Text",c)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var i=n.dragEl;dt=i},delayEnded:function(){this.isMultiDrag=~Fe.indexOf(dt)},setupClone:function(n){var i=n.sortable,r=n.cancel;if(this.isMultiDrag){for(var l=0;l<Fe.length;l++)bn.push(Pl(Fe[l])),bn[l].sortableIndex=Fe[l].sortableIndex,bn[l].draggable=!1,bn[l].style["will-change"]="",vt(bn[l],this.options.selectedClass,!1),Fe[l]===dt&&vt(bn[l],this.options.chosenClass,!1);i._hideClone(),r()}},clone:function(n){var i=n.sortable,r=n.rootEl,l=n.dispatchSortableEvent,c=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Fe.length&&qn===i&&(Jc(!0,r),l("clone"),c()))},showClone:function(n){var i=n.cloneNowShown,r=n.rootEl,l=n.cancel;this.isMultiDrag&&(Jc(!1,r),bn.forEach(function(c){we(c,"display","")}),i(),Go=!1,l())},hideClone:function(n){var i=this;n.sortable;var r=n.cloneNowHidden,l=n.cancel;this.isMultiDrag&&(bn.forEach(function(c){we(c,"display","none"),i.options.removeCloneOnHide&&c.parentNode&&c.parentNode.removeChild(c)}),r(),Go=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&qn&&qn.multiDrag._deselectMultiDrag(),Fe.forEach(function(i){i.sortableIndex=wt(i)}),Fe=Fe.sort(function(i,r){return i.sortableIndex-r.sortableIndex}),Xs=!0},dragStarted:function(n){var i=this,r=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){Fe.forEach(function(c){c!==dt&&we(c,"position","absolute")});var l=gt(dt,!1,!0,!0);Fe.forEach(function(c){c!==dt&&Yc(c,l)}),hn=!0,Ur=!0}r.animateAll(function(){hn=!1,Ur=!1,i.options.animation&&Fe.forEach(function(c){Ha(c)}),i.options.sort&&Bo()})}},dragOver:function(n){var i=n.target,r=n.completed,l=n.cancel;hn&&~Fe.indexOf(i)&&(r(!1),l())},revert:function(n){var i=n.fromSortable,r=n.rootEl,l=n.sortable,c=n.dragRect;Fe.length>1&&(Fe.forEach(function(d){l.addAnimationState({target:d,rect:hn?gt(d):c}),Ha(d),d.fromRect=c,i.removeAnimationState(d)}),hn=!1,Sy(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(n){var i=n.sortable,r=n.isOwner,l=n.insertion,c=n.activeSortable,d=n.parentEl,p=n.putSortable,v=this.options;if(l){if(r&&c._hideClone(),Ur=!1,v.animation&&Fe.length>1&&(hn||!r&&!c.options.sort&&!p)){var _=gt(dt,!1,!0,!0);Fe.forEach(function(D){D!==dt&&(Yc(D,_),d.appendChild(D))}),hn=!0}if(!r)if(hn||Bo(),Fe.length>1){var I=Go;c._showClone(i),c.options.animation&&!Go&&I&&bn.forEach(function(D){c.addAnimationState({target:D,rect:zr}),D.fromRect=zr,D.thisAnimationDuration=null})}else c._showClone(i)}},dragOverAnimationCapture:function(n){var i=n.dragRect,r=n.isOwner,l=n.activeSortable;if(Fe.forEach(function(d){d.thisAnimationDuration=null}),l.options.animation&&!r&&l.multiDrag.isMultiDrag){zr=Gn({},i);var c=_s(dt,!0);zr.top-=c.f,zr.left-=c.e}},dragOverAnimationComplete:function(){hn&&(hn=!1,Bo())},drop:function(n){var i=n.originalEvent,r=n.rootEl,l=n.parentEl,c=n.sortable,d=n.dispatchSortableEvent,p=n.oldIndex,v=n.putSortable,_=v||this.sortable;if(i){var I=this.options,D=l.children;if(!Xs)if(I.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),vt(dt,I.selectedClass,!~Fe.indexOf(dt)),~Fe.indexOf(dt))Fe.splice(Fe.indexOf(dt),1),Hr=null,Vr({sortable:c,rootEl:r,name:"deselect",targetEl:dt,originalEvent:i});else{if(Fe.push(dt),Vr({sortable:c,rootEl:r,name:"select",targetEl:dt,originalEvent:i}),i.shiftKey&&Hr&&c.el.contains(Hr)){var O=wt(Hr),T=wt(dt);if(~O&&~T&&O!==T){var x,P;for(T>O?(P=O,x=T):(P=T,x=O+1);P<x;P++)~Fe.indexOf(D[P])||(vt(D[P],I.selectedClass,!0),Fe.push(D[P]),Vr({sortable:c,rootEl:r,name:"select",targetEl:D[P],originalEvent:i}))}}else Hr=dt;qn=_}if(Xs&&this.isMultiDrag){if(hn=!1,(l[jt].options.sort||l!==r)&&Fe.length>1){var G=gt(dt),M=wt(dt,":not(."+this.options.selectedClass+")");if(!Ur&&I.animation&&(dt.thisAnimationDuration=null),_.captureAnimationState(),!Ur&&(I.animation&&(dt.fromRect=G,Fe.forEach(function(z){if(z.thisAnimationDuration=null,z!==dt){var J=hn?gt(z):G;z.fromRect=J,_.addAnimationState({target:z,rect:J})}})),Bo(),Fe.forEach(function(z){D[M]?l.insertBefore(z,D[M]):l.appendChild(z),M++}),p===wt(dt))){var H=!1;Fe.forEach(function(z){if(z.sortableIndex!==wt(z)){H=!0;return}}),H&&(d("update"),d("sort"))}Fe.forEach(function(z){Ha(z)}),_.animateAll()}qn=_}(r===l||v&&v.lastPutMode!=="clone")&&bn.forEach(function(z){z.parentNode&&z.parentNode.removeChild(z)})}},nullingGlobal:function(){this.isMultiDrag=Xs=!1,bn.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ye(document,"pointerup",this._deselectMultiDrag),Ye(document,"mouseup",this._deselectMultiDrag),Ye(document,"touchend",this._deselectMultiDrag),Ye(document,"keydown",this._checkKeyDown),Ye(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Xs<"u"&&Xs)&&qn===this.sortable&&!(n&&kn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Fe.length;){var i=Fe[0];vt(i,this.options.selectedClass,!1),Fe.shift(),Vr({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Gn(t,{pluginName:"multiDrag",utils:{select:function(n){var i=n.parentNode[jt];!i||!i.options.multiDrag||~Fe.indexOf(n)||(qn&&qn!==i&&(qn.multiDrag._deselectMultiDrag(),qn=i),vt(n,i.options.selectedClass,!0),Fe.push(n))},deselect:function(n){var i=n.parentNode[jt],r=Fe.indexOf(n);!i||!i.options.multiDrag||!~r||(vt(n,i.options.selectedClass,!1),Fe.splice(r,1))}},eventProperties:function(){var n=this,i=[],r=[];return Fe.forEach(function(l){i.push({multiDragElement:l,index:l.sortableIndex});var c;hn&&l!==dt?c=-1:hn?c=wt(l,":not(."+n.options.selectedClass+")"):c=wt(l),r.push({multiDragElement:l,index:c})}),{items:Zm(Fe),clones:[].concat(bn),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Sy(t,e){Fe.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function Jc(t,e){bn.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function Bo(){Fe.forEach(function(t){t!==dt&&t.parentNode&&t.parentNode.removeChild(t)})}Oe.mount(new by);Oe.mount(Ml,Ll);Oe.mount(new Ty);Oe.mount(new Iy);/*!
  * Bootstrap v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t="transitionend",e=E=>{let a=E.getAttribute("data-bs-target");if(!a||a==="#"){let g=E.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),a=g&&g!=="#"?g.trim():null}return a},n=E=>{const a=e(E);return a&&document.querySelector(a)?a:null},i=E=>{const a=e(E);return a?document.querySelector(a):null},r=E=>{E.dispatchEvent(new Event(t))},l=E=>!(!E||typeof E!="object")&&(E.jquery!==void 0&&(E=E[0]),E.nodeType!==void 0),c=E=>l(E)?E.jquery?E[0]:E:typeof E=="string"&&E.length>0?document.querySelector(E):null,d=E=>{if(!l(E)||E.getClientRects().length===0)return!1;const a=getComputedStyle(E).getPropertyValue("visibility")==="visible",g=E.closest("details:not([open])");if(!g)return a;if(g!==E){const w=E.closest("summary");if(w&&w.parentNode!==g||w===null)return!1}return a},p=E=>!E||E.nodeType!==Node.ELEMENT_NODE||!!E.classList.contains("disabled")||(E.disabled!==void 0?E.disabled:E.hasAttribute("disabled")&&E.getAttribute("disabled")!=="false"),v=E=>{if(!document.documentElement.attachShadow)return null;if(typeof E.getRootNode=="function"){const a=E.getRootNode();return a instanceof ShadowRoot?a:null}return E instanceof ShadowRoot?E:E.parentNode?v(E.parentNode):null},_=()=>{},I=E=>{E.offsetHeight},D=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,O=[],T=()=>document.documentElement.dir==="rtl",x=E=>{var a;a=()=>{const g=D();if(g){const w=E.NAME,k=g.fn[w];g.fn[w]=E.jQueryInterface,g.fn[w].Constructor=E,g.fn[w].noConflict=()=>(g.fn[w]=k,E.jQueryInterface)}},document.readyState==="loading"?(O.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of O)g()}),O.push(a)):a()},P=E=>{typeof E=="function"&&E()},G=(E,a,g=!0)=>{if(!g)return void P(E);const w=(X=>{if(!X)return 0;let{transitionDuration:re,transitionDelay:fe}=window.getComputedStyle(X);const Ee=Number.parseFloat(re),_e=Number.parseFloat(fe);return Ee||_e?(re=re.split(",")[0],fe=fe.split(",")[0],1e3*(Number.parseFloat(re)+Number.parseFloat(fe))):0})(a)+5;let k=!1;const B=({target:X})=>{X===a&&(k=!0,a.removeEventListener(t,B),P(E))};a.addEventListener(t,B),setTimeout(()=>{k||r(a)},w)},M=(E,a,g,w)=>{const k=E.length;let B=E.indexOf(a);return B===-1?!g&&w?E[k-1]:E[0]:(B+=g?1:-1,w&&(B=(B+k)%k),E[Math.max(0,Math.min(B,k-1))])},H=/[^.]*(?=\..*)\.|.*/,z=/\..*/,J=/::\d+$/,ee={};let f=1;const te={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Y(E,a){return a&&`${a}::${f++}`||E.uidEvent||f++}function ae(E){const a=Y(E);return E.uidEvent=a,ee[a]=ee[a]||{},ee[a]}function he(E,a,g=null){return Object.values(E).find(w=>w.callable===a&&w.delegationSelector===g)}function le(E,a,g){const w=typeof a=="string",k=w?g:a||g;let B=se(E);return U.has(B)||(B=E),[w,k,B]}function ne(E,a,g,w,k){if(typeof a!="string"||!E)return;let[B,X,re]=le(a,g,w);a in te&&(X=(Me=>function(Le){if(!Le.relatedTarget||Le.relatedTarget!==Le.delegateTarget&&!Le.delegateTarget.contains(Le.relatedTarget))return Me.call(this,Le)})(X));const fe=ae(E),Ee=fe[re]||(fe[re]={}),_e=he(Ee,X,B?g:null);if(_e)return void(_e.oneOff=_e.oneOff&&k);const ve=Y(X,a.replace(H,"")),Ve=B?function(Ae,Me,Le){return function Ne(at){const ut=Ae.querySelectorAll(Me);for(let{target:je}=at;je&&je!==this;je=je.parentNode)for(const nt of ut)if(nt===je)return C(at,{delegateTarget:je}),Ne.oneOff&&N.off(Ae,at.type,Me,Le),Le.apply(je,[at])}}(E,g,X):function(Ae,Me){return function Le(Ne){return C(Ne,{delegateTarget:Ae}),Le.oneOff&&N.off(Ae,Ne.type,Me),Me.apply(Ae,[Ne])}}(E,X);Ve.delegationSelector=B?g:null,Ve.callable=X,Ve.oneOff=k,Ve.uidEvent=ve,Ee[ve]=Ve,E.addEventListener(re,Ve,B)}function xe(E,a,g,w,k){const B=he(a[g],w,k);B&&(E.removeEventListener(g,B,!!k),delete a[g][B.uidEvent])}function Q(E,a,g,w){const k=a[g]||{};for(const B of Object.keys(k))if(B.includes(w)){const X=k[B];xe(E,a,g,X.callable,X.delegationSelector)}}function se(E){return E=E.replace(z,""),te[E]||E}const N={on(E,a,g,w){ne(E,a,g,w,!1)},one(E,a,g,w){ne(E,a,g,w,!0)},off(E,a,g,w){if(typeof a!="string"||!E)return;const[k,B,X]=le(a,g,w),re=X!==a,fe=ae(E),Ee=fe[X]||{},_e=a.startsWith(".");if(B===void 0){if(_e)for(const ve of Object.keys(fe))Q(E,fe,ve,a.slice(1));for(const ve of Object.keys(Ee)){const Ve=ve.replace(J,"");if(!re||a.includes(Ve)){const Ae=Ee[ve];xe(E,fe,X,Ae.callable,Ae.delegationSelector)}}}else{if(!Object.keys(Ee).length)return;xe(E,fe,X,B,k?g:null)}},trigger(E,a,g){if(typeof a!="string"||!E)return null;const w=D();let k=null,B=!0,X=!0,re=!1;a!==se(a)&&w&&(k=w.Event(a,g),w(E).trigger(k),B=!k.isPropagationStopped(),X=!k.isImmediatePropagationStopped(),re=k.isDefaultPrevented());let fe=new Event(a,{bubbles:B,cancelable:!0});return fe=C(fe,g),re&&fe.preventDefault(),X&&E.dispatchEvent(fe),fe.defaultPrevented&&k&&k.preventDefault(),fe}};function C(E,a){for(const[g,w]of Object.entries(a||{}))try{E[g]=w}catch{Object.defineProperty(E,g,{configurable:!0,get:()=>w})}return E}const ie=new Map,de={set(E,a,g){ie.has(E)||ie.set(E,new Map);const w=ie.get(E);w.has(a)||w.size===0?w.set(a,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(E,a)=>ie.has(E)&&ie.get(E).get(a)||null,remove(E,a){if(!ie.has(E))return;const g=ie.get(E);g.delete(a),g.size===0&&ie.delete(E)}};function ge(E){if(E==="true")return!0;if(E==="false")return!1;if(E===Number(E).toString())return Number(E);if(E===""||E==="null")return null;if(typeof E!="string")return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function it(E){return E.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const et={setDataAttribute(E,a,g){E.setAttribute(`data-bs-${it(a)}`,g)},removeDataAttribute(E,a){E.removeAttribute(`data-bs-${it(a)}`)},getDataAttributes(E){if(!E)return{};const a={},g=Object.keys(E.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of g){let k=w.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1,k.length),a[k]=ge(E.dataset[w])}return a},getDataAttribute:(E,a)=>ge(E.getAttribute(`data-bs-${it(a)}`))};class Yt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,g){const w=l(g)?et.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...l(g)?et.getDataAttributes(g):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,g=this.constructor.DefaultType){for(const k of Object.keys(g)){const B=g[k],X=a[k],re=l(X)?"element":(w=X)==null?`${w}`:Object.prototype.toString.call(w).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(B).test(re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${k}" provided type "${re}" but expected type "${B}".`)}var w}}class Ce extends Yt{constructor(a,g){super(),(a=c(a))&&(this._element=a,this._config=this._getConfig(g),de.set(this._element,this.constructor.DATA_KEY,this))}dispose(){de.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,g,w=!0){G(a,g,w)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return de.get(c(a),this.DATA_KEY)}static getOrCreateInstance(a,g={}){return this.getInstance(a)||new this(a,typeof g=="object"?g:null)}static get VERSION(){return"5.2.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const ft=(E,a="hide")=>{const g=`click.dismiss${E.EVENT_KEY}`,w=E.NAME;N.on(document,g,`[data-bs-dismiss="${w}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),p(this))return;const B=i(this)||this.closest(`.${w}`);E.getOrCreateInstance(B)[a]()})};class Nt extends Ce{static get NAME(){return"alert"}close(){if(N.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),N.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(a){return this.each(function(){const g=Nt.getOrCreateInstance(this);if(typeof a=="string"){if(g[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);g[a](this)}})}}ft(Nt,"close"),x(Nt);const cn='[data-bs-toggle="button"]';class Je extends Ce{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const g=Je.getOrCreateInstance(this);a==="toggle"&&g[a]()})}}N.on(document,"click.bs.button.data-api",cn,E=>{E.preventDefault();const a=E.target.closest(cn);Je.getOrCreateInstance(a).toggle()}),x(Je);const Pe={find:(E,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,E)),findOne:(E,a=document.documentElement)=>Element.prototype.querySelector.call(a,E),children:(E,a)=>[].concat(...E.children).filter(g=>g.matches(a)),parents(E,a){const g=[];let w=E.parentNode.closest(a);for(;w;)g.push(w),w=w.parentNode.closest(a);return g},prev(E,a){let g=E.previousElementSibling;for(;g;){if(g.matches(a))return[g];g=g.previousElementSibling}return[]},next(E,a){let g=E.nextElementSibling;for(;g;){if(g.matches(a))return[g];g=g.nextElementSibling}return[]},focusableChildren(E){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(a,E).filter(g=>!p(g)&&d(g))}},Kn={endCallback:null,leftCallback:null,rightCallback:null},In={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class hi extends Yt{constructor(a,g){super(),this._element=a,a&&hi.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Kn}static get DefaultType(){return In}static get NAME(){return"swipe"}dispose(){N.off(this._element,".bs.swipe")}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),P(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const g=a/this._deltaX;this._deltaX=0,g&&P(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,"pointerdown.bs.swipe",a=>this._start(a)),N.on(this._element,"pointerup.bs.swipe",a=>this._end(a)),this._element.classList.add("pointer-event")):(N.on(this._element,"touchstart.bs.swipe",a=>this._start(a)),N.on(this._element,"touchmove.bs.swipe",a=>this._move(a)),N.on(this._element,"touchend.bs.swipe",a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const pi="next",Sn="prev",Ge="left",Ft="right",Ji="slid.bs.carousel",ws="carousel",Is="active",xn={ArrowLeft:Ft,ArrowRight:Ge},es={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ts={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class be extends Ce{constructor(a,g){super(a,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ws&&this.cycle()}static get Default(){return es}static get DefaultType(){return ts}static get NAME(){return"carousel"}next(){this._slide(pi)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Sn)}pause(){this._isSliding&&r(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,Ji,()=>this.cycle()):this.cycle())}to(a){const g=this._getItems();if(a>g.length-1||a<0)return;if(this._isSliding)return void N.one(this._element,Ji,()=>this.to(a));const w=this._getItemIndex(this._getActive());if(w===a)return;const k=a>w?pi:Sn;this._slide(k,g[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&N.on(this._element,"keydown.bs.carousel",a=>this._keydown(a)),this._config.pause==="hover"&&(N.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),N.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&hi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Pe.find(".carousel-item img",this._element))N.on(g,"dragstart.bs.carousel",w=>w.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(Ge)),rightCallback:()=>this._slide(this._directionToOrder(Ft)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new hi(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const g=xn[a.key];g&&(a.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const g=Pe.findOne(".active",this._indicatorsElement);g.classList.remove(Is),g.removeAttribute("aria-current");const w=Pe.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);w&&(w.classList.add(Is),w.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const g=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(a,g=null){if(this._isSliding)return;const w=this._getActive(),k=a===pi,B=g||M(this._getItems(),w,k,this._config.wrap);if(B===w)return;const X=this._getItemIndex(B),re=ve=>N.trigger(this._element,ve,{relatedTarget:B,direction:this._orderToDirection(a),from:this._getItemIndex(w),to:X});if(re("slide.bs.carousel").defaultPrevented||!w||!B)return;const fe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(X),this._activeElement=B;const Ee=k?"carousel-item-start":"carousel-item-end",_e=k?"carousel-item-next":"carousel-item-prev";B.classList.add(_e),I(B),w.classList.add(Ee),B.classList.add(Ee),this._queueCallback(()=>{B.classList.remove(Ee,_e),B.classList.add(Is),w.classList.remove(Is,_e,Ee),this._isSliding=!1,re(Ji)},w,this._isAnimated()),fe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pe.findOne(".active.carousel-item",this._element)}_getItems(){return Pe.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return T()?a===Ge?Sn:pi:a===Ge?pi:Sn}_orderToDirection(a){return T()?a===Sn?Ge:Ft:a===Sn?Ft:Ge}static jQueryInterface(a){return this.each(function(){const g=be.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(g[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);g[a]()}}else g.to(a)})}}N.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(E){const a=i(this);if(!a||!a.classList.contains(ws))return;E.preventDefault();const g=be.getOrCreateInstance(a),w=this.getAttribute("data-bs-slide-to");return w?(g.to(w),void g._maybeEnableCycle()):et.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),N.on(window,"load.bs.carousel.data-api",()=>{const E=Pe.find('[data-bs-ride="carousel"]');for(const a of E)be.getOrCreateInstance(a)}),x(be);const Gt="show",Ss="collapse",xs="collapsing",lr='[data-bs-toggle="collapse"]',ro={parent:null,toggle:!0},oo={parent:"(null|element)",toggle:"boolean"};class Cn extends Ce{constructor(a,g){super(a,g),this._isTransitioning=!1,this._triggerArray=[];const w=Pe.find(lr);for(const k of w){const B=n(k),X=Pe.find(B).filter(re=>re===this._element);B!==null&&X.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ro}static get DefaultType(){return oo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>Cn.getOrCreateInstance(k,{toggle:!1}))),a.length&&a[0]._isTransitioning||N.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const k of a)k.hide();const g=this._getDimension();this._element.classList.remove(Ss),this._element.classList.add(xs),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xs),this._element.classList.add(Ss,Gt),this._element.style[g]="",N.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[g]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,I(this._element),this._element.classList.add(xs),this._element.classList.remove(Ss,Gt);for(const g of this._triggerArray){const w=i(g);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xs),this._element.classList.add(Ss),N.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(a=this._element){return a.classList.contains(Gt)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=c(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(lr);for(const g of a){const w=i(g);w&&this._addAriaAndCollapsedClass([g],this._isShown(w))}}_getFirstLevelChildren(a){const g=Pe.find(":scope .collapse .collapse",this._config.parent);return Pe.find(a,this._config.parent).filter(w=>!g.includes(w))}_addAriaAndCollapsedClass(a,g){if(a.length)for(const w of a)w.classList.toggle("collapsed",!g),w.setAttribute("aria-expanded",g)}static jQueryInterface(a){const g={};return typeof a=="string"&&/show|hide/.test(a)&&(g.toggle=!1),this.each(function(){const w=Cn.getOrCreateInstance(this,g);if(typeof a=="string"){if(w[a]===void 0)throw new TypeError(`No method named "${a}"`);w[a]()}})}}N.on(document,"click.bs.collapse.data-api",lr,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();const a=n(this),g=Pe.find(a);for(const w of g)Cn.getOrCreateInstance(w,{toggle:!1}).toggle()}),x(Cn);var ht="top",St="bottom",Dt="right",zt="left",gi="auto",mi=[ht,St,Dt,zt],Qn="start",Mi="end",yi="clippingParents",vi="viewport",Ei="popper",cr="reference",Xt=mi.reduce(function(E,a){return E.concat([a+"-"+Qn,a+"-"+Mi])},[]),Bt=[].concat(mi,[gi]).reduce(function(E,a){return E.concat([a,a+"-"+Qn,a+"-"+Mi])},[]),Cs="beforeRead",ao="read",ur="afterRead",dr="beforeMain",_i="main",bi="afterMain",As="beforeWrite",ns="write",lo="afterWrite",co=[Cs,ao,ur,dr,_i,bi,As,ns,lo];function An(E){return E?(E.nodeName||"").toLowerCase():null}function Qt(E){if(E==null)return window;if(E.toString()!=="[object Window]"){var a=E.ownerDocument;return a&&a.defaultView||window}return E}function Ti(E){return E instanceof Qt(E).Element||E instanceof Element}function un(E){return E instanceof Qt(E).HTMLElement||E instanceof HTMLElement}function Os(E){return typeof ShadowRoot<"u"&&(E instanceof Qt(E).ShadowRoot||E instanceof ShadowRoot)}const fr={name:"applyStyles",enabled:!0,phase:"write",fn:function(E){var a=E.state;Object.keys(a.elements).forEach(function(g){var w=a.styles[g]||{},k=a.attributes[g]||{},B=a.elements[g];un(B)&&An(B)&&(Object.assign(B.style,w),Object.keys(k).forEach(function(X){var re=k[X];re===!1?B.removeAttribute(X):B.setAttribute(X,re===!0?"":re)}))})},effect:function(E){var a=E.state,g={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,g.popper),a.styles=g,a.elements.arrow&&Object.assign(a.elements.arrow.style,g.arrow),function(){Object.keys(a.elements).forEach(function(w){var k=a.elements[w],B=a.attributes[w]||{},X=Object.keys(a.styles.hasOwnProperty(w)?a.styles[w]:g[w]).reduce(function(re,fe){return re[fe]="",re},{});un(k)&&An(k)&&(Object.assign(k.style,X),Object.keys(B).forEach(function(re){k.removeAttribute(re)}))})}},requires:["computeStyles"]};function Vt(E){return E.split("-")[0]}var Jn=Math.max,Ni=Math.min,ei=Math.round;function Fi(){var E=navigator.userAgentData;return E!=null&&E.brands?E.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function hr(){return!/^((?!chrome|android).)*safari/i.test(Fi())}function ki(E,a,g){a===void 0&&(a=!1),g===void 0&&(g=!1);var w=E.getBoundingClientRect(),k=1,B=1;a&&un(E)&&(k=E.offsetWidth>0&&ei(w.width)/E.offsetWidth||1,B=E.offsetHeight>0&&ei(w.height)/E.offsetHeight||1);var X=(Ti(E)?Qt(E):window).visualViewport,re=!hr()&&g,fe=(w.left+(re&&X?X.offsetLeft:0))/k,Ee=(w.top+(re&&X?X.offsetTop:0))/B,_e=w.width/k,ve=w.height/B;return{width:_e,height:ve,top:Ee,right:fe+_e,bottom:Ee+ve,left:fe,x:fe,y:Ee}}function wi(E){var a=ki(E),g=E.offsetWidth,w=E.offsetHeight;return Math.abs(a.width-g)<=1&&(g=a.width),Math.abs(a.height-w)<=1&&(w=a.height),{x:E.offsetLeft,y:E.offsetTop,width:g,height:w}}function pr(E,a){var g=a.getRootNode&&a.getRootNode();if(E.contains(a))return!0;if(g&&Os(g)){var w=a;do{if(w&&E.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function On(E){return Qt(E).getComputedStyle(E)}function uo(E){return["table","td","th"].indexOf(An(E))>=0}function Bn(E){return((Ti(E)?E.ownerDocument:E.document)||window.document).documentElement}function Ds(E){return An(E)==="html"?E:E.assignedSlot||E.parentNode||(Os(E)?E.host:null)||Bn(E)}function Rs(E){return un(E)&&On(E).position!=="fixed"?E.offsetParent:null}function is(E){for(var a=Qt(E),g=Rs(E);g&&uo(g)&&On(g).position==="static";)g=Rs(g);return g&&(An(g)==="html"||An(g)==="body"&&On(g).position==="static")?a:g||function(w){var k=/firefox/i.test(Fi());if(/Trident/i.test(Fi())&&un(w)&&On(w).position==="fixed")return null;var B=Ds(w);for(Os(B)&&(B=B.host);un(B)&&["html","body"].indexOf(An(B))<0;){var X=On(B);if(X.transform!=="none"||X.perspective!=="none"||X.contain==="paint"||["transform","perspective"].indexOf(X.willChange)!==-1||k&&X.willChange==="filter"||k&&X.filter&&X.filter!=="none")return B;B=B.parentNode}return null}(E)||a}function gr(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function $i(E,a,g){return Jn(E,Ni(a,g))}function mr(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function Ps(E,a){return a.reduce(function(g,w){return g[w]=E,g},{})}const yr={name:"arrow",enabled:!0,phase:"main",fn:function(E){var a,g=E.state,w=E.name,k=E.options,B=g.elements.arrow,X=g.modifiersData.popperOffsets,re=Vt(g.placement),fe=gr(re),Ee=[zt,Dt].indexOf(re)>=0?"height":"width";if(B&&X){var _e=function(lt,rt){return mr(typeof(lt=typeof lt=="function"?lt(Object.assign({},rt.rects,{placement:rt.placement})):lt)!="number"?lt:Ps(lt,mi))}(k.padding,g),ve=wi(B),Ve=fe==="y"?ht:zt,Ae=fe==="y"?St:Dt,Me=g.rects.reference[Ee]+g.rects.reference[fe]-X[fe]-g.rects.popper[Ee],Le=X[fe]-g.rects.reference[fe],Ne=is(B),at=Ne?fe==="y"?Ne.clientHeight||0:Ne.clientWidth||0:0,ut=Me/2-Le/2,je=_e[Ve],nt=at-ve[Ee]-_e[Ae],We=at/2-ve[Ee]/2+ut,Qe=$i(je,We,nt),st=fe;g.modifiersData[w]=((a={})[st]=Qe,a.centerOffset=Qe-We,a)}},effect:function(E){var a=E.state,g=E.options.element,w=g===void 0?"[data-popper-arrow]":g;w!=null&&(typeof w!="string"||(w=a.elements.popper.querySelector(w)))&&pr(a.elements.popper,w)&&(a.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xt(E){return E.split("-")[1]}var Gi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ss(E){var a,g=E.popper,w=E.popperRect,k=E.placement,B=E.variation,X=E.offsets,re=E.position,fe=E.gpuAcceleration,Ee=E.adaptive,_e=E.roundOffsets,ve=E.isFixed,Ve=X.x,Ae=Ve===void 0?0:Ve,Me=X.y,Le=Me===void 0?0:Me,Ne=typeof _e=="function"?_e({x:Ae,y:Le}):{x:Ae,y:Le};Ae=Ne.x,Le=Ne.y;var at=X.hasOwnProperty("x"),ut=X.hasOwnProperty("y"),je=zt,nt=ht,We=window;if(Ee){var Qe=is(g),st="clientHeight",lt="clientWidth";Qe===Qt(g)&&On(Qe=Bn(g)).position!=="static"&&re==="absolute"&&(st="scrollHeight",lt="scrollWidth"),(k===ht||(k===zt||k===Dt)&&B===Mi)&&(nt=St,Le-=(ve&&Qe===We&&We.visualViewport?We.visualViewport.height:Qe[st])-w.height,Le*=fe?1:-1),k!==zt&&(k!==ht&&k!==St||B!==Mi)||(je=Dt,Ae-=(ve&&Qe===We&&We.visualViewport?We.visualViewport.width:Qe[lt])-w.width,Ae*=fe?1:-1)}var rt,Ct=Object.assign({position:re},Ee&&Gi),_n=_e===!0?function(Vn){var en=Vn.x,Rn=Vn.y,tn=window.devicePixelRatio||1;return{x:ei(en*tn)/tn||0,y:ei(Rn*tn)/tn||0}}({x:Ae,y:Le}):{x:Ae,y:Le};return Ae=_n.x,Le=_n.y,fe?Object.assign({},Ct,((rt={})[nt]=ut?"0":"",rt[je]=at?"0":"",rt.transform=(We.devicePixelRatio||1)<=1?"translate("+Ae+"px, "+Le+"px)":"translate3d("+Ae+"px, "+Le+"px, 0)",rt)):Object.assign({},Ct,((a={})[nt]=ut?Le+"px":"",a[je]=at?Ae+"px":"",a.transform="",a))}const vr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(E){var a=E.state,g=E.options,w=g.gpuAcceleration,k=w===void 0||w,B=g.adaptive,X=B===void 0||B,re=g.roundOffsets,fe=re===void 0||re,Ee={placement:Vt(a.placement),variation:xt(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:k,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,ss(Object.assign({},Ee,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:X,roundOffsets:fe})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,ss(Object.assign({},Ee,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fe})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var Ls={passive:!0};const rs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(E){var a=E.state,g=E.instance,w=E.options,k=w.scroll,B=k===void 0||k,X=w.resize,re=X===void 0||X,fe=Qt(a.elements.popper),Ee=[].concat(a.scrollParents.reference,a.scrollParents.popper);return B&&Ee.forEach(function(_e){_e.addEventListener("scroll",g.update,Ls)}),re&&fe.addEventListener("resize",g.update,Ls),function(){B&&Ee.forEach(function(_e){_e.removeEventListener("scroll",g.update,Ls)}),re&&fe.removeEventListener("resize",g.update,Ls)}},data:{}};var fo={left:"right",right:"left",bottom:"top",top:"bottom"};function Ii(E){return E.replace(/left|right|bottom|top/g,function(a){return fo[a]})}var ho={start:"end",end:"start"};function po(E){return E.replace(/start|end/g,function(a){return ho[a]})}function Er(E){var a=Qt(E);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Jt(E){return ki(Bn(E)).left+Er(E).scrollLeft}function Ms(E){var a=On(E),g=a.overflow,w=a.overflowX,k=a.overflowY;return/auto|scroll|overlay|hidden/.test(g+k+w)}function Bi(E){return["html","body","#document"].indexOf(An(E))>=0?E.ownerDocument.body:un(E)&&Ms(E)?E:Bi(Ds(E))}function os(E,a){var g;a===void 0&&(a=[]);var w=Bi(E),k=w===((g=E.ownerDocument)==null?void 0:g.body),B=Qt(w),X=k?[B].concat(B.visualViewport||[],Ms(w)?w:[]):w,re=a.concat(X);return k?re:re.concat(os(Ds(X)))}function _r(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function ti(E,a,g){return a===vi?_r(function(w,k){var B=Qt(w),X=Bn(w),re=B.visualViewport,fe=X.clientWidth,Ee=X.clientHeight,_e=0,ve=0;if(re){fe=re.width,Ee=re.height;var Ve=hr();(Ve||!Ve&&k==="fixed")&&(_e=re.offsetLeft,ve=re.offsetTop)}return{width:fe,height:Ee,x:_e+Jt(w),y:ve}}(E,g)):Ti(a)?function(w,k){var B=ki(w,!1,k==="fixed");return B.top=B.top+w.clientTop,B.left=B.left+w.clientLeft,B.bottom=B.top+w.clientHeight,B.right=B.left+w.clientWidth,B.width=w.clientWidth,B.height=w.clientHeight,B.x=B.left,B.y=B.top,B}(a,g):_r(function(w){var k,B=Bn(w),X=Er(w),re=(k=w.ownerDocument)==null?void 0:k.body,fe=Jn(B.scrollWidth,B.clientWidth,re?re.scrollWidth:0,re?re.clientWidth:0),Ee=Jn(B.scrollHeight,B.clientHeight,re?re.scrollHeight:0,re?re.clientHeight:0),_e=-X.scrollLeft+Jt(w),ve=-X.scrollTop;return On(re||B).direction==="rtl"&&(_e+=Jn(B.clientWidth,re?re.clientWidth:0)-fe),{width:fe,height:Ee,x:_e,y:ve}}(Bn(E)))}function ni(E){var a,g=E.reference,w=E.element,k=E.placement,B=k?Vt(k):null,X=k?xt(k):null,re=g.x+g.width/2-w.width/2,fe=g.y+g.height/2-w.height/2;switch(B){case ht:a={x:re,y:g.y-w.height};break;case St:a={x:re,y:g.y+g.height};break;case Dt:a={x:g.x+g.width,y:fe};break;case zt:a={x:g.x-w.width,y:fe};break;default:a={x:g.x,y:g.y}}var Ee=B?gr(B):null;if(Ee!=null){var _e=Ee==="y"?"height":"width";switch(X){case Qn:a[Ee]=a[Ee]-(g[_e]/2-w[_e]/2);break;case Mi:a[Ee]=a[Ee]+(g[_e]/2-w[_e]/2)}}return a}function ii(E,a){a===void 0&&(a={});var g=a,w=g.placement,k=w===void 0?E.placement:w,B=g.strategy,X=B===void 0?E.strategy:B,re=g.boundary,fe=re===void 0?yi:re,Ee=g.rootBoundary,_e=Ee===void 0?vi:Ee,ve=g.elementContext,Ve=ve===void 0?Ei:ve,Ae=g.altBoundary,Me=Ae!==void 0&&Ae,Le=g.padding,Ne=Le===void 0?0:Le,at=mr(typeof Ne!="number"?Ne:Ps(Ne,mi)),ut=Ve===Ei?cr:Ei,je=E.rects.popper,nt=E.elements[Me?ut:Ve],We=function(en,Rn,tn,Wt){var ai=Rn==="clippingParents"?function(ct){var nn=os(Ds(ct)),Pn=["absolute","fixed"].indexOf(On(ct).position)>=0&&un(ct)?is(ct):ct;return Ti(Pn)?nn.filter(function(ji){return Ti(ji)&&pr(ji,Pn)&&An(ji)!=="body"}):[]}(en):[].concat(Rn),li=[].concat(ai,[tn]),Ws=li[0],Ht=li.reduce(function(ct,nn){var Pn=ti(en,nn,Wt);return ct.top=Jn(Pn.top,ct.top),ct.right=Ni(Pn.right,ct.right),ct.bottom=Ni(Pn.bottom,ct.bottom),ct.left=Jn(Pn.left,ct.left),ct},ti(en,Ws,Wt));return Ht.width=Ht.right-Ht.left,Ht.height=Ht.bottom-Ht.top,Ht.x=Ht.left,Ht.y=Ht.top,Ht}(Ti(nt)?nt:nt.contextElement||Bn(E.elements.popper),fe,_e,X),Qe=ki(E.elements.reference),st=ni({reference:Qe,element:je,strategy:"absolute",placement:k}),lt=_r(Object.assign({},je,st)),rt=Ve===Ei?lt:Qe,Ct={top:We.top-rt.top+at.top,bottom:rt.bottom-We.bottom+at.bottom,left:We.left-rt.left+at.left,right:rt.right-We.right+at.right},_n=E.modifiersData.offset;if(Ve===Ei&&_n){var Vn=_n[k];Object.keys(Ct).forEach(function(en){var Rn=[Dt,St].indexOf(en)>=0?1:-1,tn=[ht,St].indexOf(en)>=0?"y":"x";Ct[en]+=Vn[tn]*Rn})}return Ct}function pa(E,a){a===void 0&&(a={});var g=a,w=g.placement,k=g.boundary,B=g.rootBoundary,X=g.padding,re=g.flipVariations,fe=g.allowedAutoPlacements,Ee=fe===void 0?Bt:fe,_e=xt(w),ve=_e?re?Xt:Xt.filter(function(Me){return xt(Me)===_e}):mi,Ve=ve.filter(function(Me){return Ee.indexOf(Me)>=0});Ve.length===0&&(Ve=ve);var Ae=Ve.reduce(function(Me,Le){return Me[Le]=ii(E,{placement:Le,boundary:k,rootBoundary:B,padding:X})[Vt(Le)],Me},{});return Object.keys(Ae).sort(function(Me,Le){return Ae[Me]-Ae[Le]})}const Hi={name:"flip",enabled:!0,phase:"main",fn:function(E){var a=E.state,g=E.options,w=E.name;if(!a.modifiersData[w]._skip){for(var k=g.mainAxis,B=k===void 0||k,X=g.altAxis,re=X===void 0||X,fe=g.fallbackPlacements,Ee=g.padding,_e=g.boundary,ve=g.rootBoundary,Ve=g.altBoundary,Ae=g.flipVariations,Me=Ae===void 0||Ae,Le=g.allowedAutoPlacements,Ne=a.options.placement,at=Vt(Ne),ut=fe||(at!==Ne&&Me?function(ct){if(Vt(ct)===gi)return[];var nn=Ii(ct);return[po(ct),nn,po(nn)]}(Ne):[Ii(Ne)]),je=[Ne].concat(ut).reduce(function(ct,nn){return ct.concat(Vt(nn)===gi?pa(a,{placement:nn,boundary:_e,rootBoundary:ve,padding:Ee,flipVariations:Me,allowedAutoPlacements:Le}):nn)},[]),nt=a.rects.reference,We=a.rects.popper,Qe=new Map,st=!0,lt=je[0],rt=0;rt<je.length;rt++){var Ct=je[rt],_n=Vt(Ct),Vn=xt(Ct)===Qn,en=[ht,St].indexOf(_n)>=0,Rn=en?"width":"height",tn=ii(a,{placement:Ct,boundary:_e,rootBoundary:ve,altBoundary:Ve,padding:Ee}),Wt=en?Vn?Dt:zt:Vn?St:ht;nt[Rn]>We[Rn]&&(Wt=Ii(Wt));var ai=Ii(Wt),li=[];if(B&&li.push(tn[_n]<=0),re&&li.push(tn[Wt]<=0,tn[ai]<=0),li.every(function(ct){return ct})){lt=Ct,st=!1;break}Qe.set(Ct,li)}if(st)for(var Ws=function(ct){var nn=je.find(function(Pn){var ji=Qe.get(Pn);if(ji)return ji.slice(0,ct).every(function(Io){return Io})});if(nn)return lt=nn,"break"},Ht=Me?3:1;Ht>0&&Ws(Ht)!=="break";Ht--);a.placement!==lt&&(a.modifiersData[w]._skip=!0,a.placement=lt,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function br(E,a,g){return g===void 0&&(g={x:0,y:0}),{top:E.top-a.height-g.y,right:E.right-a.width+g.x,bottom:E.bottom-a.height+g.y,left:E.left-a.width-g.x}}function Ns(E){return[ht,Dt,St,zt].some(function(a){return E[a]>=0})}const Tr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(E){var a=E.state,g=E.name,w=a.rects.reference,k=a.rects.popper,B=a.modifiersData.preventOverflow,X=ii(a,{elementContext:"reference"}),re=ii(a,{altBoundary:!0}),fe=br(X,w),Ee=br(re,k,B),_e=Ns(fe),ve=Ns(Ee);a.modifiersData[g]={referenceClippingOffsets:fe,popperEscapeOffsets:Ee,isReferenceHidden:_e,hasPopperEscaped:ve},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":_e,"data-popper-escaped":ve})}},wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(E){var a=E.state,g=E.options,w=E.name,k=g.offset,B=k===void 0?[0,0]:k,X=Bt.reduce(function(_e,ve){return _e[ve]=function(Ve,Ae,Me){var Le=Vt(Ve),Ne=[zt,ht].indexOf(Le)>=0?-1:1,at=typeof Me=="function"?Me(Object.assign({},Ae,{placement:Ve})):Me,ut=at[0],je=at[1];return ut=ut||0,je=(je||0)*Ne,[zt,Dt].indexOf(Le)>=0?{x:je,y:ut}:{x:ut,y:je}}(ve,a.rects,B),_e},{}),re=X[a.placement],fe=re.x,Ee=re.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=fe,a.modifiersData.popperOffsets.y+=Ee),a.modifiersData[w]=X}},Ir={name:"popperOffsets",enabled:!0,phase:"read",fn:function(E){var a=E.state,g=E.name;a.modifiersData[g]=ni({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},Sr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(E){var a=E.state,g=E.options,w=E.name,k=g.mainAxis,B=k===void 0||k,X=g.altAxis,re=X!==void 0&&X,fe=g.boundary,Ee=g.rootBoundary,_e=g.altBoundary,ve=g.padding,Ve=g.tether,Ae=Ve===void 0||Ve,Me=g.tetherOffset,Le=Me===void 0?0:Me,Ne=ii(a,{boundary:fe,rootBoundary:Ee,padding:ve,altBoundary:_e}),at=Vt(a.placement),ut=xt(a.placement),je=!ut,nt=gr(at),We=nt==="x"?"y":"x",Qe=a.modifiersData.popperOffsets,st=a.rects.reference,lt=a.rects.popper,rt=typeof Le=="function"?Le(Object.assign({},a.rects,{placement:a.placement})):Le,Ct=typeof rt=="number"?{mainAxis:rt,altAxis:rt}:Object.assign({mainAxis:0,altAxis:0},rt),_n=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,Vn={x:0,y:0};if(Qe){if(B){var en,Rn=nt==="y"?ht:zt,tn=nt==="y"?St:Dt,Wt=nt==="y"?"height":"width",ai=Qe[nt],li=ai+Ne[Rn],Ws=ai-Ne[tn],Ht=Ae?-lt[Wt]/2:0,ct=ut===Qn?st[Wt]:lt[Wt],nn=ut===Qn?-lt[Wt]:-st[Wt],Pn=a.elements.arrow,ji=Ae&&Pn?wi(Pn):{width:0,height:0},Io=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Nl=Io[Rn],Fl=Io[tn],So=$i(0,st[Wt],ji[Wt]),vd=je?st[Wt]/2-Ht-So-Nl-Ct.mainAxis:ct-So-Nl-Ct.mainAxis,Ed=je?-st[Wt]/2+Ht+So+Fl+Ct.mainAxis:nn+So+Fl+Ct.mainAxis,Ca=a.elements.arrow&&is(a.elements.arrow),_d=Ca?nt==="y"?Ca.clientTop||0:Ca.clientLeft||0:0,kl=(en=_n==null?void 0:_n[nt])!=null?en:0,bd=ai+Ed-kl,$l=$i(Ae?Ni(li,ai+vd-kl-_d):li,ai,Ae?Jn(Ws,bd):Ws);Qe[nt]=$l,Vn[nt]=$l-ai}if(re){var Gl,Td=nt==="x"?ht:zt,wd=nt==="x"?St:Dt,cs=Qe[We],xo=We==="y"?"height":"width",Bl=cs+Ne[Td],Hl=cs-Ne[wd],Aa=[ht,zt].indexOf(at)!==-1,Ul=(Gl=_n==null?void 0:_n[We])!=null?Gl:0,zl=Aa?Bl:cs-st[xo]-lt[xo]-Ul+Ct.altAxis,Vl=Aa?cs+st[xo]+lt[xo]-Ul-Ct.altAxis:Hl,Wl=Ae&&Aa?function(Id,Sd,Oa){var ql=$i(Id,Sd,Oa);return ql>Oa?Oa:ql}(zl,cs,Vl):$i(Ae?zl:Bl,cs,Ae?Vl:Hl);Qe[We]=Wl,Vn[We]=Wl-cs}a.modifiersData[w]=Vn}},requiresIfExists:["offset"]};function ga(E,a,g){g===void 0&&(g=!1);var w,k,B=un(a),X=un(a)&&function(ve){var Ve=ve.getBoundingClientRect(),Ae=ei(Ve.width)/ve.offsetWidth||1,Me=ei(Ve.height)/ve.offsetHeight||1;return Ae!==1||Me!==1}(a),re=Bn(a),fe=ki(E,X,g),Ee={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(B||!B&&!g)&&((An(a)!=="body"||Ms(re))&&(Ee=(w=a)!==Qt(w)&&un(w)?{scrollLeft:(k=w).scrollLeft,scrollTop:k.scrollTop}:Er(w)),un(a)?((_e=ki(a,!0)).x+=a.clientLeft,_e.y+=a.clientTop):re&&(_e.x=Jt(re))),{x:fe.left+Ee.scrollLeft-_e.x,y:fe.top+Ee.scrollTop-_e.y,width:fe.width,height:fe.height}}function ma(E){var a=new Map,g=new Set,w=[];function k(B){g.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(X){if(!g.has(X)){var re=a.get(X);re&&k(re)}}),w.push(B)}return E.forEach(function(B){a.set(B.name,B)}),E.forEach(function(B){g.has(B.name)||k(B)}),w}var Fs={placement:"bottom",modifiers:[],strategy:"absolute"};function go(){for(var E=arguments.length,a=new Array(E),g=0;g<E;g++)a[g]=arguments[g];return!a.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function ks(E){E===void 0&&(E={});var a=E,g=a.defaultModifiers,w=g===void 0?[]:g,k=a.defaultOptions,B=k===void 0?Fs:k;return function(X,re,fe){fe===void 0&&(fe=B);var Ee,_e,ve={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fs,B),modifiersData:{},elements:{reference:X,popper:re},attributes:{},styles:{}},Ve=[],Ae=!1,Me={state:ve,setOptions:function(Ne){var at=typeof Ne=="function"?Ne(ve.options):Ne;Le(),ve.options=Object.assign({},B,ve.options,at),ve.scrollParents={reference:Ti(X)?os(X):X.contextElement?os(X.contextElement):[],popper:os(re)};var ut,je,nt=function(We){var Qe=ma(We);return co.reduce(function(st,lt){return st.concat(Qe.filter(function(rt){return rt.phase===lt}))},[])}((ut=[].concat(w,ve.options.modifiers),je=ut.reduce(function(We,Qe){var st=We[Qe.name];return We[Qe.name]=st?Object.assign({},st,Qe,{options:Object.assign({},st.options,Qe.options),data:Object.assign({},st.data,Qe.data)}):Qe,We},{}),Object.keys(je).map(function(We){return je[We]})));return ve.orderedModifiers=nt.filter(function(We){return We.enabled}),ve.orderedModifiers.forEach(function(We){var Qe=We.name,st=We.options,lt=st===void 0?{}:st,rt=We.effect;if(typeof rt=="function"){var Ct=rt({state:ve,name:Qe,instance:Me,options:lt});Ve.push(Ct||function(){})}}),Me.update()},forceUpdate:function(){if(!Ae){var Ne=ve.elements,at=Ne.reference,ut=Ne.popper;if(go(at,ut)){ve.rects={reference:ga(at,is(ut),ve.options.strategy==="fixed"),popper:wi(ut)},ve.reset=!1,ve.placement=ve.options.placement,ve.orderedModifiers.forEach(function(rt){return ve.modifiersData[rt.name]=Object.assign({},rt.data)});for(var je=0;je<ve.orderedModifiers.length;je++)if(ve.reset!==!0){var nt=ve.orderedModifiers[je],We=nt.fn,Qe=nt.options,st=Qe===void 0?{}:Qe,lt=nt.name;typeof We=="function"&&(ve=We({state:ve,options:st,name:lt,instance:Me})||ve)}else ve.reset=!1,je=-1}}},update:(Ee=function(){return new Promise(function(Ne){Me.forceUpdate(),Ne(ve)})},function(){return _e||(_e=new Promise(function(Ne){Promise.resolve().then(function(){_e=void 0,Ne(Ee())})})),_e}),destroy:function(){Le(),Ae=!0}};if(!go(X,re))return Me;function Le(){Ve.forEach(function(Ne){return Ne()}),Ve=[]}return Me.setOptions(fe).then(function(Ne){!Ae&&fe.onFirstUpdate&&fe.onFirstUpdate(Ne)}),Me}}var ya=ks(),va=ks({defaultModifiers:[rs,Ir,vr,fr]}),xr=ks({defaultModifiers:[rs,Ir,vr,fr,wr,Hi,Sr,yr,Tr]});const mo=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:ks,detectOverflow:ii,createPopperBase:ya,createPopper:xr,createPopperLite:va,top:ht,bottom:St,right:Dt,left:zt,auto:gi,basePlacements:mi,start:Qn,end:Mi,clippingParents:yi,viewport:vi,popper:Ei,reference:cr,variationPlacements:Xt,placements:Bt,beforeRead:Cs,read:ao,afterRead:ur,beforeMain:dr,main:_i,afterMain:bi,beforeWrite:As,write:ns,afterWrite:lo,modifierPhases:co,applyStyles:fr,arrow:yr,computeStyles:vr,eventListeners:rs,flip:Hi,hide:Tr,offset:wr,popperOffsets:Ir,preventOverflow:Sr},Symbol.toStringTag,{value:"Module"})),yo="dropdown",vo="ArrowUp",$s="ArrowDown",Cr="click.bs.dropdown.data-api",Gs="keydown.bs.dropdown.data-api",Ui="show",Si='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ar=`${Si}.show`,Or=".dropdown-menu",Ea=T()?"top-end":"top-start",_a=T()?"top-start":"top-end",as=T()?"bottom-end":"bottom-start",Eo=T()?"bottom-start":"bottom-end",Dr=T()?"left-start":"right-start",ba=T()?"right-start":"left-start",Ta={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},wa={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class s extends Ce{constructor(a,g){super(a,g),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,Or)[0]||Pe.prev(this._element,Or)[0],this._inNavbar=this._detectNavbar()}static get Default(){return Ta}static get DefaultType(){return wa}static get NAME(){return yo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!N.trigger(this._element,"show.bs.dropdown",a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))N.on(g,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ui),this._element.classList.add(Ui),N.trigger(this._element,"shown.bs.dropdown",a)}}hide(){if(p(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!N.trigger(this._element,"hide.bs.dropdown",a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))N.off(g,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ui),this._element.classList.remove(Ui),this._element.setAttribute("aria-expanded","false"),et.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,"hidden.bs.dropdown",a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!l(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${yo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(mo===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:l(this._config.reference)?a=c(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const g=this._getPopperConfig();this._popper=xr(a,this._menu,g)}_isShown(){return this._menu.classList.contains(Ui)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return Dr;if(a.classList.contains("dropstart"))return ba;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?g?_a:Ea:g?Eo:as}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(g=>Number.parseInt(g,10)):typeof a=="function"?g=>a(g,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(et.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...typeof this._config.popperConfig=="function"?this._config.popperConfig(a):this._config.popperConfig}}_selectMenuItem({key:a,target:g}){const w=Pe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>d(k));w.length&&M(w,g,a===$s,!w.includes(g)).focus()}static jQueryInterface(a){return this.each(function(){const g=s.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const g=Pe.find(Ar);for(const w of g){const k=s.getInstance(w);if(!k||k._config.autoClose===!1)continue;const B=a.composedPath(),X=B.includes(k._menu);if(B.includes(k._element)||k._config.autoClose==="inside"&&!X||k._config.autoClose==="outside"&&X||k._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const re={relatedTarget:k._element};a.type==="click"&&(re.clickEvent=a),k._completeHide(re)}}static dataApiKeydownHandler(a){const g=/input|textarea/i.test(a.target.tagName),w=a.key==="Escape",k=[vo,$s].includes(a.key);if(!k&&!w||g&&!w)return;a.preventDefault();const B=this.matches(Si)?this:Pe.prev(this,Si)[0]||Pe.next(this,Si)[0],X=s.getOrCreateInstance(B);if(k)return a.stopPropagation(),X.show(),void X._selectMenuItem(a);X._isShown()&&(a.stopPropagation(),X.hide(),B.focus())}}N.on(document,Gs,Si,s.dataApiKeydownHandler),N.on(document,Gs,Or,s.dataApiKeydownHandler),N.on(document,Cr,s.clearMenus),N.on(document,"keyup.bs.dropdown.data-api",s.clearMenus),N.on(document,Cr,Si,function(E){E.preventDefault(),s.getOrCreateInstance(this).toggle()}),x(s);const o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",u=".sticky-top",h="padding-right",m="margin-right";class y{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,h,g=>g+a),this._setElementAttributes(o,h,g=>g+a),this._setElementAttributes(u,m,g=>g-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,h),this._resetElementAttributes(o,h),this._resetElementAttributes(u,m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,g,w){const k=this.getWidth();this._applyManipulationCallback(a,B=>{if(B!==this._element&&window.innerWidth>B.clientWidth+k)return;this._saveInitialAttribute(B,g);const X=window.getComputedStyle(B).getPropertyValue(g);B.style.setProperty(g,`${w(Number.parseFloat(X))}px`)})}_saveInitialAttribute(a,g){const w=a.style.getPropertyValue(g);w&&et.setDataAttribute(a,g,w)}_resetElementAttributes(a,g){this._applyManipulationCallback(a,w=>{const k=et.getDataAttribute(w,g);k!==null?(et.removeDataAttribute(w,g),w.style.setProperty(g,k)):w.style.removeProperty(g)})}_applyManipulationCallback(a,g){if(l(a))g(a);else for(const w of Pe.find(a,this._element))g(w)}}const b="show",R="mousedown.bs.backdrop",A={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},F={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class j extends Yt{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return A}static get DefaultType(){return F}static get NAME(){return"backdrop"}show(a){if(!this._config.isVisible)return void P(a);this._append();const g=this._getElement();this._config.isAnimated&&I(g),g.classList.add(b),this._emulateAnimation(()=>{P(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(b),this._emulateAnimation(()=>{this.dispose(),P(a)})):P(a)}dispose(){this._isAppended&&(N.off(this._element,R),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=c(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),N.on(a,R,()=>{P(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){G(a,this._getElement(),this._config.isAnimated)}}const K=".bs.focustrap",W="backward",ce={autofocus:!0,trapElement:null},De={autofocus:"boolean",trapElement:"element"};class Xe extends Yt{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ce}static get DefaultType(){return De}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,K),N.on(document,"focusin.bs.focustrap",a=>this._handleFocusin(a)),N.on(document,"keydown.tab.bs.focustrap",a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,K))}_handleFocusin(a){const{trapElement:g}=this._config;if(a.target===document||a.target===g||g.contains(a.target))return;const w=Pe.focusableChildren(g);w.length===0?g.focus():this._lastTabNavDirection===W?w[w.length-1].focus():w[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?W:"forward")}}const Be="hidden.bs.modal",Rt="show.bs.modal",Et="modal-open",mn="show",dn="modal-static",qe={backdrop:!0,focus:!0,keyboard:!0},xi={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ue extends Ce{constructor(a,g){super(a,g),this._dialog=Pe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new y,this._addEventListeners()}static get Default(){return qe}static get DefaultType(){return xi}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||N.trigger(this._element,Rt,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Et),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const a of[window,this._dialog])N.off(a,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new j({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xe({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=Pe.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),I(this._element),this._element.classList.add(mn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,"shown.bs.modal",{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,"keydown.dismiss.bs.modal",a=>{if(a.key==="Escape")return this._config.keyboard?(a.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),N.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,"mousedown.dismiss.bs.modal",a=>{N.one(this._element,"click.dismiss.bs.modal",g=>{this._dialog.contains(a.target)||this._dialog.contains(g.target)||(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Et),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Be)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(dn)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(dn),this._queueCallback(()=>{this._element.classList.remove(dn),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),w=g>0;if(w&&!a){const k=T()?"paddingLeft":"paddingRight";this._element.style[k]=`${g}px`}if(!w&&a){const k=T()?"paddingRight":"paddingLeft";this._element.style[k]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,g){return this.each(function(){const w=Ue.getOrCreateInstance(this,a);if(typeof a=="string"){if(w[a]===void 0)throw new TypeError(`No method named "${a}"`);w[a](g)}})}}N.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(E){const a=i(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),N.one(a,Rt,w=>{w.defaultPrevented||N.one(a,Be,()=>{d(this)&&this.focus()})});const g=Pe.findOne(".modal.show");g&&Ue.getInstance(g).hide(),Ue.getOrCreateInstance(a).toggle(this)}),ft(Ue),x(Ue);const pt="show",zi="showing",Bs="hiding",yn=".offcanvas.show",Vi="hidePrevented.bs.offcanvas",vn="hidden.bs.offcanvas",si={backdrop:!0,keyboard:!0,scroll:!1},ri={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _t extends Ce{constructor(a,g){super(a,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return si}static get DefaultType(){return ri}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||N.trigger(this._element,"show.bs.offcanvas",{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new y().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zi),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(pt),this._element.classList.remove(zi),N.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bs),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(pt,Bs),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new y().reset(),N.trigger(this._element,vn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new j({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Vi)}:null})}_initializeFocusTrap(){return new Xe({trapElement:this._element})}_addEventListeners(){N.on(this._element,"keydown.dismiss.bs.offcanvas",a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Vi))})}static jQueryInterface(a){return this.each(function(){const g=_t.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);g[a](this)}})}}N.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(E){const a=i(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),p(this))return;N.one(a,vn,()=>{d(this)&&this.focus()});const g=Pe.findOne(yn);g&&g!==a&&_t.getInstance(g).hide(),_t.getOrCreateInstance(a).toggle(this)}),N.on(window,"load.bs.offcanvas.data-api",()=>{for(const E of Pe.find(yn))_t.getOrCreateInstance(E).show()}),N.on(window,"resize.bs.offcanvas",()=>{for(const E of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(E).position!=="fixed"&&_t.getOrCreateInstance(E).hide()}),ft(_t),x(_t);const Rr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ia=(E,a)=>{const g=E.nodeName.toLowerCase();return a.includes(g)?!Rr.has(g)||!!(Hn.test(E.nodeValue)||Un.test(E.nodeValue)):a.filter(w=>w instanceof RegExp).some(w=>w.test(g))},_o={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Sa={allowList:_o,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},tt={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Hs={entry:"(string|element|function|null)",selector:"(string|element)"};class En extends Yt{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return Sa}static get DefaultType(){return tt}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[k,B]of Object.entries(this._config.content))this._setContent(a,B,k);const g=a.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&g.classList.add(...w.split(" ")),g}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[g,w]of Object.entries(a))super._typeCheckConfig({selector:g,entry:w},Hs)}_setContent(a,g,w){const k=Pe.findOne(w,a);k&&((g=this._resolvePossibleFunction(g))?l(g)?this._putElementInTemplate(c(g),k):this._config.html?k.innerHTML=this._maybeSanitize(g):k.textContent=g:k.remove())}_maybeSanitize(a){return this._config.sanitize?function(g,w,k){if(!g.length)return g;if(k&&typeof k=="function")return k(g);const B=new window.DOMParser().parseFromString(g,"text/html"),X=[].concat(...B.body.querySelectorAll("*"));for(const re of X){const fe=re.nodeName.toLowerCase();if(!Object.keys(w).includes(fe)){re.remove();continue}const Ee=[].concat(...re.attributes),_e=[].concat(w["*"]||[],w[fe]||[]);for(const ve of Ee)Ia(ve,_e)||re.removeAttribute(ve.nodeName)}return B.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return typeof a=="function"?a(this):a}_putElementInTemplate(a,g){if(this._config.html)return g.innerHTML="",void g.append(a);g.textContent=a.textContent}}const Wi=new Set(["sanitize","allowList","sanitizeFn"]),Pr="fade",Us="show",Lr=".modal",oi="hide.bs.modal",qi="hover",zn="focus",bo={AUTO:"auto",TOP:"top",RIGHT:T()?"left":"right",BOTTOM:"bottom",LEFT:T()?"right":"left"},ls={allowList:_o,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Dn extends Ce{constructor(a,g){if(mo===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return ls}static get DefaultType(){return zs}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(a){if(this._isEnabled){if(a){const g=this._initializeOnDelegatedTarget(a);return g._activeTrigger.click=!g._activeTrigger.click,void(g._isWithActiveTrigger()?g._enter():g._leave())}this._isShown()?this._leave():this._enter()}}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Lr),oi,this._hideModalHandler),this.tip&&this.tip.remove(),this._config.originalTitle&&this._element.setAttribute("title",this._config.originalTitle),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=N.trigger(this._element,this.constructor.eventName("show")),g=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!g)return;this.tip&&(this.tip.remove(),this.tip=null);const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(w),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(w),w.classList.add(Us),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))N.on(B,"mouseover",_);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown()||N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const a=this._getTipElement();if(a.classList.remove(Us),"ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))N.off(g,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||a.remove(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const g=this._getTemplateFactory(a).toHtml();if(!g)return null;g.classList.remove(Pr,Us),g.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return g.setAttribute("id",w),this._isAnimated()&&g.classList.add(Pr),g}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new En({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Pr)}_isShown(){return this.tip&&this.tip.classList.contains(Us)}_createPopper(a){const g=typeof this._config.placement=="function"?this._config.placement.call(this,a,this._element):this._config.placement,w=bo[g.toUpperCase()];return xr(this._element,a,this._getPopperConfig(w))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(g=>Number.parseInt(g,10)):typeof a=="function"?g=>a(g,this._element):a}_resolvePossibleFunction(a){return typeof a=="function"?a.call(this._element):a}_getPopperConfig(a){const g={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...g,...typeof this._config.popperConfig=="function"?this._config.popperConfig(g):this._config.popperConfig}}_setListeners(){const a=this._config.trigger.split(" ");for(const g of a)if(g==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>this.toggle(w));else if(g!=="manual"){const w=g===qi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=g===qi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,w,this._config.selector,B=>{const X=this._initializeOnDelegatedTarget(B);X._activeTrigger[B.type==="focusin"?zn:qi]=!0,X._enter()}),N.on(this._element,k,this._config.selector,B=>{const X=this._initializeOnDelegatedTarget(B);X._activeTrigger[B.type==="focusout"?zn:qi]=X._element.contains(B.relatedTarget),X._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Lr),oi,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const a=this._config.originalTitle;a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,g){clearTimeout(this._timeout),this._timeout=setTimeout(a,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const g=et.getDataAttributes(this._element);for(const w of Object.keys(g))Wi.has(w)&&delete g[w];return a={...g,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:c(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),a.originalTitle=this._element.getAttribute("title")||"",typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const g in this._config)this.constructor.Default[g]!==this._config[g]&&(a[g]=this._config[g]);return a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(a){return this.each(function(){const g=Dn.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a]()}})}}x(Dn);const Mr={...Dn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},xa={...Dn.DefaultType,content:"(null|string|element|function)"};class Ci extends Dn{static get Default(){return Mr}static get DefaultType(){return xa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const g=Ci.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a]()}})}}x(Ci);const Vs="click.bs.scrollspy",Ai="active",To="[href]",Nr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class S extends Ce{constructor(a,g){super(a,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Nr}static get DefaultType(){return wo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=c(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(g=>Number.parseFloat(g))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,Vs),N.on(this._config.target,Vs,To,a=>{const g=this._observableSections.get(a.target.hash);if(g){a.preventDefault();const w=this._rootElement||window,k=g.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:k,behavior:"smooth"});w.scrollTop=k}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),a)}_observerCallback(a){const g=X=>this._targetLinks.get(`#${X.target.id}`),w=X=>{this._previousScrollData.visibleEntryTop=X.target.offsetTop,this._process(g(X))},k=(this._rootElement||document.documentElement).scrollTop,B=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const X of a){if(!X.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(X));continue}const re=X.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&re){if(w(X),!k)return}else B||re||w(X)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=Pe.find(To,this._config.target);for(const g of a){if(!g.hash||p(g))continue;const w=Pe.findOne(g.hash,this._element);d(w)&&(this._targetLinks.set(g.hash,g),this._observableSections.set(g.hash,w))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(Ai),this._activateParents(a),N.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))Pe.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(Ai);else for(const g of Pe.parents(a,".nav, .list-group"))for(const w of Pe.prev(g,".nav-link, .nav-item > .nav-link, .list-group-item"))w.classList.add(Ai)}_clearActiveClass(a){a.classList.remove(Ai);const g=Pe.find("[href].active",a);for(const w of g)w.classList.remove(Ai)}static jQueryInterface(a){return this.each(function(){const g=S.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);g[a]()}})}}N.on(window,"load.bs.scrollspy.data-api",()=>{for(const E of Pe.find('[data-bs-spy="scroll"]'))S.getOrCreateInstance(E)}),x(S);const L="ArrowLeft",V="ArrowRight",q="ArrowUp",Z="ArrowDown",ue="active",me="fade",Te="show",ye='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ze=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${ye}`;class Se extends Ce{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,"keydown.bs.tab",g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const g=this._getActiveElem(),w=g?N.trigger(g,"hide.bs.tab",{relatedTarget:a}):null;N.trigger(a,"show.bs.tab",{relatedTarget:g}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(g,a),this._activate(a,g))}_activate(a,g){a&&(a.classList.add(ue),this._activate(i(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.focus(),a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),N.trigger(a,"shown.bs.tab",{relatedTarget:g})):a.classList.add(Te)},a,a.classList.contains(me)))}_deactivate(a,g){a&&(a.classList.remove(ue),a.blur(),this._deactivate(i(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),N.trigger(a,"hidden.bs.tab",{relatedTarget:g})):a.classList.remove(Te)},a,a.classList.contains(me)))}_keydown(a){if(![L,V,q,Z].includes(a.key))return;a.stopPropagation(),a.preventDefault();const g=[V,Z].includes(a.key),w=M(this._getChildren().filter(k=>!p(k)),a.target,g,!0);w&&Se.getOrCreateInstance(w).show()}_getChildren(){return Pe.find(ze,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,g){this._setAttributeIfNotExists(a,"role","tablist");for(const w of g)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const g=this._elemIsActive(a),w=this._getOuterElement(a);a.setAttribute("aria-selected",g),w!==a&&this._setAttributeIfNotExists(w,"role","presentation"),g||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const g=i(a);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`#${a.id}`))}_toggleDropDown(a,g){const w=this._getOuterElement(a);if(!w.classList.contains("dropdown"))return;const k=(B,X)=>{const re=Pe.findOne(B,w);re&&re.classList.toggle(X,g)};k(".dropdown-toggle",ue),k(".dropdown-menu",Te),k(".dropdown-item",ue),w.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(a,g,w){a.hasAttribute(g)||a.setAttribute(g,w)}_elemIsActive(a){return a.classList.contains(ue)}_getInnerElement(a){return a.matches(ze)?a:Pe.findOne(ze,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const g=Se.getOrCreateInstance(this);if(typeof a=="string"){if(g[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);g[a]()}})}}N.on(document,"click.bs.tab",ye,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),p(this)||Se.getOrCreateInstance(this).show()}),N.on(window,"load.bs.tab",()=>{for(const E of Pe.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Se.getOrCreateInstance(E)}),x(Se);const Re="hide",He="show",Ie="showing",ot={animation:"boolean",autohide:"boolean",delay:"number"},Zt={animation:!0,autohide:!0,delay:5e3};class bt extends Ce{constructor(a,g){super(a,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zt}static get DefaultType(){return ot}static get NAME(){return"toast"}show(){N.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Re),I(this._element),this._element.classList.add(He,Ie),this._queueCallback(()=>{this._element.classList.remove(Ie),N.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ie),this._queueCallback(()=>{this._element.classList.add(Re),this._element.classList.remove(Ie,He),N.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(He),super.dispose()}isShown(){return this._element.classList.contains(He)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,g){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const w=a.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,"mouseover.bs.toast",a=>this._onInteraction(a,!0)),N.on(this._element,"mouseout.bs.toast",a=>this._onInteraction(a,!1)),N.on(this._element,"focusin.bs.toast",a=>this._onInteraction(a,!0)),N.on(this._element,"focusout.bs.toast",a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const g=bt.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a](this)}})}}return ft(bt),x(bt),{Alert:Nt,Button:Je,Carousel:be,Collapse:Cn,Dropdown:s,Modal:Ue,Offcanvas:_t,Popover:Ci,ScrollSpy:S,Tab:Se,Toast:bt,Tooltip:Dn}});document.addEventListener("DOMContentLoaded",()=>{Fancybox.bind("[data-fancybox]",{}),Fancybox.bind("img.data-fancybox",{}),Fancybox.bind(".data-fancybox img",{}),$(".alert-click-hide").on("click",function(){$(this).fadeOut()}),toastr.options={progressBar:!0,preventDuplicates:!0,newestOnTop:!0,positionClass:"toast-top-left",timeOut:1e4},toastr,new Favico({bgColor:"#dc0000",textColor:"#fff",animation:"slide",fontStyle:"bold",fontFamily:"sans",type:"circle"})});export{xy as $,Oy as F,Ze as R,Oe as S,Dy as a,ll as b,zm as c,Wm as d,Cy as f,ml as g,Hm as p,eu as r,ul as s,Ay as t};
